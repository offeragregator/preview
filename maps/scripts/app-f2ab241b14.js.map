{"version":3,"sources":["scripts/app.js"],"names":["MarkerClusterer","map","opt_markers","opt_options","this","extend","google","maps","OverlayView","map_","markers_","clusters_","sizes","styles_","ready_","options","gridSize_","minClusterSize_","maxZoom_","imagePath_","MARKER_CLUSTER_IMAGE_PATH_","imageExtension_","MARKER_CLUSTER_IMAGE_EXTENSION_","zoomOnClick_","undefined","averageCenter_","setupStyles_","setMap","prevZoom_","getZoom","that","event","addListener","zoom","resetViewport","redraw","length","addMarkers","Cluster","markerClusterer","markerClusterer_","getMap","getGridSize","getMinClusterSize","isAverageCenter","center_","bounds_","clusterIcon_","ClusterIcon","getStyles","cluster","styles","opt_padding","getMarkerClusterer","padding_","cluster_","div_","sums_","visible_","angular","module","openTermsDirective","restrict","link","scope","elem","attr","openModal","href","window","cordova","ThemeableBrowser","open","statusbar","color","toolbar","height","title","showPageTitle","backButtonCanClose","bind","directive","runMoment","amMoment","AppConfig","langvar","navigator","language","userlanguage","userlangvar","split","preferredLocale","searchLang","_","some","locales","code","filter","item","changeLocale","configLanguage","$translatePartialLoaderProvider","$translateProvider","tmhDynamicLocaleProvider","useLoader","urlTemplate","useSanitizeValueStrategy","useMissingTranslationHandlerLog","useLocalStorage","localeLocationPattern","preferredLanguage","$inject","config","run","constant","path","$ionicPopup","$ionicPopover","$rootScope","Loading","$translate","User","Gallery","Toast","$ionicModal","$scope","allImages","ngModel","activeSlide","index","indexActual","console","log","fromTemplateUrl","then","modal","show","slideChanged","openPopover","$event","popover","slidepopover","closePopover","hide","editPhoto","deletePhoto","gallery","confirm","instant","template","res","start","get","id","destroy","alert","text","$emit","closeModal","end","onReload","remove","canEdit","i","s","o","g","r","a","m","q","push","arguments","l","Date","createElement","getElementsByTagName","async","src","parentNode","insertBefore","document","ga","cookieDomain","configImgCache","ImgCacheProvider","setOption","setOptions","debug","usePersistentCache","manualInit","runImgCache","$ionicPlatform","ImgCache","ready","$init","configCompile","$compileProvider","debugInfoEnabled","startParse","Parse","ParsePush","$localStorage","$location","init","appId","parse","server","currentUser","user","current","unit","mapType","type","runIonic","$cordovaGlobalization","$cordovaSplashscreen","theme","plugins","Keyboard","disableScroll","StatusBar","styleLightContent","lang","use","globalization","getPreferredLanguage","value","splashscreen","configIonic","$ionicConfigProvider","platform","ios","backButton","previousTitleText","icon","android","views","swipeBackEnabled","tabs","position","navBar","alignTitle","maxCache","configFacebook","$facebookProvider","setAppId","facebookAppId","setPermissions","runFacebook","LangVar","userLanguage","userLangVar","substring","toUpperCase","d","js","fjs","getElementById","app","name","url","image","routes","home","login","translation","$stateProvider","$urlRouterProvider","addPart","state","templateUrl","controller","controllerAs","abstract","$state","logOut","$reset","go","clear","tabHome","tabSearch","tabActivity","tabProfile","otherwise","prototype","obj1","obj2","object","property","apply","onAdd","setReady_","draw","size","width","fitMapToMarkers","marker","markers","getMarkers","bounds","LatLngBounds","getPosition","fitBounds","setStyles","isZoomOnClick","getTotalMarkers","setMaxZoom","maxZoom","getMaxZoom","calculator_","numStyles","count","dv","parseInt","Math","min","setCalculator","calculator","getCalculator","opt_nodraw","pushMarkerTo_","isAdded","repaint","addMarker","removeMarker_","indexOf","splice","removeMarker","removed","removeMarkers","createClusters_","getTotalClusters","setGridSize","setMinClusterSize","getExtendedBounds","projection","getProjection","tr","LatLng","getNorthEast","lat","lng","bl","getSouthWest","trPix","fromLatLngToDivPixel","x","y","blPix","ne","fromDivPixelToLatLng","sw","isMarkerInBounds_","contains","clearMarkers","opt_hide","oldClusters","slice","setTimeout","distanceBetweenPoints_","p1","p2","R","dLat","PI","dLon","sin","cos","c","atan2","sqrt","addToClosestCluster_","distance","clusterToAddTo","center","getCenter","isMarkerInClusterBounds","mapBounds","getBounds","isMarkerAlreadyAdded","calculateBounds_","len","updateIcon","getSize","mz","sums","setCenter","setSums","triggerClusterClick","trigger","pos","getPosFromLatLng_","style","cssText","createCss","innerHTML","panes","getPanes","overlayMouseTarget","appendChild","isDragging","addDomListener","latlng","iconAnchor_","width_","height_","top","left","display","onRemove","removeChild","text_","index_","useStyle","max","url_","textColor_","anchor_","textSize_","backgroundPosition_","backgroundPosition","txtColor","txtSize","join","signinModalDirective","signinModalLink","routeLogged","form","username","password","submitLogin","rForm","data","copy","$valid","signIn","resp","forgotPass","subTitle","buttons","onTap","e","email","recoverPassword","preventDefault","animation","focusFirstInput","$on","signupModalDirective","signupModalLink","submitRegister","signUp","error","albumGridDirective","GalleryAlbum","albumGridLink","loadFeed","loading","list","params","create","page","showEmptyView","moreDataCanBeLoaded","$broadcast","showErrorView","objectId","unshift","search","onLoadMore","profile","albumPhotoGridDirective","Dialog","PhotoService","ParseFile","albumPhotoGridCtrl","getAlbum","album","attributes","photos","$digest","edit","closeAlbumPhotoGridModal","uploadPhoto","modalPost","upload","base64","imageUploaded","editAlbum","description","modalAlbum","createAlbum","save","deleteAlbum","message","buyDirective","$cordovaInAppBrowser","buyLink","closeButton","imagePressed","align","compareToDirective","targetModel","require","element","attrs","ctrl","compare","e1","val","e2","$watch","newValue","$setValidity","distanceModalDirective","distanceModalLink","storage","distances","onDistanceSelected","closeDistanceModal","emailValidatorDirective","emailValidatorLink","$asyncValidators","modelValue","viewValue","validateEmail","facebookLoginDirective","Facebook","facebookLoginLink","onLoginViaFacebook","getCurrentUser","response","status","processFacebookLogin","logIn","authData","fbAuthData","fbData","newUser","me","findByEmail","signInViaFacebook","deferred","$q","defer","reject","promise","facebook","updateWithFacebookData","facebookStatus","focusMeDirective","$timeout","openKeyboard","focus","click","galleryAlbumModalDirective","galleryAlbumModalLink","err","selectAlbum","galleryNewAlbumModalDirective","galleryNewAlbumModalLink","heartDirective","heartLink","addClass","ionLoading","runLoading","$ionicLoading","$cordovaProgress","showLoading","showSimple","hideLoading","seconds","factory","PhotogramLoadingDirective","mapPhotoUserDirective","Geolocation","mapPhotoUserLink","galleries","removeGallerys","latitude","longitude","mapOptions","setPosition","mapTypeId","MapTypeId","ROADMAP","Map","myPosition","getCurrentPosition","location","coords","loadGallerys","errorMessage","markerOption","Animation","DROP","Size","scaledSize","origin","Point","anchor","Marker","imagePath","latlngbounds","setGallerys","imageThumb","feed","maxRating","limit","onSearchHere","onGalleryClicked","load","photogramFollowDirective","Photogram","modalFollow","getFollow","photoGridDirective","Share","FeedbackModal","$ionicActionSheet","photoGridCtrl","action","actionButtons","share","user_id","buttonDelete","img","actionSheet","titleText","cancelText","buttonClicked","photoLikeDirective","_model","progress","liked","likeGallery","galleryId","likes","isLiked","likesTotal","photoListDirective","photoListController","pet","ev","privacity","openComment","itemShare","userName","openLikers","profileModalEditDirective","photo","gender","linkFacebook","logout","submitUpdateProfile","localStorage","facebookLink","dataForm","unsubscribe","subscribe","update","profileModalDirective","profileModalLink","follow","loadingFollow","userObj","isFollow","followersTotal","modalProfile","changeTab","tab","grid","ionSearchDirective","getData","watchSearch","minLength","str","results","placeholder","input","$apply","source","settingsModalDirective","Auth","getLoggedUser","languages","modalSetting","closeSettingModal","sref","usernameValidatorDirective","usernameValidatorLink","validateUsername","validatedDirective","inputs","find","getNamedItem","field","$submitted","inp","hasClass","removeClass","validatedSubmitDirective","$parse","fn","onSubmit","on","hashtag","$filter","target","replacedText","targetAttr","isDefined","replacePattern1","replace","replacePattern2","words","isNaN","inputWords","global","exports","define","amd","moment","processRelativeTime","number","withoutSuffix","key","isFuture","format","h","dd","M","MM","yy","de","defineLocale","months","monthsShort","monthsParseExact","weekdays","weekdaysShort","weekdaysMin","weekdaysParseExact","longDateFormat","LT","LTS","L","LL","LLL","LLLL","calendar","sameDay","sameElse","nextDay","nextWeek","lastDay","lastWeek","relativeTime","future","past","mm","hh","ordinalParse","ordinal","week","dow","doy","symbolMap","1","2","3","4","5","6","7","8","9","0","numberMap","۱","۲","۳","۴","۵","۶","۷","۸","۹","۰","fa","meridiemParse","isPM","test","meridiem","hour","minute","isLower","preparse","string","match","postformat","pt_br","day","$provide","PLURAL_CATEGORY","ZERO","ONE","TWO","FEW","MANY","OTHER","DATETIME_FORMATS","AMPMS","DAY","ERANAMES","ERAS","FIRSTDAYOFWEEK","MONTH","SHORTDAY","SHORTMONTH","STANDALONEMONTH","WEEKENDRANGE","fullDate","longDate","medium","mediumDate","mediumTime","short","shortDate","shortTime","NUMBER_FORMATS","CURRENCY_SYM","DECIMAL_SEP","GROUP_SEP","PATTERNS","gSize","lgSize","maxFrac","minFrac","minInt","negPre","negSuf","posPre","posSuf","pluralCat","n","opt_precision","ActionSheetFactory","Camera","$cordovaActionSheet","option","sourceType","getPicture","resolve","buttonLabels","addCancelButtonWithLabel","androidEnableCancelButton","androidTheme","actionsheet","ANDROID_THEMES","THEME_HOLO_LIGHT","btnIndex","cancel","setSessionToken","sessionToken","mSessionToken","ensureLoggedIn","become","requestPasswordReset","success","resetPassword","obj","CameraFactory","$cordovaCamera","PictureSourceType","CAMERA","PHOTOLIBRARY","quality","targetWidth","targetHeight","saveToPhotoAlbum","correctOrientation","destinationType","DestinationType","DATA_URL","encodingType","EncodingType","JPEG","fileInput","evt","tempImage","currentTarget","files","reader","FileReader","onload","result","readAsDataURL","toBase64Image","img_path","imageResizer","resizeImage","imageDataType","ImageResizer","IMAGE_DATA_TYPE_URL","resizeType","RESIZE_TYPE_FACTOR","RESIZE_TYPE_MIN_PIXEL","pixelDensity","storeImage","photoAlbum","service","ConnectMonitorFactory","$cordovaNetwork","watch","ionic","Platform","isWebView","onLine","isOnline","networkState","addEventListener","DataUtilFactory","parseData","parts","parseString","toLocaleDateString","getDate","inicio","year","getFullYear","month","getMonth","formatDate","milliseconds","getMonthName","meses","getFirstDay","getLastDay","DialogFactory","$cordovaDialogs","buttonsText","FacebookFactory","$facebook","$cordovaFacebook","getLoginStatus","postImage","method","picture","_url","caption","ui","postImage1","api","published","getFriends","getMe","fields","invite","showDialog","friends","FacebookUtils","String","authResponse","userID","access_token","accessToken","expiration_date","getTime","toString","set","Boolean","ParseObject","Object","getStatus","isApproved","Cloud","all","query","Query","order","ascending","descending","date","startOf","endOf","greaterThanOrEqualTo","toDate","lessThanOrEqualTo","doesNotExist","equalTo","include","skip","defineProperty","GeoPoint","GalleryFactory","parseObject","itemId","objPlace","address","geo","comments","expiresAt","GeolocationFactory","$cordovaGeolocation","geolocation","timeout","enableHighAccuracy","maximumAge","file","ext","filename","File","ParsePushFactory","ParsePushPlugin","getInstallationId","subscribeUser","getSubscriptions","subscriptions","callback","channel","ParseFactory","$window","initialize","serverURL","ShareFactory","$cordovaSocialSharing","warn","TAG","ToastFactory","$cordovaToast","okType","msg","UserFactory","$cordovaDevice","getFollowers","getLikers","getFollowing","toLowerCase","updateUser","device","getDevice","getCordova","model","getModel","getPlatform","uuid","getUUID","version","getVersion","userAgent","roleName","facebookAuthData","fetch","applicationId","getPublicData","first","userData","Promise","setPhoto","parseFile","userId","forEach","delete","default_config","bgcolor","semi","rounded","clockwise","radius","stroke","iterations","interval","showProgressCircleInBrowser","showProgressCircleInDevice","provider","t","$get","_cache","cache_src","getCacheDir","localUrl","$interval","$compile","$cacheSrc","$cordovaFileTransfer","onProgress","onFinish","onError","possible","charAt","floor","random","makeProgressCircle","startsWith","arr","sub_str","needDownload","attrToScope","textAlign","isIOS","isAndroid","progress_circle","documentsDirectory","dataDirectory","cache","finish","css","addSrc","srcIs","$observe","cacheSrc","after","pop","fileName","download","loaded","total","lastTime","vendors","requestAnimationFrame","cancelAnimationFrame","currTime","timeToCall","clearTimeout","responsive","duration","animationDelay","offset","polarToCartesian","centerX","centerY","angleInDegrees","angleInRadians","isNumber","base","head","querySelector","isSupported","createElementNS","createSVGRect","resolveColor","hashIndex","toNumber","parseFloat","getOffset","parent","$parent","hasOwnProperty","opts","$$getRoundProgressOptions","getTimestamp","performance","now","updateState","pathRadius","elementRadius","isSemicircle","perc","arcSweep","animations","linearEase","b","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","pow","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","p","abs","asin","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","roundProgressConfig","transclude","onRender","optionIsSpecified","lastTimeoutId","parentChangedListener","isNested","svg","eq","ring","background","lastAnimationId","renderCircle","diameter","backgroundSize","overflow","setAttribute","paddingBottom","strokeWidth","strokeLinecap","cx","cy","renderState","oldValue","preventAnimationOverride","changeInValue","easingAnimation","preventAnimation","circleSize","aria-valuemax","aria-valuenow","doAnimation","startTime","currentTime","animateTo","keys","$watchGroup","directiveName","nodeName","ionLanguageDirective","modalLanguageLink","searchValue","selectLanguage","GeoServiceFactory","$http","getLocation","posOptions","findMe","getGoogleAddress","logErr","address_normal","formatted_address","address_components","imagem","numero","short_name","rua","long_name","bairro","cidade","estado","uf","pais","paisCode","cep","w","parseAddress","place","resume","geometry","addressType","types","componentForm","componentFormName","street","city","country","searchAddress","autocompleteService","getQueryPredictions","getDetails","placeId","detailsService","places","AutocompleteService","PlacesService","street_number","route","locality","sublocality","neighborhood","political","administrative_area_level_1","postal_code","ionLocationDirective","GeoService","ionLocationLink","suggestions","selectPlace","place_id","closeModalLocation","choosePlace","modalLocation","fromTemplate","loading1","FeedbackModalFactory","GalleryFeedback","GalleryFeedbackForm","submitFeedback","$new","formFields","photogramId","subject","GalleryFeedbackFormFactory","templateOptions","required","label","valueProp","labelProp","iconPlaceholder","feedbackDirective","stop","GalleryCommentController","$stateParams","$document","$ionicScrollDelegate","$ionicHistory","GalleryComment","nocomments","getComments","commentFoccus","comment","scrollBottom","goBack","myIndexValue","searchPeople","term","peopleList","each","imageUrl","bio","people","when","getPeopleTextRaw","deleteComment","editComment","formEdit","submitComment","LoadingController","ProfileController","vm","empty","more","isMe","openFollowers","openFollowing","GalleryShareFactory","facebookShare","modalFilter","closeAddress","close","submit","MainTabController","GalleryShare","clearBadge","badge","clearHistory","pn","JSON","stringify","$applyAsync","postPhoto","AccountController","getFollower","loadingFollowers","loadingFollowing","loadingPhotos","buttonTheme","ActivityController","GalleryActivity","openProfile","HomeController","onFeed","SearchCtrl","onSearch","clearSearch","SearchMapController","myLocation","scopes","states","loadMyLocation","UserAvatarController","submitAvatar","userAvatarDirective","ActionSheet","UserFollowerController","users","UserFollowingController","UserIntroController","$ionicSlideBoxDelegate","currentPlatform","slideIndex","next","previous","slides","UserLikerController","UserListController","UserMergeController","tempUser","submitMerge","table","recoveryPassDirective","register","recovery","erro","button","$viewValue","isUndefined","forgot","UserRecoveryPassController","submitForgot","ionCropDirective","$jrCrop","ionCropLink","getElem","fileUpload","crop","chooseText","canvas","toDataURL","cropSave","sliderFilterDirective","sliderFilterLink","slider","setSlider","jrCropController","View","inherit","imgWidth","imgHeight","imgSelect","imgFull","posX","posY","scale","rotate","last_scale","last_posX","last_posY","last_rotate","self","loadImage","naturalWidth","naturalHeight","el","cloneNode","bindHandlers","initImage","imgAspectRatio","selectAspectRatio","setImageTransform","setPosWithinBoundaries","calcMaxPos","min_pos_x","max_pos_x","min_pos_y","max_pos_y","currWidth","currHeight","scaleMin","transforming_correctX","transforming_correctY","scaleMax","image_ratio","cropper_ratio","prevent_default_directions","onGesture","gesture","deltaX","deltaY","rotation","transform","CSS","TRANSFORM","context","getContext","correctX","correctY","sourceX","sourceY","translate","drawImage","prop","defaultOptions","aspectRatio","initOptions","_options","PhotoServiceFactory","$cordovaCapture","deviceInformation","setting","allowRotation","allowEdit","popoverOptions","CameraPopoverOptions","capture","cropModal","jrCrop","getVideo","captureVideo","mediaFiles","fullPath","VideoFactory","createFileEntry","fileURI","resolveLocalFileSystemURL","entry","copyFile","fail","fileEntry","substr","lastIndexOf","newName","makeid","fileSystem2","copyTo","succ","onCopySuccess","nativeURL","PKVideoThumbnail","createThumbnail","prevSucc","prevImageSuccess","correctUrl","saveVideo","localURL","$templateCache","put"],"mappings":"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C,GAAK,wBACLC,IAAM,mCACNC,KAAO,0CAEXC,UACIC,QAAS,eACTE,QAAS,iBACTC,SAAU,eACVC,QAAS,gBACTC,SAAU,WACN,MAAuB,KAAfjvB,KAAK+xB,OAA8B,IAAf/xB,KAAK+xB,MAC7B,wBACA,yBAERlD,SAAU,KAEdK,cACIC,OAAS,QACTC,KAAO,WACPplB,EAAI,kBACJK,EAAI,YACJglB,GAAK,aACL/B,EAAI,WACJgC,GAAK,WACL3f,EAAI,SACJ4d,GAAK,UACLC,EAAI,SACJC,GAAK,WACLjY,EAAI,SACJkY,GAAK,WAET6B,aAAc,WACdC,QAAU,OAGd,OAAOsC,KAIXvuB,QAAQC,OAAO,eAAiB,WAAY,SAAUwuB,GACpD,GAAIC,IACFC,KAAM,OACNC,IAAK,MACLC,IAAK,MACLC,IAAK,MACLC,KAAM,OACNC,MAAO,QAETP,GAASjkB,MAAM,WACbykB,kBACEC,OACE,KACA,MAEFC,KACE,UACA,gBACA,cACA,eACA,eACA,cACA,UAEFC,UACE,kBACA,iBAEFC,MACE,OACA,QAEFC,eAAkB,EAClBC,OACE,UACA,YACA,QACA,QACA,OACA,QACA,QACA,SACA,WACA,UACA,WACA,YAEFC,UACE,MACA,MACA,MACA,MACA,MACA,MACA,OAEFC,YACE,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEFC,iBACE,UACA,YACA,QACA,QACA,OACA,QACA,QACA,SACA,WACA,UACA,WACA,YAEFC,cACE,EACA,GAEFC,SAAY,2BACZC,SAAY,qBACZC,OAAU,6BACVC,WAAc,oBACdC,WAAc,WACdC,QAAS,iBACTC,UAAa,WACbC,UAAa,SAEfC,gBACEC,aAAgB,KAChBC,YAAe,IACfC,UAAa,IACbC,WACEC,MAAS,EACTC,OAAU,EACVC,QAAW,EACXC,QAAW,EACXC,OAAU,EACVC,OAAU,IACVC,OAAU,GACVC,OAAU,GACVC,OAAU,KAEVR,MAAS,EACTC,OAAU,EACVC,QAAW,EACXC,QAAW,EACXC,OAAU,EACVC,OAAU,KACVC,OAAU,GACVC,OAAU,IAC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","file":"scripts/app-f2ab241b14.js","sourcesContent":["(function () {\n    'use strict';\n\n    angular.module('starter', [\n        'ionic',\n        'ngMessages',\n        'ngCookies',\n        'ngStorage',\n        'pascalprecht.translate', \n        'tmh.dynamicLocale', \n        'angularMoment',\n        'ngFacebook',\n        'angular-cache',\n        'ngSanitize',\n        'mentio',\n        'angulartics',\n        'angulartics.google.analytics',\n        'jett.ionic.scroll.sista',\n        'ion-affix',\n        'ngCordova',\n        'ImgCache',\n        'ionic.components',\n        'angulartics.google.analytics.cordova',\n        'app.main',\n    ]);\n\n})();\n\n(function () {\n    'use strict';\n    angular\n        .module('ionic.components', [\n            'ion-language',\n            'ion-location',\n            'ion-slideshow',\n            'ionic-cache-src',\n            'ion-photo'\n        ]);\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('href', openTermsDirective);\n\n    function openTermsDirective() {\n        return {\n            restrict: 'A',\n            link    : function (scope, elem, attr) {\n\n                elem.bind('click', openModal);\n\n                function openModal() {\n                    var href = attr.href;\n\n                    if (window.cordova) {\n                        window.cordova.ThemeableBrowser.open(href, '_blank', {\n                            statusbar         : {\n                                color: '#ffffffff'\n                            },\n                            toolbar           : {\n                                height: 44,\n                                color : '#f0f0f0ff'\n                            },\n                            title             : {\n                                color        : '#000',\n                                showPageTitle: true\n                            },\n                            backButtonCanClose: true\n                        })\n                        ;\n                    } else {\n                        window.open(href);\n                    }\n\n                    return false;\n                }\n            }\n        };\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('app.main', [\n            'ionic',\n            'ngCordova',\n        ]);\n\n})();\n\n(function () {\n    'use strict';\n\n    angular\n        .module('ion-language', [\n            'ngCookies',\n            'pascalprecht.translate', \n            'tmh.dynamicLocale', \n            'angularMoment' \n        ])\n        .config(configLanguage)\n        .run(runMoment);\n\n\n    function runMoment(amMoment, AppConfig) {\n        var langvar     = navigator.language || navigator.userlanguage;\n        var userlangvar = langvar.split('-')[0];\n        var language    = AppConfig.preferredLocale;\n        var searchLang  = _.some(AppConfig.locales, {\n            code: userlangvar\n        });\n\n        if (searchLang) {\n            language = AppConfig.locales.filter(function (item) {\n                return language == item.code\n            })[0].code;\n        }\n\n        amMoment.changeLocale(language);\n    }\n\n    function configLanguage($translatePartialLoaderProvider, $translateProvider, AppConfig, tmhDynamicLocaleProvider) {\n\n        $translateProvider.useLoader('$translatePartialLoader', {\n            urlTemplate: '{part}/i18n/{lang}.json'\n        });\n        $translateProvider.useSanitizeValueStrategy(null);\n\n        $translateProvider.useMissingTranslationHandlerLog();\n        $translateProvider.useLocalStorage(); \n        tmhDynamicLocaleProvider.localeLocationPattern('../bower_components/angular-i18n/angular-locale_{{locale}}.js');\n\n        var langvar     = navigator.language || navigator.userlanguage;\n        var userlangvar = langvar.split('-')[0];\n        var language    = AppConfig.preferredLocale;\n        var searchLang  = _.some(AppConfig.locales, {\n            code: userlangvar\n        });\n\n        if (searchLang) {\n            language = AppConfig.locales.filter(function (item) {\n                return language == item.code\n            })[0].code;\n        }\n        $translateProvider.preferredLanguage(language);\n    }\n\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('ion-location', [\n      'ionic'\n    ]);\n\n})();\n(function () {\n    'use strict';\n    angular.module('ion-photo', [\n        'ionic',\n        'ngCordova',\n        'jrCrop'\n    ]).constant('config', {\n        path: 'app/component/ion-photo'\n    })\n\n})();\n(function () {\n    'use strict';\n    angular.module('ion-slideshow', [])\n           .directive('ionSlideshow', function ($ionicPopup, $ionicPopover, $rootScope, Loading, $translate, User, Gallery, Toast, $ionicModal) {\n               return {\n                   restrict: 'A',\n                   scope   : {\n                       ngModel: '=',\n                       index  : '=',\n                       canEdit: '='\n                   },\n                   link    : link\n               };\n\n               function link($scope, elem, attr) {\n\n                   elem.bind('click', function () {\n                       $scope.allImages   = $scope.ngModel;\n                       $scope.activeSlide = $scope.index;\n\n                       $scope.indexActual = $scope.index;\n\n                       console.log($scope.index);\n\n                       $ionicModal.fromTemplateUrl('app/component/ion-slideshow/image-popover.html', {\n                           scope: $scope,\n                       }).then(function (modal) {\n                           $scope.modal = modal;\n                           $scope.modal.show();\n                       });\n\n                       $scope.slideChanged = function (index) {\n                           $scope.indexActual = index;\n                       };\n\n                       $scope.openPopover  = function ($event) {\n                           $ionicPopover.fromTemplateUrl('app/component/ion-slideshow/ion-slideshow.popover.html', {\n                               scope: $scope\n                           }).then(function (popover) {\n                               $scope.slidepopover = popover;\n                               $scope.slidepopover.show($event);\n                           });\n                       };\n                       $scope.closePopover = function () {\n                           $scope.slidepopover.hide();\n                       };\n\n\n                       $scope.editPhoto = function () {\n                           $scope.closePopover();\n                       };\n\n\n                       $scope.deletePhoto = function () {\n                           var index   = $scope.indexActual;\n                           var gallery = $scope.allImages[index];\n                           $scope.closePopover();\n\n                           $ionicPopup\n                               .confirm({\n                                   title   : $translate.instant('deleteGalleryConfirmText'),\n                                   template: $translate.instant('areSure')\n                               })\n                               .then(function (res) {\n                                   if (res) {\n                                       Loading.start();\n                                       Gallery.get(gallery.id).then(function (gallery) {\n                                           if (gallery) {\n                                               Gallery.destroy(gallery).then(function () {\n                                                   console.log('Photo deleted');\n                                                   Toast.alert({\n                                                       title: 'Photo',\n                                                       text : 'Photo deleted'\n                                                   });\n                                                   $rootScope.$emit('photogrid:modal:reload', true);\n                                                   $scope.closeModal();\n                                                   Loading.end();\n                                               });\n                                           } else {\n                                               $scope.onReload();\n                                               Loading.end();\n                                           }\n                                       }).catch(function () {\n                                           $scope.onReload();\n                                           Loading.end();\n                                       })\n\n                                   }\n                               });\n                       };\n\n                       $scope.closeModal = function () {\n                           $scope.modal.hide();\n                           $scope.modal.remove()\n                       };\n                   });\n\n\n               }\n           });\n\n})();\n(function () {\n    'use strict';\n    angular\n        .module('app.main');\n\n})();\n\n(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n})(window,document,'script','//www.google-analytics.com/analytics.js','ga');\nga('create', 'UA-53950213-6', { 'cookieDomain': 'none' });\n(function () {\n    'use strict';\n\n    angular\n        .module('starter')\n        .run(startParse)\n        .config(configIonic)\n        .run(runIonic)\n        .run(runFacebook)\n        .config(configFacebook)\n        .run(runImgCache)\n        .config(configImgCache)\n        .config(configCompile)\n    ;\n\n\n    function configImgCache(ImgCacheProvider) {\n        ImgCacheProvider.setOption('debug', true);\n        ImgCacheProvider.setOption('usePersistentCache', true);\n\n        ImgCacheProvider.setOptions({\n            debug             : true,\n            usePersistentCache: true\n        });\n\n        ImgCacheProvider.manualInit = true;\n    }\n\n    function runImgCache($ionicPlatform, ImgCache) {\n        $ionicPlatform.ready(function () {\n\n            ImgCache.$init();\n        });\n    }\n\n    function configCompile($compileProvider) {\n        $compileProvider.debugInfoEnabled(false);\n    }\n\n    function startParse(AppConfig, Parse, $ionicPlatform, ParsePush, $localStorage, $location, $rootScope) {\n\n        Parse.init({\n            appId : AppConfig.parse.appId,\n            server: AppConfig.parse.server,\n        });\n\n        if (!$rootScope.currentUser) {\n            $location.path('/');\n        }\n\n        $ionicPlatform.ready(function () {\n            var user = Parse.User.current();\n            if (user) {\n                ParsePush.init();\n\n            }\n        })\n\n        if (!$localStorage.unit) {\n            $localStorage.unit = AppConfig.map.unit;\n        }\n\n        if (!$localStorage.mapType) {\n            $localStorage.mapType = AppConfig.map.type;\n        }\n    }\n\n    function runIonic($ionicPlatform, $rootScope, amMoment, $translate, $cordovaGlobalization, $cordovaSplashscreen, AppConfig) {\n\n        $rootScope.theme = AppConfig.theme;\n\n        $ionicPlatform.ready(function () {\n\n            if (window.cordova && window.cordova.plugins.Keyboard) {\n                cordova.plugins.Keyboard.disableScroll(true);\n                window.StatusBar.styleLightContent();\n            }\n\n\n            var lang = $translate.use();\n            if (lang) {\n                $translate.use(lang);\n                amMoment.changeLocale(lang);\n\n            } else {\n                if (typeof navigator.globalization !== 'undefined') {\n                    $cordovaGlobalization.getPreferredLanguage().then(function (language) {\n                        $translate.use((language.value).split('-')[0]);\n                        amMoment.changeLocale(language.value);\n                    }, null);\n                }\n            }\n\n\n            if (navigator && navigator.splashscreen) {\n                $cordovaSplashscreen.hide();\n            }\n\n\n        });\n\n\n    }\n\n    function configIonic($ionicConfigProvider) {\n        $ionicConfigProvider.platform.ios.backButton.previousTitleText(' ').icon('ion-ios-arrow-left');\n        $ionicConfigProvider.platform.android.backButton.previousTitleText(' ').icon('ion-ios-arrow-left');\n        $ionicConfigProvider.views.swipeBackEnabled(false);\n        $ionicConfigProvider.backButton.text(' ').icon('ion-ios-arrow-left');\n        $ionicConfigProvider.tabs.position('bottom');\n        $ionicConfigProvider.navBar.alignTitle('center');\n        $ionicConfigProvider.views.maxCache(1);\n    }\n\n    function configFacebook($facebookProvider, AppConfig) {\n        if (!window.cordova) {\n            $facebookProvider.setAppId(AppConfig.facebookAppId);\n            $facebookProvider.setPermissions('id,name,email,user_likes,bio');\n        }\n    }\n\n    function runFacebook() {\n\n        if (!window.cordova) {\n            var LangVar     = window.navigator.language || window.navigator.userLanguage;\n            var userLangVar = LangVar.substring(0, 2) + '_' + LangVar.substring(3, 5).toUpperCase();\n\n            (function (d, s, id) {\n                var js, fjs = d.getElementsByTagName(s)[0];\n                if (d.getElementById(id)) {return;}\n                js     = d.createElement(s);\n                js.id  = id;\n                js.src = 'http://connect.facebook.net/' + userLangVar + '/sdk.js';\n                fjs.parentNode.insertBefore(js, fjs);\n            }(document, 'script', 'facebook-jssdk'));\n        }\n\n    }\n\n})\n();\n\n(function () {\n    'use strict';\n    angular.module('ionic').constant('AppConfig', AppConfig());\n\n    function AppConfig() {\n        return {\n            path           : 'app/module/photogram',\n            app            : {\n                name : 'Photogram',\n                url  : 'http://photogramapp.com',\n                image: 'http://photogramapp.com/social-share.jpg',\n            },\n            routes         : {\n                home : 'tab.home',\n                login: 'intro'\n            },\n            theme          : 'positive',\n            facebookAppId  : '1024016557617380',\n            parse          : {\n                appId : 'myAppId',\n                server: 'https://photogram.codevibe.io/parse/',\n            },\n            map            : {\n                unit: 'mi',\n                type: 'normal',\n            },\n            locales        : [\n                {\n                    translation: 'portugues',\n                    code       : 'pt'\n                },\n                {\n                    translation: 'english',\n                    code       : 'en'\n                },\n                {\n                    translation: 'turkish',\n                    code       : 'tr'\n                },\n                {\n                    translation: 'persian',\n                    code       : 'fa'\n                },\n                {\n                    translation: 'german',\n                    code       : 'de'\n                }\n            ],\n            preferredLocale: 'en'\n        };\n    }\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').config(routes);\n\n    function routes($stateProvider, $urlRouterProvider, $translatePartialLoaderProvider) {\n\n        $translatePartialLoaderProvider.addPart('app');\n\n        $stateProvider\n\n            .state('loading', {\n                url         : '/',\n                templateUrl : 'app/main/loading/loading.html',\n                controller  : 'LoadingCtrl',\n                controllerAs: 'vm'\n            })\n\n\n            .state('intro', {\n                url         : '/intro',\n                templateUrl : 'app/main/user-intro/user-intro.html',\n                controller  : 'UserIntroCtrl',\n                controllerAs: 'vm',\n            })\n\n            .state('user.intro', {\n                url        : '/intro',\n                templateUrl: 'app/main/user-intro/user-intro.html',\n                controller : 'UserIntroCtrl'\n            })\n\n            .state('user', {\n                url        : '/user',\n                abstract   : true,\n                templateUrl: 'app/main/user-layout/user-layout.html'\n            })\n\n            .state('avatar', {\n                url         : '/avatar',\n                templateUrl : 'app/main/user-avatar/user-avatar.html',\n                controller  : 'UserAvatarCtrl',\n                controllerAs: 'vm'\n            })\n\n\n            .state('user.merge', {\n                url         : '/merge',\n                controller  : 'UserMergeCtrl',\n                controllerAs: 'vm',\n                templateUrl : 'app/main/user-merge/merge.html'\n            })\n\n            .state('logout', {\n                url         : '/logout',\n                template    : '<ion-view view-title=\"Logout\" cache-view=\"false\"><ion-content></ion-content></ion-view>',\n                controller  : function (User, $localStorage, AppConfig, $state) {\n                    User.logOut();\n                    $localStorage.$reset({});\n                    $state.go('intro', {clear: true});\n                },\n                controllerAs: 'vm'\n            })\n\n            .state('profile', {\n                url         : '/profile/:username',\n                templateUrl : 'app/main/profile/profile.html',\n                controllerAs: 'vm',\n            })\n\n            .state('tab', {\n                url         : '/tab',\n                abstract    : true,\n                controller  : 'MainTabCtrl',\n                controllerAs: 'vm',\n                templateUrl : 'app/main/tab/main-tab.html'\n            })\n\n            .state('tab.home', {\n                url  : '/home',\n                views: {\n                    tabHome: {\n                        controller  : 'HomeCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/tab-home/home.html'\n                    }\n                }\n            })\n\n            .state('tab.homeProfile', {\n                url  : '/home/:username',\n                views: {\n                    tabHome: {\n                        controller  : 'ProfileCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/profile/profile.html'\n                    }\n                }\n            })\n\n            .state('galleryComments', {\n                url         : '/home/:galleryId/comments',\n                controller  : 'GalleryComment',\n                controllerAs: 'vm',\n                templateUrl : 'app/main/gallery-comment/gallery-comment.html'\n            })\n\n            .state('tab.homeGalleryLikers', {\n                url  : '/home/:galleryId/likers',\n                views: {\n                    tabHome: {\n                        controller  : 'UserLikersCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/user-likers/user-likers.html'\n                    }\n                }\n            })\n\n            .state('tab.homeProfileFollowers', {\n                url  : '/home/:username/followers',\n                views: {\n                    tabHome: {\n                        controller  : 'UserFollowerCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/user-followers/user-followers.html'\n                    }\n                }\n            })\n\n            .state('tab.homeProfileFollowing', {\n                url  : '/home/:username/follwing',\n                views: {\n                    tabHome: {\n                        controller  : 'UserFollowingCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/user-following/user-following.html'\n                    }\n                }\n            })\n\n            .state('tab.homeUserlist', {\n                url  : '/home/userlist',\n                views: {\n                    tabHome: {\n                        controller  : 'UserListCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/user-list/user-list.html'\n                    }\n                }\n            })\n\n            .state('tab.search', {\n                url  : '/search/:text',\n                views: {\n                    tabSearch: {\n                        controller  : 'SearchCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/tab-search/search.html',\n                    }\n                }\n            })\n\n            .state('tab.searchProfile', {\n                url  : '/search/:username',\n                views: {\n                    tabSearch: {\n                        controller  : 'ProfileCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/profile/profile.html'\n                    }\n                }\n            })\n\n            .state('tab.searchProfileFollowers', {\n                url  : '/search/:username/followers',\n                views: {\n                    tabSearch: {\n                        controller  : 'UserFollowerCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/user-followers/user-followers.html'\n                    }\n                }\n            })\n\n            .state('tab.map', {\n                url  : '/map',\n                views: {\n                    tabSearch: {\n                        controller  : 'SearchMapCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/tab-search-map/searchMap.html',\n                    }\n                }\n            })\n\n            .state('tab.mapProfile', {\n                url  : '/map/:username',\n                views: {\n                    tabSearch: {\n                        controller  : 'ProfileCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/profile/profile.html'\n                    }\n                }\n            })\n\n            .state('tab.mapProfileFollowers', {\n                url  : '/map/:username/followers',\n                views: {\n                    tabSearch: {\n                        controller  : 'UserFollowerCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/user-followers/user-followers.html'\n                    }\n                }\n            })\n\n            .state('tab.mapProfileFollowing', {\n                url  : '/map/:username/follwing',\n                views: {\n                    tabActivity: {\n                        controller  : 'UserFollowingCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/user-following/user-following.html'\n                    }\n                }\n            })\n\n            .state('tab.account', {\n                url  : '/account',\n                views: {\n                    tabProfile: {\n                        controller  : 'AccountCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/tab-account/account.html'\n                    }\n                }\n            })\n\n            .state('tab.accountFollowers', {\n                url  : '/account/:username/followers',\n                views: {\n                    tabProfile: {\n                        controller  : 'UserFollowerCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/user-followers/user-followers.html'\n                    }\n                }\n            })\n\n            .state('tab.accountFollowing', {\n                url  : '/account/:username/follwing',\n                views: {\n                    tabProfile: {\n                        controller  : 'UserFollowingCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/user-following/user-following.html'\n                    }\n                }\n            })\n\n            .state('tab.activity', {\n                url  : '/activity',\n                views: {\n                    tabActivity: {\n                        controller  : 'ActivityCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/tab-activity/activity.html'\n                    }\n                }\n            })\n\n            .state('tab.activityProfile', {\n                url  : '/activity/:username',\n                views: {\n                    tabActivity: {\n                        controller  : 'ProfileCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/profile/profile.html'\n                    }\n                }\n            })\n\n            .state('tab.activityProfileFollowers', {\n                url  : '/activity/:username/followers',\n                views: {\n                    tabActivity: {\n                        controller  : 'UserFollowerCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/user-followers/user-followers.html'\n                    }\n                }\n            })\n\n            .state('tab.activityProfileFollowing', {\n                url  : '/activity/:username/follwing',\n                views: {\n                    tabActivity: {\n                        controller  : 'UserFollowingCtrl',\n                        controllerAs: 'vm',\n                        templateUrl : 'app/main/user-following/user-following.html'\n                    }\n                }\n            })\n\n        ;\n\n        $urlRouterProvider.otherwise('/');\n\n    }\n\n\n})();\n\n\n\n\nfunction MarkerClusterer(map, opt_markers, opt_options) {\n    this.extend(MarkerClusterer, google.maps.OverlayView);\n    this.map_ = map;\n\n    this.markers_ = [];\n\n    this.clusters_ = [];\n\n    this.sizes = [53, 56, 66, 78, 90];\n\n    this.styles_ = [];\n\n    this.ready_ = false;\n\n    var options = opt_options || {};\n\n    this.gridSize_ = options['gridSize'] || 60;\n\n    this.minClusterSize_ = options['minimumClusterSize'] || 2;\n\n\n    this.maxZoom_ = options['maxZoom'] || null;\n\n    this.styles_ = options['styles'] || [];\n\n    this.imagePath_ = options['imagePath'] ||\n        this.MARKER_CLUSTER_IMAGE_PATH_;\n\n    this.imageExtension_ = options['imageExtension'] ||\n        this.MARKER_CLUSTER_IMAGE_EXTENSION_;\n\n    this.zoomOnClick_ = true;\n\n    if (options['zoomOnClick'] != undefined) {\n        this.zoomOnClick_ = options['zoomOnClick'];\n    }\n\n    this.averageCenter_ = false;\n\n    if (options['averageCenter'] != undefined) {\n        this.averageCenter_ = options['averageCenter'];\n    }\n\n    this.setupStyles_();\n\n    this.setMap(map);\n\n    this.prevZoom_ = this.map_.getZoom();\n\n    var that = this;\n    google.maps.event.addListener(this.map_, 'zoom_changed', function() {\n        var zoom = that.map_.getZoom();\n\n        if (that.prevZoom_ != zoom) {\n            that.prevZoom_ = zoom;\n            that.resetViewport();\n        }\n    });\n\n    google.maps.event.addListener(this.map_, 'idle', function() {\n        that.redraw();\n    });\n\n    if (opt_markers && opt_markers.length) {\n        this.addMarkers(opt_markers, false);\n    }\n}\n\n\nMarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_PATH_ = '../images/m';\n\n\nMarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_EXTENSION_ = 'png';\n\n\nMarkerClusterer.prototype.extend = function(obj1, obj2) {\n    return (function(object) {\n        for (var property in object.prototype) {\n            this.prototype[property] = object.prototype[property];\n        }\n        return this;\n    }).apply(obj1, [obj2]);\n};\n\n\nMarkerClusterer.prototype.onAdd = function() {\n    this.setReady_(true);\n};\n\nMarkerClusterer.prototype.draw = function() {};\n\nMarkerClusterer.prototype.setupStyles_ = function() {\n    if (this.styles_.length) {\n        return;\n    }\n\n    for (var i = 0, size; size = this.sizes[i]; i++) {\n        this.styles_.push({\n            url: this.imagePath_ + (i + 1) + '.' + this.imageExtension_,\n            height: size,\n            width: size\n        });\n    }\n};\n\nMarkerClusterer.prototype.fitMapToMarkers = function() {\n    var markers = this.getMarkers();\n    var bounds = new google.maps.LatLngBounds();\n    for (var i = 0, marker; marker = markers[i]; i++) {\n        bounds.extend(marker.getPosition());\n    }\n\n    this.map_.fitBounds(bounds);\n};\n\n\nMarkerClusterer.prototype.setStyles = function(styles) {\n    this.styles_ = styles;\n};\n\n\nMarkerClusterer.prototype.getStyles = function() {\n    return this.styles_;\n};\n\n\nMarkerClusterer.prototype.isZoomOnClick = function() {\n    return this.zoomOnClick_;\n};\n\nMarkerClusterer.prototype.isAverageCenter = function() {\n    return this.averageCenter_;\n};\n\n\nMarkerClusterer.prototype.getMarkers = function() {\n    return this.markers_;\n};\n\n\nMarkerClusterer.prototype.getTotalMarkers = function() {\n    return this.markers_.length;\n};\n\n\nMarkerClusterer.prototype.setMaxZoom = function(maxZoom) {\n    this.maxZoom_ = maxZoom;\n};\n\n\nMarkerClusterer.prototype.getMaxZoom = function() {\n    return this.maxZoom_;\n};\n\n\nMarkerClusterer.prototype.calculator_ = function(markers, numStyles) {\n    var index = 0;\n    var count = markers.length;\n    var dv = count;\n    while (dv !== 0) {\n        dv = parseInt(dv / 10, 10);\n        index++;\n    }\n\n    index = Math.min(index, numStyles);\n    return {\n        text: count,\n        index: index\n    };\n};\n\n\nMarkerClusterer.prototype.setCalculator = function(calculator) {\n    this.calculator_ = calculator;\n};\n\n\nMarkerClusterer.prototype.getCalculator = function() {\n    return this.calculator_;\n};\n\n\nMarkerClusterer.prototype.addMarkers = function(markers, opt_nodraw) {\n    for (var i = 0, marker; marker = markers[i]; i++) {\n        this.pushMarkerTo_(marker);\n    }\n    if (!opt_nodraw) {\n        this.redraw();\n    }\n};\n\n\nMarkerClusterer.prototype.pushMarkerTo_ = function(marker) {\n    marker.isAdded = false;\n    if (marker['draggable']) {\n        var that = this;\n        google.maps.event.addListener(marker, 'dragend', function() {\n            marker.isAdded = false;\n            that.repaint();\n        });\n    }\n    this.markers_.push(marker);\n};\n\n\nMarkerClusterer.prototype.addMarker = function(marker, opt_nodraw) {\n    this.pushMarkerTo_(marker);\n    if (!opt_nodraw) {\n        this.redraw();\n    }\n};\n\n\nMarkerClusterer.prototype.removeMarker_ = function(marker) {\n    var index = -1;\n    if (this.markers_.indexOf) {\n        index = this.markers_.indexOf(marker);\n    } else {\n        for (var i = 0, m; m = this.markers_[i]; i++) {\n            if (m == marker) {\n                index = i;\n                break;\n            }\n        }\n    }\n\n    if (index == -1) {\n        return false;\n    }\n\n    marker.setMap(null);\n\n    this.markers_.splice(index, 1);\n\n    return true;\n};\n\n\nMarkerClusterer.prototype.removeMarker = function(marker, opt_nodraw) {\n    var removed = this.removeMarker_(marker);\n\n    if (!opt_nodraw && removed) {\n        this.resetViewport();\n        this.redraw();\n        return true;\n    } else {\n        return false;\n    }\n};\n\n\nMarkerClusterer.prototype.removeMarkers = function(markers, opt_nodraw) {\n    var removed = false;\n\n    for (var i = 0, marker; marker = markers[i]; i++) {\n        var r = this.removeMarker_(marker);\n        removed = removed || r;\n    }\n\n    if (!opt_nodraw && removed) {\n        this.resetViewport();\n        this.redraw();\n        return true;\n    }\n};\n\n\nMarkerClusterer.prototype.setReady_ = function(ready) {\n    if (!this.ready_) {\n        this.ready_ = ready;\n        this.createClusters_();\n    }\n};\n\n\nMarkerClusterer.prototype.getTotalClusters = function() {\n    return this.clusters_.length;\n};\n\n\nMarkerClusterer.prototype.getMap = function() {\n    return this.map_;\n};\n\n\nMarkerClusterer.prototype.setMap = function(map) {\n    this.map_ = map;\n};\n\n\nMarkerClusterer.prototype.getGridSize = function() {\n    return this.gridSize_;\n};\n\n\nMarkerClusterer.prototype.setGridSize = function(size) {\n    this.gridSize_ = size;\n};\n\n\nMarkerClusterer.prototype.getMinClusterSize = function() {\n    return this.minClusterSize_;\n};\n\nMarkerClusterer.prototype.setMinClusterSize = function(size) {\n    this.minClusterSize_ = size;\n};\n\n\nMarkerClusterer.prototype.getExtendedBounds = function(bounds) {\n    var projection = this.getProjection();\n\n    var tr = new google.maps.LatLng(bounds.getNorthEast().lat(),\n        bounds.getNorthEast().lng());\n    var bl = new google.maps.LatLng(bounds.getSouthWest().lat(),\n        bounds.getSouthWest().lng());\n\n    var trPix = projection.fromLatLngToDivPixel(tr);\n    trPix.x += this.gridSize_;\n    trPix.y -= this.gridSize_;\n\n    var blPix = projection.fromLatLngToDivPixel(bl);\n    blPix.x -= this.gridSize_;\n    blPix.y += this.gridSize_;\n\n    var ne = projection.fromDivPixelToLatLng(trPix);\n    var sw = projection.fromDivPixelToLatLng(blPix);\n\n    bounds.extend(ne);\n    bounds.extend(sw);\n\n    return bounds;\n};\n\n\nMarkerClusterer.prototype.isMarkerInBounds_ = function(marker, bounds) {\n    return bounds.contains(marker.getPosition());\n};\n\n\nMarkerClusterer.prototype.clearMarkers = function() {\n    this.resetViewport(true);\n\n    this.markers_ = [];\n};\n\n\nMarkerClusterer.prototype.resetViewport = function(opt_hide) {\n    for (var i = 0, cluster; cluster = this.clusters_[i]; i++) {\n        cluster.remove();\n    }\n\n    for (var i = 0, marker; marker = this.markers_[i]; i++) {\n        marker.isAdded = false;\n        if (opt_hide) {\n            marker.setMap(null);\n        }\n    }\n\n    this.clusters_ = [];\n};\n\nMarkerClusterer.prototype.repaint = function() {\n    var oldClusters = this.clusters_.slice();\n    this.clusters_.length = 0;\n    this.resetViewport();\n    this.redraw();\n\n    window.setTimeout(function() {\n        for (var i = 0, cluster; cluster = oldClusters[i]; i++) {\n            cluster.remove();\n        }\n    }, 0);\n};\n\n\nMarkerClusterer.prototype.redraw = function() {\n    this.createClusters_();\n};\n\n\nMarkerClusterer.prototype.distanceBetweenPoints_ = function(p1, p2) {\n    if (!p1 || !p2) {\n        return 0;\n    }\n\n    var R = 6371; \n    var dLat = (p2.lat() - p1.lat()) * Math.PI / 180;\n    var dLon = (p2.lng() - p1.lng()) * Math.PI / 180;\n    var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n        Math.cos(p1.lat() * Math.PI / 180) * Math.cos(p2.lat() * Math.PI / 180) *\n        Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    var d = R * c;\n    return d;\n};\n\n\nMarkerClusterer.prototype.addToClosestCluster_ = function(marker) {\n    var distance = 40000; \n    var clusterToAddTo = null;\n    var pos = marker.getPosition();\n    for (var i = 0, cluster; cluster = this.clusters_[i]; i++) {\n        var center = cluster.getCenter();\n        if (center) {\n            var d = this.distanceBetweenPoints_(center, marker.getPosition());\n            if (d < distance) {\n                distance = d;\n                clusterToAddTo = cluster;\n            }\n        }\n    }\n\n    if (clusterToAddTo && clusterToAddTo.isMarkerInClusterBounds(marker)) {\n        clusterToAddTo.addMarker(marker);\n    } else {\n        var cluster = new Cluster(this);\n        cluster.addMarker(marker);\n        this.clusters_.push(cluster);\n    }\n};\n\n\nMarkerClusterer.prototype.createClusters_ = function() {\n    if (!this.ready_) {\n        return;\n    }\n\n    var mapBounds = new google.maps.LatLngBounds(this.map_.getBounds().getSouthWest(),\n        this.map_.getBounds().getNorthEast());\n    var bounds = this.getExtendedBounds(mapBounds);\n\n    for (var i = 0, marker; marker = this.markers_[i]; i++) {\n        if (!marker.isAdded && this.isMarkerInBounds_(marker, bounds)) {\n            this.addToClosestCluster_(marker);\n        }\n    }\n};\n\n\nfunction Cluster(markerClusterer) {\n    this.markerClusterer_ = markerClusterer;\n    this.map_ = markerClusterer.getMap();\n    this.gridSize_ = markerClusterer.getGridSize();\n    this.minClusterSize_ = markerClusterer.getMinClusterSize();\n    this.averageCenter_ = markerClusterer.isAverageCenter();\n    this.center_ = null;\n    this.markers_ = [];\n    this.bounds_ = null;\n    this.clusterIcon_ = new ClusterIcon(this, markerClusterer.getStyles(),\n        markerClusterer.getGridSize());\n}\n\nCluster.prototype.isMarkerAlreadyAdded = function(marker) {\n    if (this.markers_.indexOf) {\n        return this.markers_.indexOf(marker) != -1;\n    } else {\n        for (var i = 0, m; m = this.markers_[i]; i++) {\n            if (m == marker) {\n                return true;\n            }\n        }\n    }\n    return false;\n};\n\n\nCluster.prototype.addMarker = function(marker) {\n    if (this.isMarkerAlreadyAdded(marker)) {\n        return false;\n    }\n\n    if (!this.center_) {\n        this.center_ = marker.getPosition();\n        this.calculateBounds_();\n    } else {\n        if (this.averageCenter_) {\n            var l = this.markers_.length + 1;\n            var lat = (this.center_.lat() * (l-1) + marker.getPosition().lat()) / l;\n            var lng = (this.center_.lng() * (l-1) + marker.getPosition().lng()) / l;\n            this.center_ = new google.maps.LatLng(lat, lng);\n            this.calculateBounds_();\n        }\n    }\n\n    marker.isAdded = true;\n    this.markers_.push(marker);\n\n    var len = this.markers_.length;\n    if (len < this.minClusterSize_ && marker.getMap() != this.map_) {\n        marker.setMap(this.map_);\n    }\n\n    if (len == this.minClusterSize_) {\n        for (var i = 0; i < len; i++) {\n            this.markers_[i].setMap(null);\n        }\n    }\n\n    if (len >= this.minClusterSize_) {\n        marker.setMap(null);\n    }\n\n    this.updateIcon();\n    return true;\n};\n\n\nCluster.prototype.getMarkerClusterer = function() {\n    return this.markerClusterer_;\n};\n\n\nCluster.prototype.getBounds = function() {\n    var bounds = new google.maps.LatLngBounds(this.center_, this.center_);\n    var markers = this.getMarkers();\n    for (var i = 0, marker; marker = markers[i]; i++) {\n        bounds.extend(marker.getPosition());\n    }\n    return bounds;\n};\n\n\nCluster.prototype.remove = function() {\n    this.clusterIcon_.remove();\n    this.markers_.length = 0;\n    delete this.markers_;\n};\n\n\nCluster.prototype.getSize = function() {\n    return this.markers_.length;\n};\n\n\nCluster.prototype.getMarkers = function() {\n    return this.markers_;\n};\n\n\nCluster.prototype.getCenter = function() {\n    return this.center_;\n};\n\n\nCluster.prototype.calculateBounds_ = function() {\n    var bounds = new google.maps.LatLngBounds(this.center_, this.center_);\n    this.bounds_ = this.markerClusterer_.getExtendedBounds(bounds);\n};\n\n\nCluster.prototype.isMarkerInClusterBounds = function(marker) {\n    return this.bounds_.contains(marker.getPosition());\n};\n\n\nCluster.prototype.getMap = function() {\n    return this.map_;\n};\n\n\nCluster.prototype.updateIcon = function() {\n    var zoom = this.map_.getZoom();\n    var mz = this.markerClusterer_.getMaxZoom();\n\n    if (mz && zoom > mz) {\n        for (var i = 0, marker; marker = this.markers_[i]; i++) {\n            marker.setMap(this.map_);\n        }\n        return;\n    }\n\n    if (this.markers_.length < this.minClusterSize_) {\n        this.clusterIcon_.hide();\n        return;\n    }\n\n    var numStyles = this.markerClusterer_.getStyles().length;\n    var sums = this.markerClusterer_.getCalculator()(this.markers_, numStyles);\n    this.clusterIcon_.setCenter(this.center_);\n    this.clusterIcon_.setSums(sums);\n    this.clusterIcon_.show();\n};\n\n\nfunction ClusterIcon(cluster, styles, opt_padding) {\n    cluster.getMarkerClusterer().extend(ClusterIcon, google.maps.OverlayView);\n\n    this.styles_ = styles;\n    this.padding_ = opt_padding || 0;\n    this.cluster_ = cluster;\n    this.center_ = null;\n    this.map_ = cluster.getMap();\n    this.div_ = null;\n    this.sums_ = null;\n    this.visible_ = false;\n\n    this.setMap(this.map_);\n}\n\n\nClusterIcon.prototype.triggerClusterClick = function(event) {\n    var markerClusterer = this.cluster_.getMarkerClusterer();\n\n    google.maps.event.trigger(markerClusterer, 'clusterclick', this.cluster_, event);\n\n    if (markerClusterer.isZoomOnClick()) {\n        this.map_.fitBounds(this.cluster_.getBounds());\n    }\n};\n\n\nClusterIcon.prototype.onAdd = function() {\n    this.div_ = document.createElement('DIV');\n    if (this.visible_) {\n        var pos = this.getPosFromLatLng_(this.center_);\n        this.div_.style.cssText = this.createCss(pos);\n        this.div_.innerHTML = this.sums_.text;\n    }\n\n    var panes = this.getPanes();\n    panes.overlayMouseTarget.appendChild(this.div_);\n\n    var that = this;\n    var isDragging = false;\n    google.maps.event.addDomListener(this.div_, 'click', function(event) {\n        if (!isDragging) {\n            that.triggerClusterClick(event);\n        }\n    });\n    google.maps.event.addDomListener(this.div_, 'mousedown', function() {\n        isDragging = false;\n    });\n    google.maps.event.addDomListener(this.div_, 'mousemove', function() {\n        isDragging = true;\n    });\n};\n\n\nClusterIcon.prototype.getPosFromLatLng_ = function(latlng) {\n    var pos = this.getProjection().fromLatLngToDivPixel(latlng);\n\n    if (typeof this.iconAnchor_ === 'object' && this.iconAnchor_.length === 2) {\n        pos.x -= this.iconAnchor_[0];\n        pos.y -= this.iconAnchor_[1];\n    } else {\n        pos.x -= parseInt(this.width_ / 2, 10);\n        pos.y -= parseInt(this.height_ / 2, 10);\n    }\n    return pos;\n};\n\n\nClusterIcon.prototype.draw = function() {\n    if (this.visible_) {\n        var pos = this.getPosFromLatLng_(this.center_);\n        this.div_.style.top = pos.y + 'px';\n        this.div_.style.left = pos.x + 'px';\n    }\n};\n\n\nClusterIcon.prototype.hide = function() {\n    if (this.div_) {\n        this.div_.style.display = 'none';\n    }\n    this.visible_ = false;\n};\n\n\nClusterIcon.prototype.show = function() {\n    if (this.div_) {\n        var pos = this.getPosFromLatLng_(this.center_);\n        this.div_.style.cssText = this.createCss(pos);\n        this.div_.style.display = '';\n    }\n    this.visible_ = true;\n};\n\n\nClusterIcon.prototype.remove = function() {\n    this.setMap(null);\n};\n\n\nClusterIcon.prototype.onRemove = function() {\n    if (this.div_ && this.div_.parentNode) {\n        this.hide();\n        this.div_.parentNode.removeChild(this.div_);\n        this.div_ = null;\n    }\n};\n\n\nClusterIcon.prototype.setSums = function(sums) {\n    this.sums_ = sums;\n    this.text_ = sums.text;\n    this.index_ = sums.index;\n    if (this.div_) {\n        this.div_.innerHTML = sums.text;\n    }\n\n    this.useStyle();\n};\n\n\nClusterIcon.prototype.useStyle = function() {\n    var index = Math.max(0, this.sums_.index - 1);\n    index = Math.min(this.styles_.length - 1, index);\n    var style = this.styles_[index];\n    this.url_ = style['url'];\n    this.height_ = style['height'];\n    this.width_ = style['width'];\n    this.textColor_ = style['textColor'];\n    this.anchor_ = style['anchor'];\n    this.textSize_ = style['textSize'];\n    this.backgroundPosition_ = style['backgroundPosition'];\n    this.iconAnchor_ = style['iconAnchor'];\n};\n\n\nClusterIcon.prototype.setCenter = function(center) {\n    this.center_ = center;\n};\n\n\nClusterIcon.prototype.createCss = function(pos) {\n    var style = [];\n    style.push('background-image:url(' + this.url_ + ');');\n    var backgroundPosition = this.backgroundPosition_ ? this.backgroundPosition_ : '0 0';\n    style.push('background-position:' + backgroundPosition + ';');\n\n    if (typeof this.anchor_ === 'object') {\n        if (typeof this.anchor_[0] === 'number' && this.anchor_[0] > 0 &&\n            this.anchor_[0] < this.height_) {\n            style.push('height:' + (this.height_ - this.anchor_[0]) +\n                'px; padding-top:' + this.anchor_[0] + 'px;');\n        } else if (typeof this.anchor_[0] === 'number' && this.anchor_[0] < 0 &&\n            -this.anchor_[0] < this.height_) {\n            style.push('height:' + this.height_ + 'px; line-height:' + (this.height_ + this.anchor_[0]) +\n                'px;');\n        } else {\n            style.push('height:' + this.height_ + 'px; line-height:' + this.height_ +\n                'px;');\n        }\n        if (typeof this.anchor_[1] === 'number' && this.anchor_[1] > 0 &&\n            this.anchor_[1] < this.width_) {\n            style.push('width:' + (this.width_ - this.anchor_[1]) +\n                'px; padding-left:' + this.anchor_[1] + 'px;');\n        } else {\n            style.push('width:' + this.width_ + 'px; text-align:center;');\n        }\n    } else {\n        style.push('height:' + this.height_ + 'px; line-height:' +\n            this.height_ + 'px; width:' + this.width_ + 'px; text-align:center;');\n    }\n\n    var txtColor = this.textColor_ ? this.textColor_ : 'black';\n    var txtSize = this.textSize_ ? this.textSize_ : 11;\n\n    style.push('cursor:pointer; top:' + pos.y + 'px; left:' +\n        pos.x + 'px; color:' + txtColor + '; position:absolute; font-size:' +\n        txtSize + 'px; font-family:Arial,sans-serif; font-weight:bold');\n    return style.join('');\n};\n\n\nwindow['MarkerClusterer'] = MarkerClusterer;\nMarkerClusterer.prototype['addMarker'] = MarkerClusterer.prototype.addMarker;\nMarkerClusterer.prototype['addMarkers'] = MarkerClusterer.prototype.addMarkers;\nMarkerClusterer.prototype['clearMarkers'] =\n    MarkerClusterer.prototype.clearMarkers;\nMarkerClusterer.prototype['fitMapToMarkers'] =\n    MarkerClusterer.prototype.fitMapToMarkers;\nMarkerClusterer.prototype['getCalculator'] =\n    MarkerClusterer.prototype.getCalculator;\nMarkerClusterer.prototype['getGridSize'] =\n    MarkerClusterer.prototype.getGridSize;\nMarkerClusterer.prototype['getExtendedBounds'] =\n    MarkerClusterer.prototype.getExtendedBounds;\nMarkerClusterer.prototype['getMap'] = MarkerClusterer.prototype.getMap;\nMarkerClusterer.prototype['getMarkers'] = MarkerClusterer.prototype.getMarkers;\nMarkerClusterer.prototype['getMaxZoom'] = MarkerClusterer.prototype.getMaxZoom;\nMarkerClusterer.prototype['getStyles'] = MarkerClusterer.prototype.getStyles;\nMarkerClusterer.prototype['getTotalClusters'] =\n    MarkerClusterer.prototype.getTotalClusters;\nMarkerClusterer.prototype['getTotalMarkers'] =\n    MarkerClusterer.prototype.getTotalMarkers;\nMarkerClusterer.prototype['redraw'] = MarkerClusterer.prototype.redraw;\nMarkerClusterer.prototype['removeMarker'] =\n    MarkerClusterer.prototype.removeMarker;\nMarkerClusterer.prototype['removeMarkers'] =\n    MarkerClusterer.prototype.removeMarkers;\nMarkerClusterer.prototype['resetViewport'] =\n    MarkerClusterer.prototype.resetViewport;\nMarkerClusterer.prototype['repaint'] =\n    MarkerClusterer.prototype.repaint;\nMarkerClusterer.prototype['setCalculator'] =\n    MarkerClusterer.prototype.setCalculator;\nMarkerClusterer.prototype['setGridSize'] =\n    MarkerClusterer.prototype.setGridSize;\nMarkerClusterer.prototype['setMaxZoom'] =\n    MarkerClusterer.prototype.setMaxZoom;\nMarkerClusterer.prototype['onAdd'] = MarkerClusterer.prototype.onAdd;\nMarkerClusterer.prototype['draw'] = MarkerClusterer.prototype.draw;\n\nCluster.prototype['getCenter'] = Cluster.prototype.getCenter;\nCluster.prototype['getSize'] = Cluster.prototype.getSize;\nCluster.prototype['getMarkers'] = Cluster.prototype.getMarkers;\n\nClusterIcon.prototype['onAdd'] = ClusterIcon.prototype.onAdd;\nClusterIcon.prototype['draw'] = ClusterIcon.prototype.draw;\nClusterIcon.prototype['onRemove'] = ClusterIcon.prototype.onRemove;\n\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('signinModal', signinModalDirective);\n\n    function signinModalDirective($ionicModal, Loading, User, $translate, $state, Toast, $ionicPopup, AppConfig, $rootScope) {\n        return {\n            restrict: 'A',\n            link    : signinModalLink,\n        };\n\n        function signinModalLink($scope, elem, attr) {\n            elem.bind('click', function () {\n\n                $scope.routeLogged = AppConfig.routes.home;\n\n                $scope.form = {\n                    username: '',\n                    password: ''\n                };\n\n                $scope.submitLogin = function (rForm, data) {\n                    var form = angular.copy(data);\n                    if (rForm.$valid) {\n                        Loading.start();\n                        User.signIn(form).then(function (data) {\n                            console.log(data);\n                            $rootScope.currentUser = data;\n                            $state.go($scope.routeLogged, {\n                                clear: true\n                            });\n                            $scope.closeModal();\n                            $rootScope.$emit('photolist:reload');\n                            Loading.end();\n                        }).catch(function (resp) {\n                            Toast.alert({\n                                title: 'Error',\n                                text : $translate.instant('incorrectEmail')\n                            });\n                            Loading.end();\n                        });\n                    } else {\n                        return false;\n                    }\n                };\n\n\n                $scope.forgotPass = function () {\n\n                    $scope.data = {};\n                    $ionicPopup.show({\n                        template: '<input type=\"email\" ng-model=\"data.email\">',\n                        title   : $translate.instant('recoveryPass'),\n                        subTitle: $translate.instant('fillEmail'),\n                        scope   : $scope,\n                        buttons : [\n                            {text: $translate.instant('cancel')},\n                            {\n                                text : '<b >' + $translate.instant('submit') + '</b>',\n                                type : 'button-positive',\n                                onTap: function (e) {\n                                    if (!$scope.data.email) {\n                                        e.preventDefault();\n                                    } else {\n                                        Loading.start();\n                                        User.recoverPassword($scope.data.email).then(function (resp) {\n                                            Toast.alert({\n                                                title: 'Alert',\n                                                text : $translate.instant('recoverySuccess')\n                                            });\n                                            Loading.end();\n                                        });\n                                    }\n                                }\n                            }\n                        ]\n                    });\n\n                };\n\n                $ionicModal.fromTemplateUrl('app/directive/SigninModalDirective.html', {\n                    scope          : $scope,\n                    animation      : 'slide-in-up',\n                    focusFirstInput: true,\n                }).then(function (modal) {\n                    $scope.modal = modal;\n                    $scope.modal.show();\n                });\n\n                $scope.closeModal = function () {\n                    $scope.modal.hide();\n                };\n                $scope.$on('$destroy', function () {\n                    $scope.modal.remove();\n                });\n            });\n        }\n    }\n\n})();\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('signupModal', signupModalDirective);\n\n    function signupModalDirective(AppConfig, Loading, User, $state, Toast, $ionicModal, $rootScope) {\n        return {\n            restrict: 'A',\n            link    : signupModalLink,\n        };\n\n        function signupModalLink($scope, elem, attr) {\n            elem.bind('click', function () {\n\n                $scope.routeLogged = AppConfig.routes.home;\n\n                $scope.form = {\n                    username: '',\n                    email   : '',\n                    password: ''\n                };\n\n                $scope.submitRegister = function (rForm, data) {\n                    if (rForm.$valid) {\n                        Loading.start();\n                        var form = angular.copy(data);\n                        User.signUp(form).then(function (resp) {\n                            console.log(resp);\n\n                            User.signIn({\n                                username: form.username,\n                                password: form.password\n                            }).then(function (data) {\n                                console.log(data);\n                                $rootScope.currentUser = Parse.User.current();\n                                $state.go('avatar', {\n                                    clear: true\n                                });\n                                Loading.end();\n                                $rootScope.$emit('photolist:reload');\n                                $scope.closeModal();\n                            }).catch(function (resp) {\n                                console.log(resp);\n                                Toast.alert({\n                                    title: 'Alert',\n                                    text : resp.error\n                                });\n                                Loading.end();\n                            });\n                        }).catch(function (resp) {\n                            console.log(resp);\n                            Toast.alert({\n                                title: 'Alert',\n                                text : resp.error\n                            });\n                            Loading.end();\n                        });\n                    }\n\n\n                };\n\n                $ionicModal.fromTemplateUrl('app/directive/SignupModalDirective.html', {\n                    scope          : $scope,\n                    animation      : 'slide-in-up',\n                    focusFirstInput: true,\n                }).then(function (modal) {\n                    $scope.modal = modal;\n                    $scope.modal.show();\n                });\n\n                $scope.closeModal = function () {\n                    $scope.modal.hide();\n                };\n                $scope.$on('$destroy', function () {\n                    $scope.modal.remove();\n                });\n            });\n        }\n    }\n\n})();\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('albumGrid', albumGridDirective);\n\n    function albumGridDirective(GalleryAlbum, $rootScope) {\n\n        return {\n            restrict   : 'E',\n            scope      : {\n                username: '=',\n                user    : '=',\n                profile : '=',\n                onReload: '=',\n            },\n            templateUrl: 'app/directive/albumGridDirective.html',\n            link       : albumGridLink\n        };\n\n        function albumGridLink($scope, elem, attr) {\n            $scope.canEdit = ($scope.username === Parse.User.current().username) ? true : false;\n\n            init();\n\n            if ($scope.username) {\n                $scope.params.username = $scope.username;\n            }\n\n\n            $rootScope.$on('photoInclude', function (elem, item) {\n                if (item.objectId) {\n                    item.id = item.objectId;\n                }\n                $scope.data.unshift(item);\n            });\n\n\n            $rootScope.$on('gallery:search', function (elem, item) {\n                console.log(elem, item);\n                $scope.params.search = item.text;\n                $scope.onReload();\n            });\n\n            $rootScope.$on('albumGrid:reload', function (elem, item) {\n                init();\n                $scope.onReload();\n            });\n\n\n            loadFeed();\n\n            function loadFeed() {\n                if ($scope.loading) return;\n                $scope.loading = true;\n                GalleryAlbum.list($scope.params).then(function (data) {\n\n                    if ($scope.canEdit) {\n                        if (!_.some($scope.data, {create: true})) {\n                            $scope.data.push({\n                                create: true\n                            });\n                        }\n                    }\n\n                    if (data.length > 0) {\n                        $scope.params.page++;\n                        data.map(function (item) {\n                            $scope.data.push(item);\n                        });\n                    } else {\n                        if ($scope.data.length === 0) {\n                            $scope.showEmptyView = true;\n                        }\n                        $scope.moreDataCanBeLoaded = false;\n                    }\n\n                    $scope.loading = false;\n                    $rootScope.$broadcast('scroll.infiniteScrollComplete');\n                    $rootScope.$broadcast('scroll.refreshComplete');\n\n                }).catch(function () {\n                    if ($scope.data.length === 0) {\n                        $scope.showErrorView = true;\n                    }\n                    $scope.$broadcast('scroll.refreshComplete');\n                });\n            }\n\n            $scope.onLoadMore = function () {\n                loadFeed();\n            };\n\n            $scope.onReload = function () {\n                init()\n                loadFeed();\n                $scope.$broadcast('scroll.refreshComplete');\n            };\n\n            function init() {\n                $scope.params              = {};\n                $scope.params.page         = 1;\n                $scope.data                = [];\n                $scope.moreDataCanBeLoaded = true;\n                $scope.loading             = false;\n            }\n        }\n\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('albumPhotoGrid', albumPhotoGridDirective);\n\n    function albumPhotoGridDirective(AppConfig, Gallery, GalleryAlbum, Dialog, $rootScope, PhotoService, Loading, ParseFile, $translate, Toast, $ionicModal, $ionicPopover) {\n\n        return {\n            restrict: 'A',\n            scope   : {\n                album: '=',\n                edit : '='\n            },\n            link    : albumPhotoGridCtrl\n        };\n\n        function albumPhotoGridCtrl($scope, elem, attr) {\n\n            elem.bind('click', function () {\n                $scope.theme   = AppConfig.theme;\n                $scope.canEdit = $scope.edit;\n\n                if (!$scope.album) {\n                    return false;\n                }\n                $ionicModal.fromTemplateUrl('app/directive/albumPhotoGridDirective.html', {\n                    scope: $scope,\n                }).then(function (modal) {\n                    $scope.modal = modal;\n                    $scope.modal.show();\n                });\n\n                $scope.closeAlbumPhotoGridModal = function () {\n                    $scope.modal.hide();\n                };\n                $scope.$on('$destroy', function () {\n                    $scope.modal.remove();\n                });\n\n                $rootScope.$on('photogrid:modal:reload', init);\n\n                function init() {\n                    $scope.loading = true;\n                    Gallery.getAlbum({id: $scope.album}).then(function (data) {\n                        console.log(data);\n                        $scope.title   = data.album.attributes.title;\n                        $scope.data    = data.photos;\n                        $scope.loading = false;\n                        $scope.$digest();\n                    });\n                }\n\n                init();\n\n\n                $scope.openPopover  = function ($event) {\n                    $ionicPopover.fromTemplateUrl('app/directive/albumPhotoGridPopover.html', {\n                        scope: $scope\n                    }).then(function (popover) {\n                        $scope.popover = popover;\n                        $scope.popover.show($event);\n                    });\n                };\n                $scope.closePopover = function () {\n                    $scope.popover.hide();\n                };\n\n                $scope.uploadPhoto = function () {\n                    $scope.closePopover();\n                    PhotoService.open().then(PhotoService.modalPost).then(function (form) {\n                        Loading.start();\n                        ParseFile.upload({base64: form.image}).then(function (imageUploaded) {\n                            form.image = imageUploaded;\n                            Gallery.create(form).then(function (item) {\n                                $scope.$emit('albumGrid:reload', item);\n                                init();\n                                Loading.end();\n                            });\n                        });\n                    });\n                    $scope.closePopover();\n                };\n\n                $scope.editAlbum = function () {\n                    $scope.closePopover();\n                    $scope.form = {\n                        title      : '',\n                        description: ''\n                    };\n\n\n                    $ionicModal.fromTemplateUrl('app/directive/galleryNewAlbumModalDirective.html', {\n                        scope          : $scope,\n                        focusFirstInput: true\n                    }).then(function (modal) {\n                        $scope.modalAlbum = modal;\n\n                        Loading.start();\n                        GalleryAlbum.get($scope.album).then(function (album) {\n                            $scope.form = album;\n                            $scope.modalAlbum.show();\n                            Loading.end();\n                        });\n                    });\n                    $scope.createAlbum = function (rForm, form) {\n                        console.log(rForm, form);\n                        if (rForm.$valid) {\n                            $scope.form.save().then(function (data) {\n                                console.log(data);\n                                $scope.closeAlbumPhotoGridModal();\n                                $scope.closeModal();\n                                $rootScope.$emit('albumGrid:reload', true);\n                            });\n                        }\n                    };\n\n                    $scope.closeModal = function () {\n                        $scope.modalAlbum.hide();\n                    };\n                };\n\n                $scope.deleteAlbum = function () {\n                    $scope.closePopover();\n                    Dialog.confirm({\n                        title  : $translate.instant('deleteAlbum'),\n                        message: $translate.instant('areSure?')\n                    }).then(function (resp) {\n                        console.log(resp);\n                        if (resp) {\n                            Loading.start();\n                            GalleryAlbum.get($scope.album).then(function (item) {\n                                GalleryAlbum.destroy(item).then(function (resp) {\n                                    console.log(resp);\n                                    $scope.closeAlbumPhotoGridModal();\n                                    Loading.end();\n                                    Toast.alert({\n                                        title: $translate.instant('album'),\n                                        text : $translate.instant('removedSuccess')\n                                    });\n                                    $rootScope.$emit('albumGrid:reload', true);\n                                });\n                            })\n                        }\n                    });\n                };\n\n\n            });\n        }\n\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n    angular\n        .module('starter')\n        .directive('buy', buyDirective);\n\n    function buyDirective($cordovaInAppBrowser) {\n        return {\n            restrict: 'A',\n            link: buyLink\n        };\n\n        function buyLink(scope, elem) {\n            elem.bind('click', function () {\n                var url     = 'https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=FAW4JZS7KJM5S';\n\n                if(window.cordova ) {\n                    cordova\n                        .ThemeableBrowser\n                        .open(url, '_blank', {\n                            statusbar: {\n                                color: '#ffffffff'\n                            },\n                            toolbar: {\n                                height: 44,\n                                color: '#f0f0f0ff'\n                            },\n                            title: {\n                                color: '#333333',\n                                showPageTitle: true\n                            },\n                            closeButton: {\n                                image: 'close',\n                                imagePressed: 'close_pressed',\n                                align: 'left',\n                                event: 'closePressed'\n                            },\n                            backButtonCanClose: true\n                        });\n                } else {\n                    window.open(url,'_blank');\n                }\n            });\n        }\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('compareTo', compareToDirective);\n\n    function compareToDirective() {\n        return {\n            restrict: 'A',\n            scope   : {\n                targetModel: '=compareTo'\n            },\n            require : 'ngModel',\n            link    : function postLink(scope, element, attrs, ctrl) {\n\n                var compare = function () {\n\n                    var e1 = element.val();\n                    var e2 = scope.targetModel;\n\n                    if (e2 !== null) {\n                        return e1 === e2;\n                    }\n\n                    return false;\n                };\n\n                scope.$watch(compare, function (newValue) {\n                    ctrl.$setValidity('errorCompareTo', newValue);\n                });\n\n            }\n        };\n    }\n\n})();\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('distanceModal', distanceModalDirective);\n\n    function distanceModalDirective($localStorage, $ionicModal) {\n        return {\n            restrict: 'A',\n            link    : distanceModalLink\n        };\n\n        function distanceModalLink($scope, elem, attr) {\n\n            elem.bind('click', function () {\n                    $scope.storage   = $localStorage;\n                    $scope.distances = [\n                        {\n                            val : 0.20,\n                            text: 'perto'\n                        },\n                        {\n                            val : 0.60,\n                            text: 'longe'\n                        },\n                        {\n                            val : 1.00,\n                            text: '1 ' + $scope.storage.unit\n                        },\n                        {\n                            val : 5.00,\n                            text: '5 ' + $scope.storage.unit\n                        },\n                        {\n                            val : 10.00,\n                            text: '10 ' + $scope.storage.unit\n                        },\n                        {\n                            val : 25.00,\n                            text: '25 ' + $scope.storage.unit\n                        },\n                        {\n                            val : 50.00,\n                            text: '50 ' + $scope.storage.unit\n                        },\n                        {\n                            val : 100.00,\n                            text: '100 ' + $scope.storage.unit\n                        },\n                    ];\n\n                    $ionicModal.fromTemplateUrl('app/directive/distanceModal.html', {\n                        scope: $scope\n                    }).then(function (modal) {\n                        $scope.modal = modal;\n                        $scope.modal.show();\n\n                    });\n\n                    $scope.onDistanceSelected = function (distance) {\n                        console.log('Distance', distance);\n                    };\n\n                    $scope.closeDistanceModal = function () {\n                        $scope.modal.hide();\n                        $scope.modal.remove();\n                    };\n\n\n                }\n            );\n        }\n    }\n\n})\n();\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('emailValidator', emailValidatorDirective);\n\n    function emailValidatorDirective(User) {\n        return {\n            require: 'ngModel',\n            link    : emailValidatorLink,\n        };\n\n        function emailValidatorLink(scope, elem, attr,ngModel) {\n            ngModel.$asyncValidators.email = function  (modelValue, viewValue) {\n                if(viewValue) {\n                console.log(elem, viewValue);\n                    return User.validateEmail(viewValue);\n                }\n            }\n        }\n    }\n\n})();\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('facebookLogin', facebookLoginDirective);\n\n    function facebookLoginDirective(Loading, $state, $translate, AppConfig, Facebook, Dialog, User, $rootScope) {\n        return {\n            restrict: 'E',\n            link    : facebookLoginLink,\n            template: '<button class=\"button button-block button-facebook\"><i class=\"icon ion-social-facebook\"></i> <ion-spinner ng-if=\"loading\"></ion-spinner> <span ng-if=\"!loading\">{{ me.name || \\'loginWithFacebook\\'| translate}}</span> </button>',\n        };\n\n        function facebookLoginLink(scope, elem, attr) {\n\n            scope.facebookStatus = null;\n\n            elem.bind('click', onLoginViaFacebook);\n\n\n            function onLoginViaFacebook() {\n\n                Facebook.getCurrentUser().then(function (response) {\n\n                    if (response.status === 'connected') {\n                        processFacebookLogin(response);\n                    } else {\n                        Facebook.logIn().then(function (authData) {\n                            processFacebookLogin(authData);\n                        });\n                    }\n                });\n            }\n\n            function processFacebookLogin(fbAuthData) {\n\n                Loading.start('Conectando com o Facebook')\n                var fbData, newUser;\n\n                return Facebook.me().then(function (data) {\n                    fbData = data;\n                    return User.findByEmail(data.email);\n                }).then(function (user) {\n\n                    if (!user.id) {\n                        newUser = true;\n                        return User.signInViaFacebook(fbAuthData);\n                    }\n\n                    var authData = user.get('authData');\n                    if (authData) {\n                        if (authData.facebook.id === fbData.id) {\n                            return User.signInViaFacebook(fbAuthData);\n                        }\n                    } else {\n                        var deferred = $q.defer();\n                        deferred.reject('Facebook error');\n                        return deferred.promise;\n                    }\n                }).then(function () {\n                    return User.updateWithFacebookData(fbData);\n                }).then(function (user) {\n                    $rootScope.currentUser = user;\n                    $rootScope.$broadcast('onUserLogged');\n                    Loading.end();\n                    if (newUser) {\n                        $state.go('avatar', {clear: true})\n                    } else {\n                        $state.go(AppConfig.routes.home, {clear: true});\n                    }\n                    Loading.end();\n                }, function (error) {\n                    Loading.end();\n                    Dialog.alert(error);\n                })\n            }\n\n        }\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').directive('focusMe', focusMeDirective);\n\n    function focusMeDirective($timeout, $rootScope) {\n        return {\n            restrict: 'A',\n            link    : function (scope, element, attrs) {\n\n                $rootScope.$on('openKeyboard', openKeyboard);\n\n                openKeyboard();\n\n                function openKeyboard() {\n                    $timeout(function () {\n                        element[0].focus();\n                        element[0].click();\n                        if (window.cordova) {\n                            cordova.plugins.Keyboard.show();\n                        }\n                    }, 750);\n                }\n            }\n        };\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('galleryAlbumModal', galleryAlbumModalDirective);\n\n    function galleryAlbumModalDirective($ionicModal, AppConfig, $q, GalleryAlbum, $rootScope) {\n        return {\n            restrict: 'A',\n            link    : galleryAlbumModalLink,\n            scope   : {\n                ngModel: '='\n            }\n        };\n\n        function galleryAlbumModalLink($scope, elem, attr) {\n\n            elem.bind('click', openModal);\n\n            function openModal() {\n                var defer = $q.defer();\n\n                $scope.loading = true;\n                $scope.theme = AppConfig.theme;\n\n\n                init();\n                loadFeed();\n\n                function loadFeed() {\n                    if ($scope.loading) return;\n                    $scope.loading = true;\n                    GalleryAlbum.list($scope.params).then(function (data) {\n                        console.log(data);\n                        if (data.length > 0) {\n                            $scope.params.page++;\n                            data.map(function (item) {\n                                $scope.data.push(item);\n                            });\n                        } else {\n                            if ($scope.data.length === 0) {\n                                $scope.showEmptyView = true;\n                            }\n                            $scope.moreDataCanBeLoaded = false;\n                        }\n\n                        $scope.loading = false;\n                        $rootScope.$broadcast('scroll.infiniteScrollComplete');\n                        $rootScope.$broadcast('scroll.refreshComplete');\n\n                    }).catch(function (err) {\n                        if ($scope.data.length === 0) {\n                            $scope.showErrorView = true;\n                        }\n                        $scope.$broadcast('scroll.refreshComplete');\n                    });\n                }\n\n                $scope.onLoadMore = function () {\n                    loadFeed();\n                };\n\n                $scope.onReload = function () {\n                    init()\n                    loadFeed();\n                    $scope.$broadcast('scroll.refreshComplete');\n                };\n\n                function init() {\n                    $scope.params              = {};\n                    $scope.params.page         = 1;\n                    $scope.data                = [];\n                    $scope.moreDataCanBeLoaded = true;\n                    $scope.loading             = false;\n\n                    if ($scope.canEdit) {\n                        $scope.data.push({\n                            create: true\n                        });\n                    }\n                }\n\n                $ionicModal.fromTemplateUrl('app/directive/galleryAlbumModalDirective.html', {\n                    scope          : $scope,\n                    focusFirstInput: true\n                }).then(function (modal) {\n                    $scope.modal = modal;\n                    $scope.modal.show();\n                });\n\n                $rootScope.$on('selectAlbum', function (event, album) {\n                    console.log('selectAlbum', event);\n                    console.log('selectAlbum', album);\n                    $scope.ngModel = album;\n                    $scope.closeModal();\n                });\n\n\n                $scope.closeModal = function () {\n                    $scope.modal.hide();\n                };\n\n                $scope.$on('$destroy', function () {\n                    $scope.modal.remove();\n                });\n\n                $scope.selectAlbum = function (album) {\n                    $scope.ngModel = album;\n                    $scope.closeModal();\n                };\n\n                return defer.promise;\n            }\n\n        }\n    }\n\n})();\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('galleryNewAlbumModal', galleryNewAlbumModalDirective);\n\n    function galleryNewAlbumModalDirective($ionicModal, AppConfig, $q, $rootScope, GalleryAlbum) {\n        return {\n            restrict: 'A',\n            link    : galleryNewAlbumModalLink,\n            scope   : {\n                ngModel: '='\n            }\n        };\n\n        function galleryNewAlbumModalLink($scope, elem, attr) {\n\n            elem.bind('click', openModal);\n\n            function openModal() {\n                var defer = $q.defer();\n                $scope.theme = AppConfig.theme;\n\n                $scope.form = {\n                    title      : '',\n                    description: ''\n                };\n\n\n                $ionicModal.fromTemplateUrl('app/directive/galleryNewAlbumModalDirective.html', {\n                    scope          : $scope,\n                    focusFirstInput: true\n                }).then(function (modal) {\n                    $scope.modal = modal;\n                    $scope.modal.show();\n                });\n\n                $scope.createAlbum = function (rForm, form) {\n                    console.log(rForm, form);\n                    if (rForm.$valid) {\n                        GalleryAlbum.create(angular.copy(form)).then(function (album) {\n                            console.log('album created', album);\n                            $scope.ngModel = album;\n                            $scope.closeModal();\n                            $rootScope.$emit('selectAlbum', album);\n                            $rootScope.$emit('albumGrid:reload', album);\n                        });\n                    } else {\n\n                    }\n                };\n\n                $scope.closeModal = function () {\n                    $scope.modal.hide();\n                };\n\n                $scope.$on('$destroy', function () {\n                    $scope.modal.remove();\n                });\n\n                $scope.selectAlbum = function (album) {\n                    $scope.ngModel = album;\n                    $scope.closeModal();\n                };\n\n                return defer.promise;\n            }\n\n        }\n    }\n\n})();\n(function () {\n  'use strict';\n\n angular\n    .module('starter')\n    .directive('heart', heartDirective);\n\n  function heartDirective() {\n    return {\n      restrict: 'A',\n      scope: {\n        item: '='\n      },\n      link: heartLink\n    };\n\n    function heartLink(scope, elem, attr) {\n      elem.bind('click', function () {\n        console.log(scope.item);\n        elem.addClass('happy');\n      });\n    }\n  }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('starter')\n           .directive('ionLoading', ionLoading)\n           .run(runLoading)\n           .factory('Loading', Loading);\n\n    function ionLoading() {\n        return {\n            restrict: 'E',\n            scope   : {\n                icon   : '@',\n                loading: '='\n            },\n            template: '<div class=\"padding text-center loading\" ng-show=\"loading\"><ion-spinner icon=\"{{ icon }}\"></ion-spinner></div>'\n        };\n    }\n\n    function runLoading($rootScope, $ionicLoading) {\n        $rootScope.$on('ionicLoading:true', function (text) {\n            $rootScope.loading = true;\n            $ionicLoading.show(text);\n        });\n        $rootScope.$on('ionicLoading:false', function () {\n            $rootScope.loading = false;\n            $ionicLoading.hide();\n        });\n    }\n\n    function Loading($rootScope, $cordovaProgress, $timeout) {\n        var seconds = 0;\n\n        return {\n            start: showLoading,\n            end  : hideLoading,\n        };\n\n\n        function showLoading(text) {\n            if (window.cordova) {\n                $cordovaProgress.showSimple();\n            } else {\n                $rootScope.$broadcast('ionicLoading:true', text);\n            }\n        }\n\n        function hideLoading() {\n            $timeout(function () {\n                if (window.cordova) {\n                    $cordovaProgress.hide();\n                } else {\n                    $rootScope.$broadcast('ionicLoading:false');\n                }\n            }, parseInt(seconds + '000'));\n        }\n    }\n})();\n(function () {\n  'use strict';\n\n  angular\n    .module('starter')\n    .directive('loading', PhotogramLoadingDirective);\n\n  function PhotogramLoadingDirective() {\n    return {\n      restrict: 'E',\n      scope   : {\n        loading: '=',\n        icon   : '@'\n      },\n      template: '<div class=\"padding text-center loading\" ng-show=\"loading\"><ion-spinner icon=\"{{ icon }}\"></ion-spinner></div>'\n    };\n  }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('mapPhotoUser', mapPhotoUserDirective);\n\n    function mapPhotoUserDirective($state, $localStorage, Toast, Gallery, Geolocation, Dialog) {\n        return {\n            restrict: 'E',\n            link    : mapPhotoUserLink,\n            scope      : {\n                username  : '=',\n                load      : '=',\n                onReload  : '=',\n            },\n            templateUrl: 'app/directive/mapPhotoUserDirective.html'\n        };\n\n        function mapPhotoUserLink($scope, elem, attr) {\n\n            var markers      = [];\n            var latlngbounds = new google.maps.LatLngBounds();\n            $scope.maxRating = 5;\n            $scope.storage   = $localStorage;\n            $scope.galleries = [];\n            $scope.params    = {\n                location: null,\n                distance: 100.00,\n                page    : 1,\n                limit   : 10,\n                username: $scope.username\n            };\n            $scope.loading   = true;\n            $scope.map\n\n            function init() {\n                $scope.galleries = [];\n                removeGallerys();\n                removeMarkers();\n\n                var position   = {\n                    latitude : -18.8800397,\n                    longitude: -47.05878999999999\n                };\n                var mapOptions = {\n                    center   : setPosition(position),\n                    zoom     : 15,\n                    mapTypeId: google.maps.MapTypeId.ROADMAP\n                };\n\n                $scope.map = new google.maps.Map(document.getElementById('map_canvas'), mapOptions);\n            }\n\n            init();\n            myPosition();\n\n\n            function myPosition() {\n                Geolocation.getCurrentPosition().then(function (position) {\n\n                    console.log(position);\n\n                    $scope.params.location = {\n                        latitude : position.coords.latitude,\n                        longitude: position.coords.longitude\n                    };\n\n                    var marker = {\n                        position: setPosition($scope.params.location),\n                        title   : 'I am here',\n                        id      : 0\n                    }\n\n                    addMarker(marker);\n\n                    $scope.map.setCenter(setPosition($scope.params.location));\n\n                    loadGallerys();\n                }, function (error) {\n                    $scope.params.location = null;\n\n                    var errorMessage;\n                    if (error.code === 1 || error.code === 3) {\n                        errorMessage = 'errorGpsDisabledText';\n                    } else {\n                        errorMessage = 'errorLocationMissingText';\n                    }\n                    Dialog.alert(errorMessage);\n\n                });\n            }\n\n            function setPosition(location) {\n                if (location) {\n                    return new google.maps.LatLng(location.latitude, location.longitude);\n                }\n            }\n\n            function addMarker(item) {\n\n\n                var markerOption = {\n                    id       : item.id,\n                    map      : $scope.map,\n                    position : item.position,\n                    title    : item.title,\n                    animation: google.maps.Animation.DROP\n                };\n\n                if (item.icon) {\n                    var size          = 40;\n                    markerOption.icon = {\n                        url       : item.icon,\n                        size      : new google.maps.Size(size, size),\n                        scaledSize: new google.maps.Size(size, size),\n                        origin    : new google.maps.Point(0, 0),\n                        anchor    : new google.maps.Point(size / 4, size / 4),\n                    };\n                }\n\n                var marker = new google.maps.Marker(markerOption);\n\n                google.maps.event.addListener(marker, 'click', function () {\n\n                    console.log(item.username);\n\n                });\n\n                markers.push(marker);\n\n                new MarkerClusterer($scope.map, markers, {\n                    imagePath: '../img/m'\n                });\n\n                latlngbounds.extend(item.position);\n                $scope.map.fitBounds(latlngbounds);\n            }\n\n            function setGallerys(galleries) {\n                $scope.galleries = galleries;\n                galleries.map(function (item) {\n\n                    if (item.location) {\n                        var marker = {\n                            map     : $scope.map,\n                            id      : item.id,\n                            position: setPosition(item.location),\n                            title   : item.title,\n                            image   : item.image.url(),\n                            icon    : item.imageThumb.url(),\n                        };\n\n                        addMarker(marker)\n                    }\n                });\n\n\n            }\n\n            function loadGallerys() {\n                $scope.loading = true;\n                Gallery.feed($scope.params).then(function (galleries) {\n\n                    if (galleries.length > 0) {\n                        setGallerys(galleries);\n                    } else {\n                        Dialog.alert('galleriesNotFoundText');\n                    }\n\n                    $scope.loading = false;\n\n                }, function () {\n                    Toast.show('errorText');\n                });\n            }\n\n            function removeGallerys() {\n                $scope.galleries = [];\n            }\n\n            function removeMarkers() {\n                markers.map(function (item) {\n                    item.setMap(null);\n                });\n                markers = [];\n            };\n\n            $scope.onSearchHere = function () {\n                $scope.params.location.latitude  = $scope.map.getCenter().lat();\n                $scope.params.location.longitude = $scope.map.getCenter().lng();\n                removeGallerys();\n                removeMarkers();\n                loadGallerys();\n            }\n\n            $scope.onGalleryClicked = function (item) {\n                console.log(item);\n            };\n        }\n    }\n\n})();\n(function () {\n  'use strict';\n\n    angular\n    .module('starter')\n    .directive('photogramFollow', photogramFollowDirective);\n\n  function photogramFollowDirective($ionicModal, AppConfig, Photogram) {\n\n    var path = AppConfig.path;\n\n    return {\n      restrict: 'A',\n      scope: {\n        user: '='\n      },\n      link: function (scope, elem, attr) {\n        elem.bind('click', openModal);\n        scope.closeModal = closeModal;\n\n        function openModal() {\n          $ionicModal.fromTemplateUrl(path + '/directive/follow/photogram.follow.modal.html', {\n            scope: scope\n          }).then(function (modal) {\n            scope.modalFollow = modal;\n            console.log('Open modal follow', scope.user);\n\n            Photogram\n              .getFollow(scope.user)\n              .then(function (resp) {\n                console.log(resp);\n                scope.data = resp;\n                scope.modalFollow.show();\n              });\n\n          });\n        }\n\n        function closeModal() {\n          scope.modalFollow.hide();\n          scope.modalFollow.remove();\n        }\n      }\n    }\n  }\n\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('photoGrid', photoGridDirective);\n\n    function photoGridDirective(Gallery, $rootScope, $ionicPopup, Share, FeedbackModal, $ionicActionSheet) {\n\n        return {\n            restrict   : 'E',\n            scope      : {\n                username: '=',\n                user    : '=',\n                profile : '=',\n                onReload: '=',\n            },\n            templateUrl: 'app/directive/photoGridDirective.html',\n            link       : photoGridCtrl\n        };\n\n        function photoGridCtrl($scope, elem, attr) {\n            init();\n\n            if ($scope.username) {\n                $scope.params.username = $scope.username;\n            }\n\n            $rootScope.$on('photoInclude', function (elem, item) {\n                if (item.objectId) {\n                    item.id = item.objectId;\n                }\n                $scope.data.unshift(item);\n            });\n\n            $rootScope.$on('gallery:search', function (elem, item) {\n                console.log(elem, item);\n                $scope.params.search = item.text;\n                $scope.onReload();\n            });\n\n\n            loadFeed();\n\n            function loadFeed() {\n                if ($scope.loading) return;\n                $scope.loading = true;\n                Gallery.feed($scope.params).then(function (data) {\n                    if (data.length > 0) {\n                        $scope.params.page++;\n                        data.map(function (item) {\n                            $scope.data.push(item);\n                        });\n                    } else {\n                        if ($scope.data.length === 0) {\n                            $scope.showEmptyView = true;\n                        }\n                        $scope.moreDataCanBeLoaded = false;\n                    }\n\n                    $scope.loading = false;\n                    $rootScope.$broadcast('scroll.infiniteScrollComplete');\n                    $rootScope.$broadcast('scroll.refreshComplete');\n\n                }).catch(function () {\n                    if ($scope.data.length === 0) {\n                        $scope.showErrorView = true;\n                    }\n                    $scope.$broadcast('scroll.refreshComplete');\n                });\n            }\n\n            $scope.onLoadMore = function () {\n                loadFeed();\n            };\n\n\n            $scope.onReload = function () {\n                init()\n                loadFeed();\n                $scope.$broadcast('scroll.refreshComplete');\n            };\n\n            function init() {\n                $scope.params              = {};\n                $scope.params.page         = 1;\n                $scope.data                = [];\n                $scope.loading             = false;\n                $scope.moreDataCanBeLoaded = true;\n                $scope.showEmptyView       = false;\n                $scope.showErrorView       = false;\n\n                if ($scope.canEdit) {\n                    $scope.data.push({\n                        create: true\n                    });\n                }\n            }\n\n            $scope.action = function (gallery) {\n\n                var buttons = [\n                    {\n                        text: '<i class=\"icon ion-share\"></i>' + ('Share')\n                    }, {\n                        text: '<i class=\"icon ion-alert-circled\"></i>' + ('Report')\n                    }\n                ];\n\n\n                console.log(gallery);\n\n                if (Parse.User.current().id === gallery.user_id) {\n                    var buttonDelete = {\n                        text: '<i class=\"icon ion-trash-b\"></i>' + ('Delete your photo')\n                    };\n                    buttons.push(buttonDelete);\n                }\n                var message = {\n                    text : gallery.title,\n                    image: gallery.img\n                };\n\n                var actionSheet = {\n                    buttons      : buttons,\n                    titleText    : ('Photo'),\n                    cancelText   : ('Cancel'),\n                    buttonClicked: actionButtons\n                };\n\n\n                function actionButtons(index) {\n                    switch (index) {\n                        case 0:\n                            Share.share(message);\n                            break;\n                        case 1:\n                            FeedbackModal.modal(gallery);\n                            break;\n                        case 2:\n\n                            $ionicPopup\n                                .confirm({\n                                    title   : ('Delete photo'),\n                                    template: ('Are you sure?')\n                                })\n                                .then(function (res) {\n                                    if (res) {\n                                        Gallery.destroy(gallery).then(function () {\n                                            console.log('Photo deleted');\n                                            $scope.$emit('PhotogramHome:reload');\n                                        });\n                                    }\n                                });\n\n\n                    }\n                    return true;\n                }\n\n                $ionicActionSheet.show(actionSheet);\n            };\n\n        }\n\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').directive('photoLike', photoLikeDirective);\n\n    function photoLikeDirective(Gallery, $timeout) {\n        return {\n            restrict: 'A',\n            scope   : {\n                ngModel: '=',\n                loading: '='\n            },\n            link    : function (scope, elem) {\n                elem.bind('click', function () {\n                        if (scope.loading) return;\n                        var _model      = scope.ngModel;\n                        _model.progress = true;\n                        _model.liked    = !_model.liked;\n                        scope.loading   = true;\n\n                        Gallery.likeGallery({galleryId: scope.ngModel.id}).then(function (resp) {\n                            _model.likes    = resp.likes;\n                            _model.progress = false;\n                            if (resp.action === 'like') {\n                                scope.ngModel.isLiked = true;\n                                scope.ngModel.likesTotal += 1;\n                            }\n\n                            if (resp.action === 'unlike') {\n                                scope.ngModel.isLiked = false;\n                                scope.ngModel.likesTotal -= 1;\n                            }\n\n                            scope.loading = false;\n                            scope.$digest();\n                        });\n                    }\n                );\n\n            }\n        };\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('photoList', photoListDirective);\n\n    function photoListDirective(Gallery, $rootScope, Loading, $ionicPopup, $translate, $state, Share, Toast, FeedbackModal, $ionicActionSheet) {\n\n        return {\n            restrict   : 'E',\n            scope      : {\n                username  : '=',\n                profile   : '=',\n                load      : '=',\n                openLikers: '=',\n                onReload  : '=',\n                id        : '=',\n                type      : '='\n            },\n            templateUrl: 'app/directive/photoListDirective.html',\n            link       : photoListController\n        };\n\n        function photoListController($scope, elem, attr) {\n            $scope.params = {};\n\n            $rootScope.$on('photolist:reload', function (ev, value) {\n                console.log('Reload photolist', value);\n                if (value) {\n                    $scope.params.privacity = value;\n                }\n                init()\n                loadFeed();\n            });\n\n            if ($scope.type) {\n                $scope.params.privacity = $scope.type;\n            }\n\n            init();\n\n            var currentUser = Parse.User.current();\n\n            if ($scope.username) {\n                $scope.params.username = $scope.username;\n            }\n\n            if ($scope.id) {\n                $scope.params.id = $scope.id;\n            }\n\n            $rootScope.$on('photoInclude', function (elem, item) {\n                if (item.objectId) {\n                    item.id = item.objectId;\n                }\n                $scope.data.unshift(item);\n            });\n\n            $scope.openComment = function (galleryId) {\n                $state.go('galleryComments', {galleryId: galleryId})\n            };\n\n            $scope.share = function (item) {\n                var itemShare = {\n                    title   : item.title,\n                    image   : item.image.url(),\n                    userName: item.user.name,\n                    url     : 'http://market.ionic.io/starters/photogram-ionic-instagram-clone',\n                };\n                console.log(item, itemShare);\n                Share.open();\n            };\n\n\n            loadFeed();\n\n            function loadFeed() {\n                if ($scope.loading) return;\n                $scope.loading = true;\n                Gallery.feed($scope.params).then(function (data) {\n                    if (data.length > 0) {\n                        $scope.params.page++;\n                        data.map(function (item) {\n                            if (item.pet) {\n                                item.canEdit = (currentUser.id === item.pet.attributes.user.id) ? true : false;\n                            } else {\n                                item.canEdit = false;\n                            }\n                            $scope.data.push(item);\n                        });\n                    } else {\n                        if ($scope.data.length === 0) {\n                            $scope.showEmptyView = true;\n                        }\n                        $scope.moreDataCanBeLoaded = false;\n                    }\n\n                    $scope.loading = false;\n                    $rootScope.$broadcast('scroll.infiniteScrollComplete');\n                    $rootScope.$broadcast('scroll.refreshComplete');\n\n                }).catch(function (err) {\n                    if ($scope.data.length === 0) {\n                        $scope.showErrorView = true;\n                    }\n                    $scope.$broadcast('scroll.refreshComplete');\n                });\n            }\n\n            $scope.onLoadMore = function () {\n                loadFeed();\n            };\n\n            $scope.onReload = function () {\n                init()\n                loadFeed();\n                $scope.$broadcast('scroll.refreshComplete');\n            };\n\n            function init() {\n                $scope.params.page         = 1;\n                $scope.data                = [];\n                $scope.loading             = false;\n                $scope.moreDataCanBeLoaded = true;\n                $scope.showEmptyView       = false;\n                $scope.showErrorView       = false;\n\n                if ($scope.canEdit) {\n                    $scope.data.push({\n                        create: true\n                    });\n                }\n            }\n\n            $rootScope.$on('onUserLogged', $scope.onReload);\n\n            $scope.action = function (gallery) {\n\n                var buttons = [\n                    {\n                        text: '<i class=\"icon ion-alert-circled\"></i>' + $translate.instant('reportText')\n                    }\n                ];\n\n\n                console.log(gallery);\n\n                if (Parse.User.current().id === gallery.user.id) {\n                    var buttonDelete = {\n                        text: '<i class=\"icon ion-trash-b\"></i>' + $translate.instant('deleteGallery')\n                    };\n                    buttons.push(buttonDelete);\n                }\n                var message = {\n                    text : gallery.title,\n                    image: gallery.img\n                };\n\n                var actionSheet = {\n                    buttons      : buttons,\n                    cancelText   : $translate.instant('cancelText'),\n                    buttonClicked: actionButtons\n                };\n\n\n                function actionButtons(index) {\n                    switch (index) {\n                        case 0:\n                            FeedbackModal.modal(gallery.id);\n                            break;\n                        case 1:\n\n                            $ionicPopup\n                                .confirm({\n                                    title   : $translate.instant('deleteGalleryConfirmText'),\n                                    template: $translate.instant('areSure')\n                                })\n                                .then(function (res) {\n                                    if (res) {\n                                        Loading.start();\n                                        Gallery.get(gallery.id).then(function (gallery) {\n                                            if (gallery) {\n                                                Gallery.destroy(gallery).then(function () {\n                                                    console.log('Photo deleted');\n                                                    Toast.alert({\n                                                        title: 'Photo',\n                                                        text : 'Photo deleted'\n                                                    });\n                                                    $scope.onReload();\n                                                    Loading.end();\n                                                });\n                                            } else {\n                                                $scope.onReload();\n                                                Loading.end();\n                                            }\n                                        }).catch(function () {\n                                            $scope.onReload();\n                                            Loading.end();\n                                        })\n\n                                    }\n                                });\n\n\n                    }\n                    return true;\n                }\n\n                $ionicActionSheet.show(actionSheet);\n            };\n\n        }\n\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('profileModalEdit', profileModalEditDirective);\n\n    function profileModalEditDirective($ionicModal, $rootScope, ParsePush, $localStorage, User, Loading, $state) {\n\n        return {\n            restrict: 'A',\n            scope   : {\n                user: '='\n            },\n            template: '',\n            link    : function (scope, elem) {\n\n\n                elem.bind('click', openModal);\n\n\n                function init() {\n                    scope.theme      = $rootScope.theme;\n                    var user         = Parse.User.current().attributes;\n                    scope.form       = {\n                        name    : user.name,\n                        email   : user.email,\n                        status  : user.status,\n                        photo   : user.photo,\n                        username: user.username,\n                        gender  : user.gender,\n                        facebook: user.facebook\n                    };\n                }\n\n\n                function openModal() {\n\n                    scope.linkFacebook        = linkFacebook;\n                    scope.logout              = logout;\n                    scope.submitUpdateProfile = submitUpdateProfile;\n                    scope.closeModal          = closeModal;\n                    scope.currentUser         = $rootScope.currentUser;\n\n                    init();\n\n                    $ionicModal.fromTemplateUrl('app/directive/profile-edit-modal.html', {\n                        scope: scope\n                    }).then(function (modal) {\n                        scope.modal = modal;\n                        scope.modal.show();\n                    });\n\n                    scope.$on('$destroy', function () {\n                        scope.modal.remove();\n                    });\n\n                }\n\n                function logout() {\n                    delete window.localStorage['Parse/myAppId/currentUser'];\n                    delete window.localStorage['Parse/myAppId/installationId'];\n                    $localStorage.$reset({});\n                    $state.go('user.intro', {clear: true});\n                    scope.closeModal();\n                }\n\n                function linkFacebook() {\n                    User.facebookLink().then(function (resp) {\n                        console.log(resp);\n                    });\n                }\n\n                function submitUpdateProfile() {\n                    var dataForm = angular.copy(scope.form);\n                    Loading.start();\n\n                    var username = Parse.User.current().username;\n\n                    if (username != dataForm.username) {\n                        ParsePush.unsubscribe(username);\n                        ParsePush.subscribe(username);\n                    }\n\n                    User.update(dataForm).then(function (resp) {\n                        scope.user             = resp;\n                        $rootScope.currentUser = resp;\n                        Loading.end();\n                        scope.closeModal();\n                    });\n                }\n\n                function closeModal() {\n                    scope.modal.hide();\n                }\n\n            }\n        };\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').directive('profileModal', profileModalDirective);\n\n    function profileModalDirective($ionicModal, User) {\n\n        return {\n            restrict: 'A',\n            scope   : {\n                username: '='\n            },\n            link    : profileModalLink\n        };\n\n        function profileModalLink(scope, elem) {\n            elem.bind('click', function () {\n\n                console.log(scope.username);\n\n                User.profile(scope.username).then(function (data) {\n                    console.log(data);\n                    scope.user = data;\n                    openModal();\n                });\n\n            });\n\n            function openModal() {\n\n                console.log(scope.user.attributes);\n\n                $ionicModal.fromTemplateUrl('app/directive/profile-modal.html', {\n                    scope: scope\n                }).then(function (modal) {\n                    scope.modalProfile  = modal;\n                    scope.loadingFollow = true;\n                    scope.changeTab     = changeTab;\n                    scope.follow        = follow;\n                    scope.closeModal    = closeModal;\n                    scope.modalProfile.show();\n\n                    changeTab('list');\n\n                    function follow() {\n\n                        scope.loadingFollow = true;\n                        var status;\n\n                        if (scope.user.follow) {\n                            status = false;\n                        } else {\n                            status = true;\n                        }\n\n                        User.follow(scope.user.userObj.id).then(function (resp) {\n                            console.log('Follow result', resp);\n                            scope.user.isFollow = (resp === 'follow') ? true : false;\n                            if (resp == 'follow') {\n                                scope.user.followersTotal += 1;\n                            }\n                            if (resp == 'unfollow') {\n                                scope.user.followersTotal -= 1;\n                            }\n                            scope.loadingFollow = false;\n                        });\n\n\n                    }\n\n                    function closeModal() {\n                        delete scope.data;\n                        scope.modalProfile.hide();\n                    }\n                });\n\n                scope.$on('$destroy', function () {\n                    scope.modalProfile.remove();\n                });\n            }\n\n            function changeTab(tab) {\n                if (tab === 'list') {\n                    scope.tab = {\n                        list: true,\n                        grid: false\n                    };\n                } else {\n                    scope.tab = {\n                        list: false,\n                        grid: true\n                    };\n                }\n            }\n\n\n        }\n    }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('starter')\n    .directive('ionSearch', ionSearchDirective);\n\n  function ionSearchDirective($timeout) {\n\n    return {\n      restrict   : 'E',\n      scope      : {\n        getData: '&source',\n        ngModel: '=?',\n        search : '=?filter'\n      },\n      templateUrl: 'app/module/photogram/directive/search/search-directive.html',\n      link       : function (scope, element, attrs) {\n        attrs.minLength = attrs.minLength || 0;\n        scope.placeholder = attrs.placeholder || '';\n        scope.clear = function () {\n          console.log('Limpar campo');\n          scope.input = '';\n          scope.$apply();\n        };\n\n        if (attrs.class) {\n          element.addClass(attrs.class);\n        }\n\n        if (attrs.source) {\n          scope.$watch('search.value', watchSearch);\n        }\n\n        function watchSearch(newValue) {\n          if (newValue.length > attrs.minLength) {\n            $timeout(function () {\n              scope\n                .getData({\n                  str: newValue\n                })\n                .then(function (results) {\n                  scope.ngModel = results;\n                });\n            }, 1000);\n          } else {\n            scope.ngModel = [];\n          }\n        }\n\n      }\n\n    };\n  }\n\n\n})();\n\n(function () {\n    'use strict';\n\n    angular\n        .module('starter')\n        .directive('settingsModal', settingsModalDirective);\n\n    function settingsModalDirective($ionicModal, $translate, AppConfig, amMoment, $cordovaInAppBrowser, Share, Auth, User, $state) {\n\n        return {\n            restrict: 'A',\n            template: '',\n            link    : function (scope, elem) {\n\n                elem.bind('click', openModal);\n                scope.share = Share.share;\n\n                scope.logout = function () {\n                    $state.go('logout');\n                    scope.closeSettingModal();\n                };\n\n                function init() {\n                    scope.form      = Auth.getLoggedUser();\n                    scope.languages = AppConfig.locales;\n                    scope.language  = $translate.use();\n                }\n\n                function openModal() {\n\n                    init();\n                    $ionicModal.fromTemplateUrl('app/directive/settings-modal.html', {\n                        scope: scope\n                    }).then(function (modal) {\n                        scope.modalSetting = modal;\n                        scope.modalSetting.show();\n\n                    });\n\n                    scope.$on('changeLanguage', function (ev, value) {\n                        User.update({lang: value});\n                        console.log(value);\n                        amMoment.changeLocale(value.code);\n                        $translate.use(value.code);\n                    });\n\n                    scope.closeSettingModal = function () {\n                        scope.modalSetting.hide();\n                        scope.modalSetting.remove();\n                    };\n\n                    scope.link = function (sref) {\n                        $state.go(sref);\n                        scope.closeModal();\n                    };\n                }\n\n\n            }\n        };\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('usernameValidator', usernameValidatorDirective);\n\n    function usernameValidatorDirective(User) {\n        return {\n            require: 'ngModel',\n            restrict: 'A',\n            link    : usernameValidatorLink,\n        };\n\n        function usernameValidatorLink(scope, elem, attr, ngModel) {\n            ngModel.$asyncValidators.username = function  (modelValue, viewValue) {\n                if(viewValue) {\n                    return User.validateUsername(viewValue);\n                }\n            }\n        }\n    }\n\n})();\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('validated', validatedDirective);\n\n    function validatedDirective() {\n        return {\n            restrict: 'AEC',\n            require : '^form',\n            link    : function (scope, element, attrs, form) {\n                var inputs = element.find(\"*\");\n                for (var i = 0; i < inputs.length; i++) {\n                    (function (input) {\n                        var attributes = input.attributes;\n                        if (attributes.getNamedItem('ng-model') != void 0 && attributes.getNamedItem('name') != void 0) {\n                            var field = form[attributes.name.value];\n                            if (field != void 0) {\n                                scope.$watch(function () {\n                                    return form.$submitted + \"_\" + field.$valid;\n                                }, function () {\n                                    if (form.$submitted != true) return;\n                                    var inp = angular.element(input);\n                                    if (inp.hasClass('ng-invalid')) {\n                                        element.removeClass('has-success');\n                                        element.addClass('has-error');\n                                    } else {\n                                        element.removeClass('has-error').addClass('has-success');\n                                    }\n                                });\n                            }\n                        }\n                    })(inputs[i]);\n                }\n            }\n        }\n    }\n\n})();\n(function () {\n    'use strict';\n\n    angular.module('starter').directive('onSubmit', validatedSubmitDirective);\n\n    function validatedSubmitDirective($parse, $timeout) {\n        return {\n            require : '^form',\n            restrict: 'A',\n            link    : function (scope, element, attrs, form) {\n                form.$submitted = false;\n                var fn          = $parse(attrs.onSubmit);\n                element.on('submit', function (event) {\n                    scope.$apply(function () {\n                        element.addClass('ng-submitted');\n                        form.$submitted = true;\n                        if (form.$valid) {\n                            if (typeof fn === 'function') {\n                                fn(scope, {$event: event});\n                            }\n                        }\n                    });\n                });\n            }\n        }\n    }\n\n})();\n(function () {\n    'use strict';\n\n    angular.module('starter').filter('hashtag', hashtag);\n\n    function hashtag($filter) {\n        return function (text, target) {\n            if (!text) return text;\n\n            var replacedText = $filter('linky')(text, target);\n\n            var targetAttr = \"\";\n            if (angular.isDefined(target)) {\n                targetAttr = target;\n            }\n\n            var replacePattern1 = /(^|\\s)#(\\w*[a-zA-Z_]+\\w*)/gim;\n            replacedText        = text.replace(replacePattern1, '$1<a href=\"#/tab/search/%23$2\"' + targetAttr + '>#$2</a>');\n\n            var replacePattern2 = /(^|\\s)\\@(\\w*[a-zA-Z_]+\\w*)/gim;\n            replacedText        = replacedText.replace(replacePattern2, '$1<a href=\"#/tab/home/$2\" >@$2</a>');\n\n            return replacedText;\n        };\n    }\n\n})();\n\n\n(function () {\n    'use strict';\n\n    angular.module('starter').filter('words', words);\n\n    function words() {\n\n\n        return function (input, words) {\n            if (isNaN(words)) {\n                return input;\n            }\n            if (words <= 0) {\n                return '';\n            }\n            if (input) {\n                var inputWords = input.split(/\\s+/);\n                if (inputWords.length > words) {\n                    input = inputWords.slice(0, words).join(' ') + '\\u2026';\n                }\n            }\n            return input;\n        };\n    }\n\n})();\n\n\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    function processRelativeTime(number, withoutSuffix, key, isFuture) {\n        var format = {\n            'm': ['eine Minute', 'einer Minute'],\n            'h': ['eine Stunde', 'einer Stunde'],\n            'd': ['ein Tag', 'einem Tag'],\n            'dd': [number + ' Tage', number + ' Tagen'],\n            'M': ['ein Monat', 'einem Monat'],\n            'MM': [number + ' Monate', number + ' Monaten'],\n            'y': ['ein Jahr', 'einem Jahr'],\n            'yy': [number + ' Jahre', number + ' Jahren']\n        };\n        return withoutSuffix ? format[key][0] : format[key][1];\n    }\n\n    var de = moment.defineLocale('de', {\n        months : 'Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember'.split('_'),\n        monthsShort : 'Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.'.split('_'),\n        monthsParseExact : true,\n        weekdays : 'Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag'.split('_'),\n        weekdaysShort : 'So._Mo._Di._Mi._Do._Fr._Sa.'.split('_'),\n        weekdaysMin : 'So_Mo_Di_Mi_Do_Fr_Sa'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT: 'HH:mm',\n            LTS: 'HH:mm:ss',\n            L : 'DD.MM.YYYY',\n            LL : 'D. MMMM YYYY',\n            LLL : 'D. MMMM YYYY HH:mm',\n            LLLL : 'dddd, D. MMMM YYYY HH:mm'\n        },\n        calendar : {\n            sameDay: '[heute um] LT [Uhr]',\n            sameElse: 'L',\n            nextDay: '[morgen um] LT [Uhr]',\n            nextWeek: 'dddd [um] LT [Uhr]',\n            lastDay: '[gestern um] LT [Uhr]',\n            lastWeek: '[letzten] dddd [um] LT [Uhr]'\n        },\n        relativeTime : {\n            future : 'in %s',\n            past : 'vor %s',\n            s : 'ein paar Sekunden',\n            m : processRelativeTime,\n            mm : '%d Minuten',\n            h : processRelativeTime,\n            hh : '%d Stunden',\n            d : processRelativeTime,\n            dd : processRelativeTime,\n            M : processRelativeTime,\n            MM : processRelativeTime,\n            y : processRelativeTime,\n            yy : processRelativeTime\n        },\n        ordinalParse: /\\d{1,2}\\./,\n        ordinal : '%d.',\n        week : {\n            dow : 1, \n            doy : 4  \n        }\n    });\n\n    return de;\n\n}));\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var symbolMap = {\n        '1': '۱',\n        '2': '۲',\n        '3': '۳',\n        '4': '۴',\n        '5': '۵',\n        '6': '۶',\n        '7': '۷',\n        '8': '۸',\n        '9': '۹',\n        '0': '۰'\n    }, numberMap = {\n        '۱': '1',\n        '۲': '2',\n        '۳': '3',\n        '۴': '4',\n        '۵': '5',\n        '۶': '6',\n        '۷': '7',\n        '۸': '8',\n        '۹': '9',\n        '۰': '0'\n    };\n\n    var fa = moment.defineLocale('fa', {\n        months : 'ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر'.split('_'),\n        monthsShort : 'ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر'.split('_'),\n        weekdays : 'یک\\u200cشنبه_دوشنبه_سه\\u200cشنبه_چهارشنبه_پنج\\u200cشنبه_جمعه_شنبه'.split('_'),\n        weekdaysShort : 'یک\\u200cشنبه_دوشنبه_سه\\u200cشنبه_چهارشنبه_پنج\\u200cشنبه_جمعه_شنبه'.split('_'),\n        weekdaysMin : 'ی_د_س_چ_پ_ج_ش'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D MMMM YYYY',\n            LLL : 'D MMMM YYYY HH:mm',\n            LLLL : 'dddd, D MMMM YYYY HH:mm'\n        },\n        meridiemParse: /قبل از ظهر|بعد از ظهر/,\n        isPM: function (input) {\n            return /بعد از ظهر/.test(input);\n        },\n        meridiem : function (hour, minute, isLower) {\n            if (hour < 12) {\n                return 'قبل از ظهر';\n            } else {\n                return 'بعد از ظهر';\n            }\n        },\n        calendar : {\n            sameDay : '[امروز ساعت] LT',\n            nextDay : '[فردا ساعت] LT',\n            nextWeek : 'dddd [ساعت] LT',\n            lastDay : '[دیروز ساعت] LT',\n            lastWeek : 'dddd [پیش] [ساعت] LT',\n            sameElse : 'L'\n        },\n        relativeTime : {\n            future : 'در %s',\n            past : '%s پیش',\n            s : 'چندین ثانیه',\n            m : 'یک دقیقه',\n            mm : '%d دقیقه',\n            h : 'یک ساعت',\n            hh : '%d ساعت',\n            d : 'یک روز',\n            dd : '%d روز',\n            M : 'یک ماه',\n            MM : '%d ماه',\n            y : 'یک سال',\n            yy : '%d سال'\n        },\n        preparse: function (string) {\n            return string.replace(/[۰-۹]/g, function (match) {\n                return numberMap[match];\n            }).replace(/،/g, ',');\n        },\n        postformat: function (string) {\n            return string.replace(/\\d/g, function (match) {\n                return symbolMap[match];\n            }).replace(/,/g, '،');\n        },\n        ordinalParse: /\\d{1,2}م/,\n        ordinal : '%dم',\n        week : {\n            dow : 6, \n            doy : 12 \n        }\n    });\n\n    return fa;\n\n}));\n\n;(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined'\n       && typeof require === 'function' ? factory(require('../moment')) :\n   typeof define === 'function' && define.amd ? define(['../moment'], factory) :\n   factory(global.moment)\n}(this, function (moment) { 'use strict';\n\n\n    var pt_br = moment.defineLocale('pt', {\n        months : 'Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro'.split('_'),\n        monthsShort : 'Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez'.split('_'),\n        weekdays : 'Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado'.split('_'),\n        weekdaysShort : 'Dom_Seg_Ter_Qua_Qui_Sex_Sáb'.split('_'),\n        weekdaysMin : 'Dom_2ª_3ª_4ª_5ª_6ª_Sáb'.split('_'),\n        weekdaysParseExact : true,\n        longDateFormat : {\n            LT : 'HH:mm',\n            LTS : 'HH:mm:ss',\n            L : 'DD/MM/YYYY',\n            LL : 'D [de] MMMM [de] YYYY',\n            LLL : 'D [de] MMMM [de] YYYY [às] HH:mm',\n            LLLL : 'dddd, D [de] MMMM [de] YYYY [às] HH:mm'\n        },\n        calendar : {\n            sameDay: '[Hoje às] LT',\n            nextDay: '[Amanhã às] LT',\n            nextWeek: 'dddd [às] LT',\n            lastDay: '[Ontem às] LT',\n            lastWeek: function () {\n                return (this.day() === 0 || this.day() === 6) ?\n                    '[Último] dddd [às] LT' : \n                    '[Última] dddd [às] LT'; \n            },\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : 'em %s',\n            past : '%s atrás',\n            s : 'poucos segundos',\n            m : 'um minuto',\n            mm : '%d minutos',\n            h : 'uma hora',\n            hh : '%d horas',\n            d : 'um dia',\n            dd : '%d dias',\n            M : 'um mês',\n            MM : '%d meses',\n            y : 'um ano',\n            yy : '%d anos'\n        },\n        ordinalParse: /\\d{1,2}º/,\n        ordinal : '%dº'\n    });\n\n    return pt_br;\n\n}));\n'use strict';\nangular.module(\"ngLocale\", [], [\"$provide\", function ($provide) {\n  var PLURAL_CATEGORY = {\n    ZERO: \"zero\",\n    ONE: \"one\",\n    TWO: \"two\",\n    FEW: \"few\",\n    MANY: \"many\",\n    OTHER: \"other\"\n  };\n  $provide.value(\"$locale\", {\n    \"DATETIME_FORMATS\": {\n      \"AMPMS\": [\n        \"AM\",\n        \"PM\"\n      ],\n      \"DAY\": [\n        \"domingo\",\n        \"segunda-feira\",\n        \"ter\\u00e7a-feira\",\n        \"quarta-feira\",\n        \"quinta-feira\",\n        \"sexta-feira\",\n        \"s\\u00e1bado\"\n      ],\n      \"ERANAMES\": [\n        \"Antes de Cristo\",\n        \"Ano do Senhor\"\n      ],\n      \"ERAS\": [\n        \"a.C.\",\n        \"d.C.\"\n      ],\n      \"FIRSTDAYOFWEEK\": 6,\n      \"MONTH\": [\n        \"janeiro\",\n        \"fevereiro\",\n        \"mar\\u00e7o\",\n        \"abril\",\n        \"maio\",\n        \"junho\",\n        \"julho\",\n        \"agosto\",\n        \"setembro\",\n        \"outubro\",\n        \"novembro\",\n        \"dezembro\"\n      ],\n      \"SHORTDAY\": [\n        \"dom\",\n        \"seg\",\n        \"ter\",\n        \"qua\",\n        \"qui\",\n        \"sex\",\n        \"s\\u00e1b\"\n      ],\n      \"SHORTMONTH\": [\n        \"jan\",\n        \"fev\",\n        \"mar\",\n        \"abr\",\n        \"mai\",\n        \"jun\",\n        \"jul\",\n        \"ago\",\n        \"set\",\n        \"out\",\n        \"nov\",\n        \"dez\"\n      ],\n      \"STANDALONEMONTH\": [\n        \"janeiro\",\n        \"fevereiro\",\n        \"mar\\u00e7o\",\n        \"abril\",\n        \"maio\",\n        \"junho\",\n        \"julho\",\n        \"agosto\",\n        \"setembro\",\n        \"outubro\",\n        \"novembro\",\n        \"dezembro\"\n      ],\n      \"WEEKENDRANGE\": [\n        5,\n        6\n      ],\n      \"fullDate\": \"EEEE, d 'de' MMMM 'de' y\",\n      \"longDate\": \"d 'de' MMMM 'de' y\",\n      \"medium\": \"d 'de' MMM 'de' y HH:mm:ss\",\n      \"mediumDate\": \"d 'de' MMM 'de' y\",\n      \"mediumTime\": \"HH:mm:ss\",\n      \"short\": \"dd/MM/yy HH:mm\",\n      \"shortDate\": \"dd/MM/yy\",\n      \"shortTime\": \"HH:mm\"\n    },\n    \"NUMBER_FORMATS\": {\n      \"CURRENCY_SYM\": \"R$\",\n      \"DECIMAL_SEP\": \",\",\n      \"GROUP_SEP\": \".\",\n      \"PATTERNS\": [{\n        \"gSize\": 3,\n        \"lgSize\": 3,\n        \"maxFrac\": 3,\n        \"minFrac\": 0,\n        \"minInt\": 1,\n        \"negPre\": \"-\",\n        \"negSuf\": \"\",\n        \"posPre\": \"\",\n        \"posSuf\": \"\"\n      }, {\n        \"gSize\": 3,\n        \"lgSize\": 3,\n        \"maxFrac\": 2,\n        \"minFrac\": 2,\n        \"minInt\": 1,\n        \"negPre\": \"-\\u00a4\",\n        \"negSuf\": \"\",\n        \"posPre\": \"\\u00a4\",\n        \"posSuf\": \"\"\n      }]\n    },\n    \"id\": \"pt-br\",\n    \"pluralCat\": function (n, opt_precision) {\n      if (n >= 0 && n <= 2 && n != 2) {\n        return PLURAL_CATEGORY.ONE;\n      }\n      return PLURAL_CATEGORY.OTHER;\n    }\n  });\n}]);\n(function () {\n    'use strict';\n\n        var pt_br = window.moment.defineLocale('pt', {\n        months: 'Janeiro_Fevereiro_Março_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro'.split(\n            '_'),\n        monthsShort: 'Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez'.split('_'),\n        weekdays: 'Domingo_Segunda-Feira_Terça-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sábado'.split('_'),\n        weekdaysShort: 'Dom_Seg_Ter_Qua_Qui_Sex_Sáb'.split('_'),\n        weekdaysMin: 'Dom_2ª_3ª_4ª_5ª_6ª_Sáb'.split('_'),\n        longDateFormat: {\n            LT: 'HH:mm',\n            LTS: 'HH:mm:ss',\n            L: 'DD/MM/YYYY',\n            LL: 'D [de] MMMM [de] YYYY',\n            LLL: 'D [de] MMMM [de] YYYY [às] HH:mm',\n            LLLL: 'dddd, D [de] MMMM [de] YYYY [às] HH:mm'\n        },\n        calendar: {\n            sameDay: '[Hoje às] LT',\n            nextDay: '[Amanhã às] LT',\n            nextWeek: 'dddd [às] LT',\n            lastDay: '[Ontem às] LT',\n            lastWeek: function () {\n                return (this.day() === 0 || this.day() === 6) ?\n                    '[Último] dddd [às] LT' : \n                    '[Última] dddd [às] LT'; \n            },\n            sameElse: 'L'\n        },\n        relativeTime: {\n            future: 'em %s',\n            past: '%s atrás',\n            s: 'segs',\n            m: 'um minuto',\n            mm: '%d minutos',\n            h: 'uma hora',\n            hh: '%d horas',\n            d: 'um dia',\n            dd: '%d dias',\n            M: 'um mês',\n            MM: '%d meses',\n            y: 'um ano',\n            yy: '%d anos'\n        },\n        ordinalParse: /\\d{1,2}º/,\n        ordinal: '%dº'\n    });\n\n    return pt_br;\n})();\n(function () {\n    'use strict';\n    angular.module('starter').factory('ActionSheet', ActionSheetFactory);\n\n    function ActionSheetFactory($ionicActionSheet, Camera, $cordovaActionSheet, $q) {\n\n        return {\n            show : show,\n            image: image\n        };\n\n        function image() {\n            var defer = $q.defer();\n            show({\n                title     : 'Choose an option',\n                cancelText: 'Cancel',\n                options   : [{text: 'Photo Library'}, {text: 'Photo'}]\n            }).then(function (option) {\n                var sourceType;\n                if (option === 1) {\n                    sourceType = 'photoLibrary';\n                }\n\n                if (option === 2) {\n                    sourceType = 'camera';\n                }\n                return Camera.getPicture({sourceType: sourceType});\n            }).then(defer.resolve).catch(defer.reject);\n\n            return defer.promise;\n        }\n\n        function show(params) {\n\n            var defer = $q.defer();\n\n            if (window.cordova) {\n\n                var options = {\n                    title                    : params.title,\n                    buttonLabels             : _.map(params.options, function (item) {return item.text}),\n                    addCancelButtonWithLabel : params.cancelText,\n                    androidEnableCancelButton: true,\n                    androidTheme             : window.plugins.actionsheet.ANDROID_THEMES.THEME_HOLO_LIGHT\n                };\n\n                $cordovaActionSheet.show(options).then(function (btnIndex) {\n                    if (btnIndex !== 3) {\n                        defer.resolve(btnIndex);\n                    }\n                    defer.reject('cancel');\n                });\n\n            } else {\n                var actionSheet = $ionicActionSheet.show({\n                    buttons      : params.options,\n                    titleText    : params.title,\n                    cancelText   : params.cancelText,\n                    cancel       : function () {\n                        actionSheet();\n                    },\n                    buttonClicked: function (btnIndex) {\n                        actionSheet();\n                        if (btnIndex !== 3) {\n                            defer.resolve(btnIndex);\n                        }\n                        defer.reject('cancel');\n                    }\n                });\n\n            }\n            return defer.promise;\n        }\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').factory('Auth', function (Parse, $q) {\n\n        var mSessionToken = null;\n        return {\n            getLoggedUser  : getLoggedUser,\n            setSessionToken: setSessionToken,\n            ensureLoggedIn : ensureLoggedIn,\n            recoverPassword: recoverPassword,\n            resetPassword  : resetPassword,\n            logIn          : logIn,\n            logOut         : logOut\n        };\n\n        function getLoggedUser() {\n            return Parse.User.current();\n        }\n\n        function setSessionToken(sessionToken) {\n            mSessionToken = sessionToken;\n        }\n\n        function ensureLoggedIn() {\n            var defer = $q.defer();\n\n            if (mSessionToken === null) {\n                defer.reject('Session token invalid');\n                return defer.promise;\n            }\n\n            if (!Parse.User.current()) {\n                Parse.User.become(mSessionToken).then(defer.resolve, defer.reject);\n            } else {\n                defer.resolve(Parse.User.current());\n            }\n\n            return defer.promise;\n        }\n\n        function recoverPassword(email) {\n            var defer = $q.defer();\n            Parse.User.requestPasswordReset(email, {\n                success: defer.resolve,\n                error  : defer.reject\n            });\n\n            return defer.promise;\n        }\n\n        function resetPassword(email) {\n\n            var defer = $q.defer();\n\n            Parse.User.requestPasswordReset(email, {\n                success: defer.resolve,\n                error  : defer.reject\n            });\n\n            return defer.promise;\n        }\n\n        function logIn(obj) {\n            var defer = $q.defer();\n\n            Parse.User.logIn(obj.username, obj.password, {\n                success: defer.resolve,\n                error  : defer.reject\n            });\n\n            return defer.promise;\n        }\n\n        function logOut() {\n            var defer = $q.defer();\n            Parse.User.logOut().then(defer.resolve, defer.reject);\n            return defer.promise;\n        }\n\n\n    });\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').service('Camera', CameraFactory);\n\n    function CameraFactory($cordovaCamera, $q) {\n\n        return {\n            getPicture   : getPicture,\n            resizeImage  : resizeImage,\n            toBase64Image: toBase64Image\n        };\n\n        function getPicture(params) {\n\n            var defer = $q.defer();\n            if (window.cordova) {\n                var sourceType = params.sourceType || Camera.PictureSourceType.CAMERA;\n                if (params.sourceType === 'photoLibrary') {\n                    sourceType = Camera.PictureSourceType.PHOTOLIBRARY;\n                }\n                if (params.sourceType === 'camera') {\n                    sourceType = Camera.PictureSourceType.CAMERA;\n                }\n\n                var options = {\n                    quality           : 70,\n                    targetWidth       : 800,\n                    targetHeight      : 800,\n                    saveToPhotoAlbum  : false,\n                    correctOrientation: true,\n                    sourceType        : sourceType,\n                    destinationType   : Camera.DestinationType.DATA_URL,\n                    encodingType      : Camera.EncodingType.JPEG,\n                };\n\n                $cordovaCamera.getPicture(options).then(defer.resolve, defer.reject);\n            } else {\n                console.log('Input File');\n\n                var fileInput = angular.element('<input type=\"file\" accept=\"image/x-png, image/gif, image/jpeg\" max-size=\"2048\" />');\n                fileInput[0].click();\n                fileInput.on('change', function (evt) {\n                    var tempImage = evt.currentTarget.files[0];\n                    var reader    = new FileReader();\n                    reader.onload = function (evt) {\n                        defer.resolve(evt.target.result);\n                    };\n                    reader.readAsDataURL(tempImage);\n                });\n            }\n\n            return defer.promise;\n        }\n\n        function toBase64Image(img_path, width, height) {\n            var defer = $q.defer();\n            window.imageResizer.resizeImage(defer.resolve, defer.reject, img_path, width || 1, height || 1, {\n                imageDataType: ImageResizer.IMAGE_DATA_TYPE_URL,\n                resizeType   : ImageResizer.RESIZE_TYPE_FACTOR,\n                format       : 'jpg'\n            });\n\n            return defer.promise;\n        }\n\n        function resizeImage(img_path, width, height) {\n            var defer = $q.defer();\n            window.imageResizer.resizeImage(defer.resolve, defer.reject,  img_path, width || 640, height || 640, {\n                imageDataType: ImageResizer.IMAGE_DATA_TYPE_URL,\n                resizeType   : ImageResizer.RESIZE_TYPE_MIN_PIXEL,\n                pixelDensity : true,\n                storeImage   : false,\n                photoAlbum   : false,\n                format       : 'jpg'\n            });\n\n            return defer.promise;\n        }\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular\n        .module('starter')\n        .factory('ConnectMonitor', ConnectMonitorFactory);\n\n    function ConnectMonitorFactory($rootScope, $cordovaNetwork) {\n\n                return {\n            watch: watch\n        };\n\n        function watch() {\n\n            if (ionic.Platform.isWebView()) {\n                $rootScope.onLine = $cordovaNetwork.isOnline();\n                $rootScope.$apply();\n\n\n                $rootScope.$on('$cordovaNetwork:online', function (event, networkState) {\n                    console.log('went online');\n                    $rootScope.onLine = true;\n                    $rootScope.$apply();\n                });\n\n                $rootScope.$on('$cordovaNetwork:offline', function (event, networkState) {\n                    console.log('went offline');\n                    $rootScope.onLine = false;\n                    $rootScope.$apply();\n                });\n            } else {\n                $rootScope.onLine = navigator.onLine;\n                $rootScope.$apply();\n\n                window.addEventListener('online', function (e) {\n                    console.log('went online');\n                    $rootScope.onLine = true;\n                    $rootScope.$apply();\n                }, false);\n\n                window.addEventListener('offline', function (e) {\n                    console.log('went offline');\n                    $rootScope.onLine = false;\n                    $rootScope.$apply();\n                }, false);\n            }\n        }\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular\n        .module('starter')\n        .factory('DataUtil', DataUtilFactory);\n\n    function DataUtilFactory() {\n\n        return {\n            parseData   : parseData,\n            parseString : parseString,\n            getDate     : getDate,\n            formatDate  : formatDate,\n            getMonthName: getMonthName,\n            getFirstDay : getFirstDay,\n            getLastDay  : getLastDay\n        };\n\n        function parseData(string) {\n            var parts = string.split('-');\n            return new Date(parts[0], parts[1] - 1, parts[2]);\n        }\n\n        function parseString(data) {\n            return new Date(data).toLocaleDateString();\n        }\n\n\n        function getDate() {\n            var data   = new Date();\n            var inicio = \"00\";\n            var year   = data.getFullYear();\n            var month  = (inicio + (data.getMonth() + 1)).slice(-inicio.length);\n            var day    = (inicio + (data.getDate())).slice(-inicio.length);\n            return year + '-' + month + '-' + day;\n        }\n\n        function formatDate(milliseconds) {\n            var data   = new Date(milliseconds);\n            var inicio = \"00\";\n            var year   = data.getFullYear();\n            var month  = (inicio + (data.getMonth() + 1)).slice(-inicio.length);\n            var day    = (inicio + (data.getDate())).slice(-inicio.length);\n            return year + '-' + month + '-' + day;\n        }\n\n        function getMonthName(data) {\n            var meses = [\n                'Janeiro',\n                'Feveiro',\n                'Março',\n                'Abril',\n                'Maio',\n                'Junho',\n                'Julho',\n                'Agosto',\n                'Setembro',\n                'Outubro',\n                'Novembro',\n                'Dezembro'\n            ];\n            return meses[data.getMonth()];\n        }\n\n        function getFirstDay(data) {\n            var year  = data.getFullYear();\n            var month = data.getMonth();\n            return new Date(year, month, 1);\n        }\n\n        function getLastDay(data) {\n            var year  = data.getFullYear();\n            var month = data.getMonth() + 1;\n            return new Date(year, month, 0);\n        }\n\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').service('Dialog', DialogFactory);\n\n    function DialogFactory($cordovaDialogs, $ionicPopup, $q) {\n\n        return {\n            alert  : alert,\n            confirm: confirm\n        };\n\n        function alert(message, title) {\n            var defer = $q.defer();\n            if (window.cordova) {\n                $cordovaDialogs.alert(message, title).then(defer.resolve);\n            } else {\n                $ionicPopup.alert({\n                    title   : title,\n                    template: message\n                });\n            }\n            return defer.promise;\n        }\n\n        function confirm(options) {\n            var defer = $q.defer();\n            if (window.cordova) {\n                $cordovaDialogs.confirm(options.message, options.title, options.buttonsText).then(function (result) {\n                    console.log(result);\n                    if (result === 1) {\n                        defer.resolve(true);\n                    }\n                    defer.reject(true);\n                });\n\n            } else {\n                $ionicPopup.confirm({\n                    title   : options.title,\n                    template: options.message\n                }).then(function (res) {\n                    if (res) {\n                        defer.resolve(true);\n                    } else {\n                        defer.reject(true);\n                    }\n                });\n            }\n            return defer.promise;\n        }\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('starter').service('Facebook', FacebookFactory);\n\n    function FacebookFactory($q, $facebook, $cordovaFacebook) {\n\n        var facebook = window.cordova ? $cordovaFacebook : $facebook;\n        var me;\n\n        return {\n            logIn         : logIn,\n            logOut        : logOut,\n            me            : getMe,\n            invite        : invite,\n            friends       : friends,\n            api           : api,\n            getCurrentUser: getCurrentUser,\n            getFriends    : getFriends,\n            postImage     : postImage,\n            postImage1    : postImage1,\n            link          : link\n        };\n\n        function getCurrentUser() {\n            return facebook.getLoginStatus();\n        }\n\n        function logIn() {\n            console.log('facebook login', facebook);\n            return facebook.login(['public_profile', 'email']);\n        }\n\n        function logOut() {\n            var defer = $q.defer();\n            $cordovaFacebook.logout().then(defer.resolve, defer.reject);\n            return defer.promise;\n        }\n\n        function postImage(image) {\n            var defer = $q.defer();\n            var item  = {\n                method     : 'feed',\n                name       : image.title,\n                link       : 'https://photogram.codevibe.io/',\n                picture    : image.image._url,\n                caption    : image.title,\n                description: image.title,\n                message    : ''\n            };\n\n            console.log(item);\n            facebook.ui(item, defer.resolve);\n            return defer.promise;\n        }\n\n        function postImage1(image) {\n            var defer = $q.defer();\n            facebook.api('/me/feed', 'post', {\n                message  : image.title,\n                link     : image.image._url,\n                picture  : image.image._url,\n                published: true\n            }, defer.resolve);\n            return defer.promise;\n        }\n\n        function getFriends() {\n            var defer = $q.defer();\n            facebook.api('/me/friends', defer.resolve)\n            return defer.promise;\n        }\n\n        function getMe() {\n\n            var defer = $q.defer();\n            if (window.cordova) {\n\n                $cordovaFacebook\n                    .api('me?fields=name,first_name,last_name,gender,email', ['public_profile'])\n                    .then(defer.resolve, defer.reject);\n\n            } else {\n                facebook.api('/me', {fields: 'name, first_name, last_name, gender, email'}).then(function (response) {\n                    if (!response || response.error) {\n                        defer.reject(response.error);\n                    } else {\n                        defer.resolve(response);\n                    }\n                });\n            }\n\n            return defer.promise;\n        }\n\n        function invite() {\n            var defer = $q.defer();\n            if (window.cordova) {\n                facebook.showDialog({\n                    method : 'apprequests',\n                    message: 'Venha para o nosso clube!'\n                }).then(defer.resolve, defer.reject);\n            } else {\n                facebook.ui({\n                    method : 'apprequests',\n                    message: 'Venha para o nosso clube!'\n                }).then(defer.resolve, defer.reject);\n            }\n            return defer.promise;\n        }\n\n\n        function friends() {\n            var defer = $q.defer();\n            facebook.api('me/friends').then(defer.resolve, defer.reject);\n            return defer.promise;\n        }\n\n        function api(api) {\n            var defer = $q.defer();\n            facebook.api(api).then(defer.resolve, defer.reject);\n            return defer.promise;\n        }\n\n        function link(user) {\n            var defer = $q.defer();\n            if (user) {\n                facebook.login(['email']).then(function (response) {\n                    console.log('facebook login', response);\n                    console.log(user, response, data);\n\n                    Parse.FacebookUtils.link(user, {\n                        id             : String(response.authResponse.userID),\n                        access_token   : response.authResponse.accessToken,\n                        expiration_date: (new Date().getTime() + 1000).toString()\n                    }, {\n                        success: function (user) {\n                            console.log('User', user);\n                            user.set('facebook', response['authResponse']['userID']);\n                            user.set('facebookimg', 'https://graph.facebook.com/' + response['authResponse']['userID'] + '/picture?width=250&height=250');\n                            user.set('facebook_complete', Boolean(true));\n                            user.save().then(defer.resolve);\n                        }\n                    });\n                }, defer.resolve);\n            } else {\n                defer.reject('not logged');\n            }\n\n            return defer.promise;\n        }\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').factory('GalleryActivity', function ($q, Parse, moment) {\n\n        var ParseObject = Parse.Object.extend('GalleryActivity', {\n            getStatus: function () {\n                if (this.isApproved) {\n                    return 'Approved';\n                } else if (this.isApproved === false) {\n                    return 'Rejected';\n                } else {\n                    return 'Pending';\n                }\n            }\n        }, {\n            update : function (item) {\n                var defer = $q.defer();\n                item.save(null, {\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n                return defer.promise;\n            },\n            destroy: function (item) {\n                var defer = $q.defer();\n                item.destroy({\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n                return defer.promise;\n            },\n            feed   : function (params) {\n                return Parse.Cloud.run('feedActivity', params);\n            },\n            all    : function (params) {\n                var defer = $q.defer();\n                var query = new Parse.Query(this);\n\n                if (params.filter != '') {\n                    query.contains('words', params.filter);\n                }\n\n                if (params.order) {\n                    if (params.order.indexOf('-') < -1) {\n                        query.ascending(params.order);\n                    } else {\n                        query.descending(params.order.replace('-'));\n                    }\n                }\n\n                if (params.date && params.date !== null) {\n                    var start = moment(params.date).startOf('day');\n                    var end   = moment(params.date).endOf('day');\n                    query.greaterThanOrEqualTo('createdAt', start.toDate());\n                    query.lessThanOrEqualTo('createdAt', end.toDate());\n                }\n\n                if (params.status && params.status !== null) {\n\n                    if (params.status === 'pending') {\n                        query.doesNotExist('isApproved');\n                    } else if (params.status === 'rejected') {\n                        query.equalTo('isApproved', false);\n                    } else if (params.status === 'approved') {\n                        query.equalTo('isApproved', true);\n                    }\n\n                }\n\n                query.include('gallery')\n                query.include('user')\n                query.limit(params.limit);\n                query.skip((params.page * params.limit) - params.limit);\n                query.find({\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n\n                return defer.promise;\n            },\n            count  : function (params) {\n                var defer = $q.defer();\n                var query = new Parse.Query(this);\n\n                if (params.filter != '') {\n                    query.contains('words', params.filter);\n                }\n\n\n                if (params.date && params.date !== null) {\n                    var start = moment(params.date).startOf('day');\n                    var end   = moment(params.date).endOf('day');\n                    query.greaterThanOrEqualTo('createdAt', start.toDate());\n                    query.lessThanOrEqualTo('createdAt', end.toDate());\n                }\n\n                if (params.status && params.status !== null) {\n\n                    if (params.status === 'pending') {\n                        query.doesNotExist('isApproved');\n                    } else if (params.status === 'rejected') {\n                        query.equalTo('isApproved', false);\n                    } else if (params.status === 'approved') {\n                        query.equalTo('isApproved', true);\n                    }\n                }\n\n                query.count({\n                    success: function (count) {\n                        defer.resolve(count);\n                    },\n                    error  : function (error) {\n                        defer.reject(error);\n                    }\n                });\n\n                return defer.promise;\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'fromUser', {\n            get: function () {\n                return this.get('fromUser');\n            },\n            set: function (value) {\n                this.set('fromUser', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'toUser', {\n            get: function () {\n                return this.get('toUser');\n            },\n            set: function (value) {\n                this.set('toUser', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'gallery', {\n            get: function () {\n                return this.get('gallery');\n            },\n            set: function (value) {\n                this.set('gallery', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'title', {\n            get: function () {\n                return this.get('title');\n            },\n            set: function (value) {\n                this.set('title', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'hashtags', {\n            get: function () {\n                return this.get('hashtags');\n            },\n            set: function (value) {\n                this.set('hashtags', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'words', {\n            get: function () {\n                return this.get('words');\n            },\n            set: function (value) {\n                this.set('words', value);\n            }\n        });\n\n\n        Object.defineProperty(ParseObject.prototype, 'address', {\n            get: function () {\n                return this.get('address');\n            },\n            set: function (value) {\n                this.set('address', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'image', {\n            get: function () {\n                return this.get('image');\n            },\n            set: function (value) {\n                this.set('image', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'imageThumb', {\n            get: function () {\n                return this.get('imageThumb');\n            },\n            set: function (value) {\n                this.set('imageThumb', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'location', {\n            get: function () {\n                return this.get('location');\n            },\n            set: function (val) {\n                this.set('location', new Parse.GeoPoint({\n                    latitude : val.latitude,\n                    longitude: val.longitude\n                }));\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'isApproved', {\n            get: function () {\n                return this.get('isApproved');\n            },\n            set: function (value) {\n                this.set('isApproved', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'expiresAt', {\n            get: function () {\n                return this.get('expiresAt');\n            },\n            set: function (value) {\n                this.set('expiresAt', value);\n            }\n        });\n\n        return ParseObject;\n\n    });\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').factory('GalleryAlbum', GalleryFactory);\n\n    function GalleryFactory($q, Parse, moment) {\n\n        var ParseObject = Parse.Object.extend('GalleryAlbum', {\n                getStatus: function () {\n                    if (this.isApproved) {\n                        return 'Approved';\n                    } else if (this.isApproved === false) {\n                        return 'Rejected';\n                    } else {\n                        return 'Pending';\n                    }\n                }\n            },\n            {\n                create : function (item) {\n                    var defer       = $q.defer();\n                    var parseObject = new ParseObject();\n                    parseObject.save(item, {\n                        success: defer.resolve,\n                        error  : defer.reject\n                    });\n                    return defer.promise;\n                },\n                update : function (item) {\n                    var defer = $q.defer();\n                    item.save(null, {\n                        success: defer.resolve,\n                        error  : defer.reject\n                    });\n                    return defer.promise;\n                },\n                destroy: function (item) {\n                    var defer = $q.defer();\n                    item.destroy({\n                        success: defer.resolve,\n                        error  : defer.reject\n                    });\n                    return defer.promise;\n                },\n                photos : function (params) {\n                    return Parse.Cloud.run('photoAlbum', params);\n                },\n                list   : function (params) {\n                    return Parse.Cloud.run('listAlbum', params);\n                },\n                get    : function (objectId) {\n                    var defer = $q.defer();\n                    new Parse.Query(this)\n                        .get(objectId, {\n                            success: defer.resolve,\n                            error  : defer.reject\n                        });\n\n                    return defer.promise;\n                },\n            });\n\n        Object.defineProperty(ParseObject.prototype, 'title', {\n            get: function () {\n                return this.get('title');\n            },\n            set: function (value) {\n                this.set('title', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'qtyPhotos', {\n            get: function () {\n                return this.get('qtyPhotos');\n            },\n            set: function (value) {\n                this.set('qtyPhotos', value);\n            }\n        });\n\n\n        Object.defineProperty(ParseObject.prototype, 'image', {\n            get: function () {\n                return this.get('image');\n            },\n            set: function (value) {\n                this.set('image', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'imageThumb', {\n            get: function () {\n                return this.get('imageThumb');\n            },\n            set: function (value) {\n                this.set('imageThumb', value);\n            }\n        });\n\n\n        Object.defineProperty(ParseObject.prototype, 'isApproved', {\n            get: function () {\n                return this.get('isApproved');\n            },\n            set: function (value) {\n                this.set('isApproved', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'expiresAt', {\n            get: function () {\n                return this.get('expiresAt');\n            },\n            set: function (value) {\n                this.set('expiresAt', value);\n            }\n        });\n\n        return ParseObject;\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').factory('GalleryComment', function ($q, Parse,  moment) {\n\n        var ParseObject = Parse.Object.extend('GalleryComment', {\n            getStatus: function () {\n                if (this.isApproved) {\n                    return 'Approved';\n                } else if (this.isApproved === false) {\n                    return 'Rejected';\n                } else {\n                    return 'Pending';\n                }\n            }\n        }, {\n            get        : function (itemId) {\n                var defer = $q.defer();\n                new Parse.Query(this)\n                    .get(itemId, {\n                        success: defer.resolve,\n                        error  : defer.reject\n                    });\n\n                return defer.promise;\n            },\n            create : function (item) {\n                var defer = $q.defer();\n                new ParseObject().save(item, {\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n                return defer.promise;\n            },\n            update : function (item) {\n                var defer = $q.defer();\n                item.save(null, {\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n                return defer.promise;\n            },\n            destroy: function (item) {\n                var defer = $q.defer();\n                item.destroy({\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n                return defer.promise;\n            },\n            all    : function (params) {\n                var defer = $q.defer();\n                var query = new Parse.Query(this);\n\n\n                query.include('user');\n                query.ascending('createdAt');\n                query.equalTo('gallery', params.gallery);\n                query.limit(params.limit);\n                query.skip((params.page * params.limit) - params.limit);\n                query.find({\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n\n                return defer.promise;\n            },\n            count  : function (params) {\n                var defer = $q.defer();\n                var query = new Parse.Query(this);\n\n                if (params.filter != '') {\n                    query.contains('words', params.filter);\n                }\n\n\n                if (params.date && params.date !== null) {\n                    var start = moment(params.date).startOf('day');\n                    var end   = moment(params.date).endOf('day');\n                    query.greaterThanOrEqualTo('createdAt', start.toDate());\n                    query.lessThanOrEqualTo('createdAt', end.toDate());\n                }\n\n                if (params.status && params.status !== null) {\n\n                    if (params.status === 'pending') {\n                        query.doesNotExist('isApproved');\n                    } else if (params.status === 'rejected') {\n                        query.equalTo('isApproved', false);\n                    } else if (params.status === 'approved') {\n                        query.equalTo('isApproved', true);\n                    }\n                }\n\n                query.count({\n                    success: function (count) {\n                        defer.resolve(count);\n                    },\n                    error  : function (error) {\n                        defer.reject(error);\n                    }\n                });\n\n                return defer.promise;\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'user', {\n            get: function () {\n                return this.get('user');\n            },\n            set: function (value) {\n                this.set('user', value);\n            }\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'text', {\n            get: function () {\n                return this.get('text');\n            },\n            set: function (value) {\n                this.set('text', value);\n            }\n        });\n\n        return ParseObject;\n\n    });\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').factory('Gallery', GalleryFactory);\n\n    function GalleryFactory($q, Parse, $translate, moment) {\n\n        var ParseObject = Parse.Object.extend('Gallery', {\n                getStatus: function () {\n                    if (this.isApproved) {\n                        return 'Approved';\n                    } else if (this.isApproved === false) {\n                        return 'Rejected';\n                    } else {\n                        return 'Pending';\n                    }\n                }\n            },\n            {\n                create     : function (item) {\n                    var defer    = $q.defer();\n                    var objPlace = new ParseObject();\n\n                    if (item.address && item.address.geo) {\n                        item.location = new Parse.GeoPoint(item.address.geo);\n                    }\n\n                    item.lang = $translate.use();\n\n                    objPlace.save(item, {\n                        success: defer.resolve,\n                        error  : defer.reject\n                    });\n\n                    return defer.promise;\n                },\n                update     : function (item) {\n                    var defer = $q.defer();\n                    item.save(null, {\n                        success: defer.resolve,\n                        error  : defer.reject\n                    });\n                    return defer.promise;\n                },\n                destroy    : function (item) {\n                    var defer = $q.defer();\n                    item.destroy({\n                        success: defer.resolve,\n                        error  : defer.reject\n                    });\n                    return defer.promise;\n                },\n                comments   : function (params) {\n                    return Parse.Cloud.run('commentGallery', params);\n                },\n                getAlbum   : function (params) {\n                    return Parse.Cloud.run('getAlbum', params);\n                },\n                feed       : function (params) {\n                    return Parse.Cloud.run('feedGallery', params);\n                },\n                search     : function (params) {\n                    return Parse.Cloud.run('searchGallery', params);\n                },\n                follow     : function (params) {\n                    return Parse.Cloud.run('followUser', params);\n                },\n                likeGallery: function (params) {\n                    return Parse.Cloud.run('likeGallery', {galleryId: params.galleryId});\n                },\n                get        : function (galleryId) {\n                    var defer = $q.defer();\n                    new Parse.Query(this)\n                        .include('profile')\n                        .get(galleryId, {\n                            success: defer.resolve,\n                            error  : defer.reject\n                        });\n\n                    return defer.promise;\n                },\n                all        : function (params) {\n                    var defer = $q.defer();\n                    var query = new Parse.Query(this);\n\n\n                    if (params.order) {\n                        if (params.order.indexOf('-') < -1) {\n                            query.ascending(params.order);\n                        } else {\n                            query.descending(params.order.replace('-'));\n                        }\n                    }\n\n                    if (params.status && params.status !== null) {\n                        if (params.status === 'pending') {\n                            query.doesNotExist('isApproved');\n                        } else if (params.status === 'rejected') {\n                            query.equalTo('isApproved', false);\n                        } else if (params.status === 'approved') {\n                            query.equalTo('isApproved', true);\n                        }\n                    }\n\n                    query.limit(params.limit);\n\n                    query.skip((params.page * params.limit) - params.limit);\n                    query.find({\n                        success: defer.resolve,\n                        error  : defer.reject\n                    });\n\n                    return defer.promise;\n                },\n                count      : function (params) {\n                    var defer = $q.defer();\n                    var query = new Parse.Query(this);\n\n                    if (params.filter != '') {\n                        query.contains('words', params.filter);\n                    }\n\n                    if (params.date && params.date !== null) {\n                        var start = moment(params.date).startOf('day');\n                        var end   = moment(params.date).endOf('day');\n                        query.greaterThanOrEqualTo('createdAt', start.toDate());\n                        query.lessThanOrEqualTo('createdAt', end.toDate());\n                    }\n\n                    if (params.status && params.status !== null) {\n\n                        if (params.status === 'pending') {\n                            query.doesNotExist('isApproved');\n                        } else if (params.status === 'rejected') {\n                            query.equalTo('isApproved', false);\n                        } else if (params.status === 'approved') {\n                            query.equalTo('isApproved', true);\n                        }\n                    }\n\n                    query.count({\n                        success: function (count) {\n                            defer.resolve(count);\n                        },\n                        error  : function (error) {\n                            defer.reject(error);\n                        }\n                    });\n\n                    return defer.promise;\n                }\n            });\n\n        var fields = [\n            'title',\n            'commentsTotal',\n            'likesTotal',\n            'user',\n            'profile',\n            'hashtags',\n            'words',\n            'privacity',\n            'address',\n            'lang',\n            'image',\n            'imageThumb',\n            'isApproved',\n            'expiresAt',\n            'icon',\n        ];\n\n\n        fields.map(function (field) {\n            Object.defineProperty(ParseObject.prototype, field, {\n                get: function () {\n                    return this.get(field);\n                },\n                set: function (value) {\n                    this.set(field, value);\n                }\n            });\n        });\n\n        Object.defineProperty(ParseObject.prototype, 'location', {\n            get: function () {\n                return this.get('location');\n            },\n            set: function (val) {\n                this.set('location', new Parse.GeoPoint({\n                    latitude : val.latitude,\n                    longitude: val.longitude\n                }));\n            }\n        });\n\n\n        return ParseObject;\n\n    }\n\n})();\n\n(function () {\n  'use strict';\n  angular.module('starter').factory('GalleryFeedback', function ($q, Parse, moment) {\n\n    var ParseObject = Parse.Object.extend('GalleryFeedback', {\n      getStatus: function () {\n        if (this.isApproved) {\n          return 'Approved';\n        } else if (this.isApproved === false) {\n          return 'Rejected';\n        } else {\n          return 'Pending';\n        }\n      }\n    }, {\n      create : function (item) {\n        var defer    = $q.defer();\n        var objPlace = new ParseObject();\n        item.user    = Parse.User.current();\n        objPlace.save(item, {\n          success: defer.resolve,\n          error  : defer.reject\n        });\n\n        return defer.promise;\n      },\n      update : function (item) {\n        var defer = $q.defer();\n        item.save(null, {\n          success: defer.resolve,\n          error  : defer.reject\n        });\n        return defer.promise;\n      },\n      destroy: function (item) {\n        var defer = $q.defer();\n        item.destroy({\n          success: defer.resolve,\n          error  : defer.reject\n        });\n        return defer.promise;\n      },\n      all    : function (params) {\n        var defer = $q.defer();\n        var query = new Parse.Query(this);\n\n        if (params.filter != '') {\n          query.contains('words', params.filter);\n        }\n\n        if (params.date && params.date !== null) {\n          var start = moment(params.date).startOf('day');\n          var end   = moment(params.date).endOf('day');\n          query.greaterThanOrEqualTo('createdAt', start.toDate());\n          query.lessThanOrEqualTo('createdAt', end.toDate());\n        }\n\n        if (params.status && params.status !== null) {\n\n          if (params.status === 'pending') {\n            query.doesNotExist('isApproved');\n          } else if (params.status === 'rejected') {\n            query.equalTo('isApproved', false);\n          } else if (params.status === 'approved') {\n            query.equalTo('isApproved', true);\n          }\n\n        }\n\n        query.include('gallery')\n        query.include('User')\n        query.descending('createdAt');\n        query.limit(params.limit);\n        query.skip((params.page * params.limit) - params.limit);\n        query.find({\n          success: defer.resolve,\n          error  : defer.reject\n        });\n\n        return defer.promise;\n      },\n      count  : function (params) {\n        var defer = $q.defer();\n        var query = new Parse.Query(this);\n\n        if (params.filter != '') {\n          query.contains('words', params.filter);\n        }\n\n        if (params.date && params.date !== null) {\n          var start = moment(params.date).startOf('day');\n          var end   = moment(params.date).endOf('day');\n          query.greaterThanOrEqualTo('createdAt', start.toDate());\n          query.lessThanOrEqualTo('createdAt', end.toDate());\n        }\n\n        if (params.order) {\n          if (params.order.indexOf('-') < -1) {\n            query.ascending(params.order);\n          } else {\n            query.descending(params.order.replace('-'));\n          }\n        }\n\n        if (params.status && params.status !== null) {\n\n          if (params.status === 'pending') {\n            query.doesNotExist('isApproved');\n          } else if (params.status === 'rejected') {\n            query.equalTo('isApproved', false);\n          } else if (params.status === 'approved') {\n            query.equalTo('isApproved', true);\n          }\n        }\n\n        query.count({\n          success: function (count) {\n            defer.resolve(count);\n          },\n          error  : function (error) {\n            defer.reject(error);\n          }\n        });\n\n        return defer.promise;\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'user', {\n      get: function () {\n        return this.get('user');\n      },\n      set: function (value) {\n        this.set('user', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'subject', {\n      get: function () {\n        return this.get('subject');\n      },\n      set: function (value) {\n        this.set('subject', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'message', {\n      get: function () {\n        return this.get('title');\n      },\n      set: function (value) {\n        this.set('title', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'hashtags', {\n      get: function () {\n        return this.get('hashtags');\n      },\n      set: function (value) {\n        this.set('hashtags', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'words', {\n      get: function () {\n        return this.get('words');\n      },\n      set: function (value) {\n        this.set('words', value);\n      }\n    });\n\n\n    Object.defineProperty(ParseObject.prototype, 'isApproved', {\n      get: function () {\n        return this.get('isApproved');\n      },\n      set: function (value) {\n        this.set('isApproved', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'expiresAt', {\n      get: function () {\n        return this.get('expiresAt');\n      },\n      set: function (value) {\n        this.set('expiresAt', value);\n      }\n    });\n\n    return ParseObject;\n\n  });\n\n})();\n\n(function () {\n  'use strict';\n  angular.module('starter').factory('GallerySetting', function ($q, Parse, moment) {\n\n    var ParseObject = Parse.Object.extend('GallerySetting', {\n      getStatus: function () {\n        if (moment().toDate() >= this.expiresAt) {\n          return 'Expired';\n        }\n        else if (this.isApproved) {\n          return 'Approved';\n        } else if (this.isApproved === false) {\n          return 'Rejected';\n        } else {\n          return 'Pending';\n        }\n      }\n    }, {\n      create : function (item) {\n        var defer    = $q.defer();\n        var objPlace = new ParseObject();\n\n        objPlace.save(item, {\n          success: defer.resolve,\n          error  : defer.reject\n        });\n\n        return defer.promise;\n      },\n      update : function (item) {\n        var defer = $q.defer();\n        item.save(null, {\n          success: defer.resolve,\n          error  : defer.reject\n        });\n        return defer.promise;\n      },\n      destroy: function (item) {\n        var defer = $q.defer();\n        item.destroy({\n          success: defer.resolve,\n          error  : defer.reject\n        });\n        return defer.promise;\n      },\n      all    : function (params) {\n        var defer = $q.defer();\n        var query = new Parse.Query(this);\n\n        if (params.filter != '') {\n          query.contains('canonical', params.filter);\n        }\n\n        query.descending('createdAt');\n        query.limit(params.limit);\n        query.skip((params.page * params.limit) - params.limit);\n        query.find({\n          success: defer.resolve,\n          error  : defer.reject\n        });\n\n        return defer.promise;\n      },\n      count  : function (params) {\n        var defer = $q.defer();\n        var query = new Parse.Query(this);\n\n        query.count({\n          success: defer.resolve,\n          error  : defer.reject\n        });\n\n        return defer.promise;\n      }\n\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'key', {\n      get: function () {\n        return this.get('key');\n      },\n      set: function (value) {\n        this.set('key', value);\n      }\n    });\n\n    Object.defineProperty(ParseObject.prototype, 'value', {\n      get: function () {\n        return this.get('value');\n      },\n      set: function (value) {\n        this.set('value', value);\n      }\n    });\n\n    return ParseObject;\n\n  });\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').factory('Geolocation', GeolocationFactory);\n\n    function GeolocationFactory($ionicPlatform, $q) {\n        return {\n            getCurrentPosition: getCurrentPosition\n        };\n\n        function getCurrentPosition($cordovaGeolocation) {\n            var defer = $q.defer();\n\n            $ionicPlatform.ready(function () {\n                var options = {\n                    maximumAge        : 3000,\n                    timeout           : 1000,\n                    enableHighAccuracy: true\n                };\n\n                var options = {timeout: 10000, enableHighAccuracy: true};\n\n                if (navigator.geolocation) {\n                    navigator.geolocation.getCurrentPosition(\n                        function(position) {\n                            console.log(position);\n                            defer.resolve(position);\n                        },\n                        function(error) {\n                            defer.reject(error);\n                        },\n                        {timeout: 30000, enableHighAccuracy: true, maximumAge: 75000}\n                    );\n                }\n\n\n            });\n\n            return defer.promise;\n        }\n    }\n\n})();\n(function () {\n  'use strict';\n  angular.module('starter').factory('ParseFile', function (Parse, $q) {\n    return {\n      upload: upload\n    };\n\n    function upload(file, ext) {\n      var defer = $q.defer();\n      var filename = 'file.jpg';\n\n      if (ext) {\n        filename.replace('.jpg', ext);\n      }\n\n            new Parse.File(filename, file)\n        .save({\n          success: defer.resolve,\n          error  : defer.reject\n        });\n      return defer.promise;\n    }\n  });\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').factory('ParsePush', ParsePushFactory);\n\n    function ParsePushFactory(Parse, $q) {\n\n        return {\n            init            : init,\n            on              : on,\n            subscribe       : subscribe,\n            getSubscriptions: getSubscriptions,\n            unsubscribe     : unsubscribe,\n            subscribeUser   : subscribeUser,\n        };\n\n\n        function init() {\n            var defer = $q.defer();\n            if (window.ParsePushPlugin) {\n                ParsePushPlugin.getInstallationId(function (id) {\n                    console.log(\"device installationId: \" + id);\n                    subscribeUser();\n                    defer.resolve(id);\n                }, function (e) {\n                    console.log('error', e);\n                    defer.reject(e);\n                });\n            } else {\n                defer.reject('Not Parse Push');\n            }\n            return defer.promise;\n        }\n\n        function getSubscriptions() {\n            var defer = $q.defer();\n            ParsePushPlugin.getSubscriptions(function (subscriptions) {\n                console.log(subscriptions);\n                defer.resolve(subscriptions);\n            }, function (e) {\n                console.log('error', e);\n                defer.reject(e);\n            });\n            return defer.promise;\n        }\n\n\n        function subscribeUser() {\n            var defer = $q.defer();\n            var user  = Parse.User.current();\n\n            if (window.ParsePushPlugin && user) {\n                subscribe(user.username);\n            } else {\n                defer.reject('Not device');\n            }\n            return defer.promise;\n        }\n\n        function on(event, callback) {\n            if (window.ParsePushPlugin) {\n                ParsePushPlugin.on(event, callback);\n            }\n        }\n\n        function subscribe(channel) {\n            var defer = $q.defer();\n            if (window.ParsePushPlugin) {\n                ParsePushPlugin.subscribe(channel, function (resp) {\n                    console.log('Subcribe in channel', channel);\n                    defer.resolve(resp);\n                }, function (err) {\n                    console.log('Not Subcribe in channel', channel);\n                    defer.reject(err);\n                });\n            }\n            return defer.promise;\n        }\n\n        function unsubscribe(channel) {\n            var defer = $q.defer();\n            if (window.ParsePushPlugin) {\n                ParsePushPlugin.unsubscribe(channel, function (resp) {\n                    console.log('Unsubcribe in channel', channel);\n                    defer.resolve(resp);\n                }, function (err) {\n                    console.log('Not Unsubcribe in channel', channel);\n                    defer.reject(err);\n                });\n            }\n            return defer.promise;\n        }\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').factory('Parse', ParseFactory);\n\n    function ParseFactory($window, $rootScope) {\n        var Parse  = $window.Parse;\n        Parse.init = init;\n\n        return Parse;\n\n        function init(options) {\n            Parse.initialize(options.appId);\n            Parse.serverURL        = options.server;\n            $rootScope.currentUser = Parse.User.current();\n        }\n\n    }\n\n})();\n(function () {\n    'use strict';\n    angular.module('starter').factory('Share', ShareFactory);\n\n    function ShareFactory($cordovaSocialSharing) {\n\n        var TAG = 'ShareService';\n\n        return {\n            open: open\n        };\n\n        function open(item) {\n            if (window.cordova && item) {\n                $cordovaSocialSharing.share(item.title, item.userName, item.image, item.url).then(function (result) {\n                    console.log(result);\n                }, function (err) {\n                    console.warn(err);\n                });\n            } else {\n                console.warn('[' + TAG + '] Unsupported platform');\n            }\n        }\n\n    }\n})();\n\n(function () {\n  'use strict';\n\n  angular.module('starter').factory('Toast', ToastFactory);\n\n  function ToastFactory($cordovaToast, $ionicPopup) {\n\n    return {\n      alert  : alert,\n      confirm: confirm\n    };\n\n    function alert(params) {\n      if (window.cordova) {\n        $cordovaToast.show(params.text, 'short', 'bottom');\n      } else {\n        $ionicPopup.alert({\n          title   : params.title,\n          template: params.text,\n          okType  : 'button button-clear button-assertive',\n        });\n      }\n    }\n\n    function confirm(title, msg) {\n      return $ionicPopup.confirm({\n        title   : title,\n        template: msg\n      });\n    }\n  }\n\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').factory('User', UserFactory);\n\n    function UserFactory($q, $translate, $window, $cordovaDevice, Parse, ParsePush) {\n\n        var ParseObject = Parse.User.extend({}, {\n            profile               : function (username) {\n                return Parse.Cloud.run('profile', {username: username})\n            },\n            list                  : function (params) {\n                return Parse.Cloud.run('listUsers', params)\n            },\n            getFollowers          : function (username) {\n                return Parse.Cloud.run('getFollowers', {username: username})\n            },\n            getLikers             : function (galleryId) {\n                return Parse.Cloud.run('getLikers', {galleryId: galleryId})\n            },\n            getFollowing          : function (username) {\n                return Parse.Cloud.run('getFollowing', {username: username})\n            },\n            signIn                : function (obj) {\n                var defer = $q.defer();\n\n                Parse.User.logIn(obj.username.toLowerCase(), obj.password, {\n                    success: function (currentUser) {\n\n                        var updateUser;\n                        if (window.cordova) {\n                            updateUser = {\n                                device  : $cordovaDevice.getDevice(),\n                                cordova : $cordovaDevice.getCordova(),\n                                model   : $cordovaDevice.getModel(),\n                                platform: $cordovaDevice.getPlatform(),\n                                uuid    : $cordovaDevice.getUUID(),\n                                version : $cordovaDevice.getVersion()\n                            };\n                        } else {\n                            var userAgent = window.navigator.userAgent.match(/(?:Chrom(?:e|ium)|Firefox)\\/([0-9]+)\\./);\n\n                            updateUser = {\n                                device  : {device: (userAgent) ? userAgent[0] : 'emulator'},\n                                cordova : '',\n                                model   : (userAgent) ? userAgent[0] : 'emulator',\n                                platform: window.navigator.platform,\n                                uuid    : '',\n                                version : (userAgent) ? userAgent[0] : 'emulator'\n                            };\n                        }\n\n                        updateUser.lang = $translate.use();\n\n                        if (window.cordova) {\n                            ParsePush.init();\n                        }\n\n                        Parse.User.update(updateUser).then(function () {\n                            defer.resolve(currentUser);\n                        }).catch(defer.reject);\n                    },\n                    error  : defer.reject\n                });\n\n                return defer.promise;\n            },\n            signUp                : function (data) {\n                var defer = $q.defer();\n                var user  = new Parse.User()\n                    .set({'name': data.name})\n                    .set({'username': data.username})\n                    .set({'email': data.email})\n                    .set({'password': data.password})\n                    .set({'roleName': 'User'});\n\n                user.signUp(null, {\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n\n                return defer.promise;\n\n            },\n            signInViaFacebook     : function (authData) {\n\n                var facebookAuthData = {\n                    id             : authData.authResponse.userID,\n                    access_token   : authData.authResponse.accessToken,\n                    expiration_date: (new Date().getTime() + 1000).toString()\n                };\n\n                var defer = $q.defer();\n                Parse.FacebookUtils.logIn(facebookAuthData, {\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n\n                return defer.promise;\n            },\n            updateWithFacebookData: function (data) {\n                var defer = $q.defer();\n                Parse.Cloud.run('saveFacebookPicture', {}).then(function () {\n                    var user = Parse.User.current();\n\n                    if (!data.username && data.email) {\n                        user.set({'username': data.email.split('@')[0]});\n                    }\n\n                    if (!user.get('name') && data.name) {\n                        user.set({'name': data.name});\n                    }\n\n                    if (!user.get('email') && data.email) {\n                        user.set({'email': data.email});\n                    }\n                    user.save(null, {\n                        success: function () {\n                            user.fetch().then(defer.resolve, defer.reject);\n                        }\n                    });\n                }).catch(defer.reject);\n                return defer.promise;\n            },\n            logOut                : function () {\n                console.log(Parse.applicationId);\n                delete $window.localStorage['Parse/' + Parse.applicationId + '/currentUser'];\n                delete $window.localStorage['Parse/' + Parse.applicationId + '/installationId'];\n            },\n            findByEmail           : function (email) {\n                return Parse.Cloud.run('findUserByEmail', {email: email});\n            },\n            getPublicData         : function (user) {\n                console.log(user);\n                var defer = $q.defer();\n                new Parse.Query('UserData').equalTo('user', user).first().then(function (userData) {\n                    if (userData) {\n                        defer.resolve(userData);\n                    } else {\n                        defer.reject(Parse.Promise.error({\n                            code   : 1,\n                            message: 'User Data not found'\n                        }));\n                    }\n                }, defer.reject);\n                return defer.promise;\n            },\n            recoverPassword       : function (email) {\n                var defer = $q.defer();\n                Parse.User.requestPasswordReset(email, {\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n                return defer.promise;\n            },\n            destroy               : function () {\n                return Parse.User.current().destroy();\n            },\n            setPhoto              : function (parseFile) {\n                var defer = $q.defer();\n                var user  = Parse.User.current();\n                user.set({'photo': parseFile});\n                user.save(null, {\n                    success: defer.resolve,\n                    error  : defer.reject\n                });\n                return defer.promise;\n            },\n            follow                : function (userId) {\n                return Parse.Cloud.run('followUser', {userId: userId});\n            },\n            all                   : function (params) {\n                return Parse.Cloud.run('getUsers', params);\n            },\n            validateUsername      : function (input) {\n                return Parse.Cloud.run('validateUsername', {username: input});\n            },\n            validateEmail         : function (input) {\n                return Parse.Cloud.run('validateEmail', {email: input});\n            },\n            update                : function (params) {\n                var user    = Parse.User.current();\n                params.lang = $translate.use();\n\n                angular.forEach(params, function (value, key) {\n                    user.set(key, value);\n                });\n                return user.save();\n            },\n            delete                : function (data) {\n                return Parse.Cloud.run('destroyUser', data);\n            },\n            fetch                 : function () {\n                var defer = $q.defer();\n                if (Parse.User.current()) {\n                    Parse.User.current().fetch().then(defer.resolve, defer.reject);\n                } else {\n                    defer.reject();\n                }\n                return defer.promise;\n            }\n\n        });\n\n        var fields = [\n            'name',\n            'username',\n            'status',\n            'gender',\n            'email',\n            'photo',\n            'photoThumb',\n            'roleName',\n        ];\n\n        fields.map(function (field) {\n            Object.defineProperty(ParseObject.prototype, field, {\n                get: function () {\n                    return this.get(field);\n                },\n                set: function (val) {\n                    this.set(field, val);\n                }\n            });\n        });\n\n\n        return ParseObject;\n\n    }\n\n})();\n\n(function (window, angular, cordova, ionic, undefined) {\n    'use strict';\n    var default_config = {\n        color: '#1D5ECE',\n        bgcolor: '#eaeaea',\n        semi: false,\n        rounded: false,\n        clockwise: true,\n        radius: '15',\n        stroke: '5',\n        max: 100,\n        iterations: 50,\n        animation: 'easeOutCubic',\n        interval: 200,\n        showProgressCircleInBrowser: true,\n        showProgressCircleInDevice: true\n    };\n\n    angular\n        .module('ionic-cache-src', [\n            'ionic',\n            'angular-svg-round-progressbar',\n            'ngCordova',\n            'ngStorage'\n        ])\n        .provider('$cacheSrc', function () {\n            this.config = default_config;\n            this.set = function (obj, val) {\n                var t = typeof obj;\n                if (t == 'object') {\n                    angular.extend(this.config, obj);\n                } else if (t == 'string') {\n                    this.config[obj] = val;\n                }\n                return this;\n            };\n\n            this.$get = function () {\n                return this.config;\n            };\n        })\n        .factory('cacheSrcStorage', function ($localStorage) {\n            var c = {};\n            c._cache = $localStorage.cache_src;\n            c.get = function (url) {\n                return c._cache[url] && (getCacheDir() + c._cache[url]);\n            };\n            c.set = function (url, localUrl) {\n                c._cache[url] = localUrl;\n                return c;\n            };\n            return c;\n        })\n        .directive('cacheSrc', function ($ionicPlatform, $interval, $timeout, $compile, $cacheSrc,\n                                         $cordovaFileTransfer, $localStorage, $cordovaNetwork) {\n            return {\n                restrict: 'A',\n                scope: {\n                    'onProgress': '=?',\n                    'onFinish': '=?',\n                    'onError': '=?'\n                },\n                link: function (scope, element, attrs) {\n\n                    function id() {\n                        var text = \"\";\n                        var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n                        for (var i = 0; i < 16; i++)\n                            text += possible.charAt(Math.floor(Math.random() * possible.length));\n                        return text;\n                    };\n\n                    function makeProgressCircle($scope, $compile) {\n                        return angular.element($compile(\n                            '<div style=\"text-align:{{textAlign}}\"><div round-progress  max=\"max\"  current=\"progress\"  color=\"{{color}}\" bgcolor=\"{{bgcolor}}\"  radius=\"{{radius}}\"  stroke=\"{{stroke}}\"  rounded=\"rounded\" clockwise=\"clockwise\" iterations=\"{{iterations}}\"  animation=\"{{animation}}\"></div></div>'\n                        )($scope));\n                    };\n\n                    function startsWith(str, arr) {\n                        for (var i = 0; i < arr.length; i++) {\n                            var sub_str = arr[i];\n                            if (str.indexOf(sub_str) === 0) {\n                                return true;\n                            }\n                        }\n                        return false;\n                    };\n\n\n                    function needDownload(path) {\n                        if (startsWith(path, [\n                                'http://',\n                                'https://',\n                                'ftp://'\n                            ])) {\n                            return true;\n                        } else {\n                            return false;\n                        }\n                    };\n\n                    function attrToScope(scope, attrs) {\n                        scope.progress = 0;\n                        scope.max = 100;\n                        scope.radius = attrs.radius;\n                        scope.stroke = attrs.stroke;\n                        scope.animation = attrs.animation;\n                        scope.clockwise = attrs.clockwise;\n                        scope.color = attrs.color;\n                        scope.bgcolor = attrs.bgcolor;\n                        scope.rounded = attrs.rounded;\n                        scope.iterations = attrs.iterations;\n                        scope.textAlign = 'center';\n                    };\n\n                    var isIOS = ionic.Platform.isIOS();\n                    var isAndroid = ionic.Platform.isAndroid();\n\n                    if (cordova & isIOS || isAndroid) {\n\n\n                        var getCacheDir = function () {\n                            switch (device.platform) {\n                                case 'iOS':\n                                    return cordova.file.documentsDirectory;\n                                case 'Android':\n                                    return cordova.file.dataDirectory;\n                            }\n                            return '';\n                        };\n\n                        var progress_circle;\n                        var display;\n                        var config = {};\n                        angular.extend(config, $cacheSrc);\n                        angular.extend(config, attrs);\n                        attrToScope(scope, config);\n                        scope.onProgress = scope.onProgress || function () {};\n                        scope.onFinish = scope.onFinish || function () {};\n                        scope.onError = scope.onError || function () {};\n                        var cache = $localStorage.cache_src = $localStorage.cache_src || {};\n                        var finish = function (result) {\n                            if (config.showProgressCircleInDevice) {\n                                element.css('display', display);\n                                progress_circle.remove();\n                            }\n                            addSrc(result);\n                        };\n\n                        var addSrc = function (result) {\n                            element[0][config.srcIs || 'src'] = result;\n                            scope.onFinish(result);\n                        };\n\n\n                        attrs.$observe('cacheSrc',\n                            function () {\n                                if (attrs.cacheSrc) {\n                                    if (needDownload(attrs.cacheSrc)) {\n                                        if (cache[attrs.cacheSrc]) {\n                                            $ionicPlatform\n                                                .ready()\n                                                .then(function () {\n                                                    addSrc(getCacheDir() + cache[attrs.cacheSrc]);\n                                                });\n                                        } else {\n                                            if (config.showProgressCircleInDevice) {\n                                                progress_circle = makeProgressCircle(scope, $compile);\n                                                display = element.css('display');\n                                                element.css('display', 'none');\n                                                element.after(progress_circle);\n                                            }\n                                            $ionicPlatform\n                                                .ready()\n                                                .then(function () {\n                                                    var ext = '.' + attrs.cacheSrc.split('.').pop();\n                                                    var fileName = id() + ext;\n                                                    $cordovaFileTransfer\n                                                        .download(attrs.cacheSrc, getCacheDir() + fileName, {}, true)\n                                                        .then(function (result) {\n                                                            cache[attrs.cacheSrc] = fileName;\n                                                            finish(getCacheDir() + fileName);\n                                                        }, scope.onError, function (progress) {\n                                                            scope.progress = (progress.loaded / progress.total) * 100;\n                                                            scope.onProgress(scope.progress);\n                                                        });\n                                                });\n                                        }\n                                    } else {\n                                        addSrc(attrs.cacheSrc);\n                                    }\n                                }\n                            });\n                    } else {\n                        var progress_circle = makeProgressCircle(scope, $compile);\n                        var config = {};\n                        angular.extend(config, $cacheSrc);\n                        angular.extend(config, attrs);\n                        attrToScope(scope, config);\n                        scope.onProgress = scope.onProgress || function () {};\n                        scope.onFinish = scope.onFinish || function () {};\n                        attrs.$observe('cacheSrc', function () {\n                            if (attrs.cacheSrc) {\n                                if (needDownload(attrs.cacheSrc)) {\n                                    if (config.showProgressCircleInBrowser) {\n                                        var display = element.css('display');\n                                        element.css('display', 'none');\n                                        element\n                                            .after(progress_circle);\n                                    }\n                                    var promise = $interval(function () {\n                                        scope.progress += 10;\n                                        scope.onProgress(scope.progress);\n                                        if (scope.progress == 100) {\n                                            $interval.cancel(promise);\n                                            if (config.showProgressCircleInBrowser) {\n                                                element.css('display', display);\n                                                progress_circle.remove();\n                                            }\n                                            element[0][config.srcIs || 'src'] = attrs.cacheSrc;\n                                            scope.onFinish(attrs.cacheSrc);\n                                        }\n                                    }, config.interval);\n                                } else {\n                                    element[0][config.srcIs || 'src'] = attrs.cacheSrc;\n                                    scope.onFinish(attrs.cacheSrc);\n                                }\n                            }\n                        });\n                    }\n\n                }\n            };\n        });\n\n})(window, window.angular, window.cordova, window.ionic);\n(function () {\n    \"use strict\";\n    (function () {\n        var lastTime = 0;\n        var vendors  = ['webkit', 'moz'];\n        for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n            window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\n            window.cancelAnimationFrame  =\n                window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\n        }\n\n        if (!window.requestAnimationFrame) {\n            window.requestAnimationFrame = function (callback) {\n                var currTime   = new Date().getTime();\n                var timeToCall = Math.max(0, 16 - (currTime - lastTime));\n                var id         = window.setTimeout(function () { callback(currTime + timeToCall); },\n                    timeToCall);\n                lastTime       = currTime + timeToCall;\n                return id;\n            };\n        }\n\n        if (!window.cancelAnimationFrame) {\n            window.cancelAnimationFrame = function (id) {\n                window.clearTimeout(id);\n            };\n        }\n    }());\n\n    angular.module('angular-svg-round-progressbar', []);\n    angular.module('angular-svg-round-progressbar').constant('roundProgressConfig', {\n        max           : 50,\n        semi          : false,\n        rounded       : false,\n        responsive    : false,\n        clockwise     : true,\n        radius        : 100,\n        color         : '#45ccce',\n        bgcolor       : '#eaeaea',\n        stroke        : 15,\n        duration      : 800,\n        animation     : 'easeOutCubic',\n        animationDelay: 0,\n        offset        : 0\n    });\n\n    angular.module('angular-svg-round-progressbar').service('roundProgressService', [\n        '$window', function ($window) {\n            var service  = {};\n            var isNumber = angular.isNumber;\n            var base     = document.head.querySelector('base');\n\n            service.isSupported = !!(document.createElementNS && document.createElementNS('http://www.w3.org/2000/svg', \"svg\").createSVGRect);\n\n            service.resolveColor = base && base.href ? function (value) {\n                var hashIndex = value.indexOf('#');\n\n                if (hashIndex > -1 && value.indexOf('url') > -1) {\n                    return value.slice(0, hashIndex) + window.location.href + value.slice(hashIndex);\n                }\n\n                return value;\n            } : function (value) {\n                return value;\n            };\n\n            service.toNumber = function (value) {\n                return isNumber(value) ? value : parseFloat((value + '').replace(',', '.'));\n            };\n\n            service.getOffset = function (scope, options) {\n                var value = +options.offset || 0;\n\n                if (options.offset === 'inherit') {\n                    var parent = scope.$parent;\n\n                    while (parent) {\n                        if (parent.hasOwnProperty('$$getRoundProgressOptions')) {\n                            var opts = parent.$$getRoundProgressOptions();\n                            value += ((+opts.offset || 0) + (+opts.stroke || 0));\n                        }\n\n                        parent = parent.$parent;\n                    }\n                }\n\n                return value;\n            };\n\n            service.getTimestamp = ($window.performance && $window.performance.now && angular.isNumber($window.performance.now())) ? function () {\n                return $window.performance.now();\n            } : function () {\n                return new $window.Date().getTime();\n            };\n\n            service.updateState = function (current, total, pathRadius, element, elementRadius, isSemicircle) {\n                if (!elementRadius) return element;\n\n                var value    = current > 0 ? Math.min(current, total) : 0;\n                var type     = isSemicircle ? 180 : 359.9999;\n                var perc     = total === 0 ? 0 : (value / total) * type;\n                var start    = polarToCartesian(elementRadius, elementRadius, pathRadius, perc);\n                var end      = polarToCartesian(elementRadius, elementRadius, pathRadius, 0);\n                var arcSweep = (perc <= 180 ? 0 : 1);\n                var d        = 'M ' + start + ' A ' + pathRadius + ' ' + pathRadius + ' 0 ' + arcSweep + ' 0 ' + end;\n\n                return element.attr('d', d);\n            };\n\n\n            service.animations = {\n\n\n                linearEase: function (t, b, c, d) {\n                    return c * t / d + b;\n                },\n\n                easeInQuad: function (t, b, c, d) {\n                    return c * (t /= d) * t + b;\n                },\n\n                easeOutQuad: function (t, b, c, d) {\n                    return -c * (t /= d) * (t - 2) + b;\n                },\n\n                easeInOutQuad: function (t, b, c, d) {\n                    if ((t /= d / 2) < 1) return c / 2 * t * t + b;\n                    return -c / 2 * ((--t) * (t - 2) - 1) + b;\n                },\n\n                easeInCubic: function (t, b, c, d) {\n                    return c * (t /= d) * t * t + b;\n                },\n\n                easeOutCubic: function (t, b, c, d) {\n                    return c * ((t = t / d - 1) * t * t + 1) + b;\n                },\n\n                easeInOutCubic: function (t, b, c, d) {\n                    if ((t /= d / 2) < 1) return c / 2 * t * t * t + b;\n                    return c / 2 * ((t -= 2) * t * t + 2) + b;\n                },\n\n                easeInQuart: function (t, b, c, d) {\n                    return c * (t /= d) * t * t * t + b;\n                },\n\n                easeOutQuart: function (t, b, c, d) {\n                    return -c * ((t = t / d - 1) * t * t * t - 1) + b;\n                },\n\n                easeInOutQuart: function (t, b, c, d) {\n                    if ((t /= d / 2) < 1) return c / 2 * t * t * t * t + b;\n                    return -c / 2 * ((t -= 2) * t * t * t - 2) + b;\n                },\n\n                easeInQuint: function (t, b, c, d) {\n                    return c * (t /= d) * t * t * t * t + b;\n                },\n\n                easeOutQuint: function (t, b, c, d) {\n                    return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n                },\n\n                easeInOutQuint: function (t, b, c, d) {\n                    if ((t /= d / 2) < 1) return c / 2 * t * t * t * t * t + b;\n                    return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\n                },\n\n                easeInSine: function (t, b, c, d) {\n                    return -c * Math.cos(t / d * (Math.PI / 2)) + c + b;\n                },\n\n                easeOutSine: function (t, b, c, d) {\n                    return c * Math.sin(t / d * (Math.PI / 2)) + b;\n                },\n\n                easeInOutSine: function (t, b, c, d) {\n                    return -c / 2 * (Math.cos(Math.PI * t / d) - 1) + b;\n                },\n\n                easeInExpo: function (t, b, c, d) {\n                    return (t == 0) ? b : c * Math.pow(2, 10 * (t / d - 1)) + b;\n                },\n\n                easeOutExpo: function (t, b, c, d) {\n                    return (t == d) ? b + c : c * (-Math.pow(2, -10 * t / d) + 1) + b;\n                },\n\n                easeInOutExpo: function (t, b, c, d) {\n                    if (t == 0) return b;\n                    if (t == d) return b + c;\n                    if ((t /= d / 2) < 1) return c / 2 * Math.pow(2, 10 * (t - 1)) + b;\n                    return c / 2 * (-Math.pow(2, -10 * --t) + 2) + b;\n                },\n\n                easeInCirc: function (t, b, c, d) {\n                    return -c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\n                },\n\n                easeOutCirc: function (t, b, c, d) {\n                    return c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\n                },\n\n                easeInOutCirc: function (t, b, c, d) {\n                    if ((t /= d / 2) < 1) return -c / 2 * (Math.sqrt(1 - t * t) - 1) + b;\n                    return c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\n                },\n\n                easeInElastic: function (t, b, c, d) {\n                    var s = 1.70158;\n                    var p = 0;\n                    var a = c;\n                    if (t == 0) return b;\n                    if ((t /= d) == 1) return b + c;\n                    if (!p) p = d * 0.3;\n                    if (a < Math.abs(c)) {\n                        a = c;\n                        s = p / 4;\n                    }\n                    else s = p / (2 * Math.PI) * Math.asin(c / a);\n                    return -(a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n                },\n\n                easeOutElastic: function (t, b, c, d) {\n                    var s = 1.70158;\n                    var p = 0;\n                    var a = c;\n                    if (t == 0) return b;\n                    if ((t /= d) == 1) return b + c;\n                    if (!p) p = d * 0.3;\n                    if (a < Math.abs(c)) {\n                        a = c;\n                        s = p / 4;\n                    }\n                    else s = p / (2 * Math.PI) * Math.asin(c / a);\n                    return a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b;\n                },\n\n                easeInOutElastic: function (t, b, c, d) {\n                    var s = 1.70158;\n                    var p = 0;\n                    var a = c;\n                    if (t == 0) return b;\n                    if ((t /= d / 2) == 2) return b + c;\n                    if (!p) p = d * (0.3 * 1.5);\n                    if (a < Math.abs(c)) {\n                        a = c;\n                        s = p / 4;\n                    }\n                    else s = p / (2 * Math.PI) * Math.asin(c / a);\n                    if (t < 1) return -0.5 * (a * Math.pow(2, 10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p)) + b;\n                    return a * Math.pow(2, -10 * (t -= 1)) * Math.sin((t * d - s) * (2 * Math.PI) / p) * 0.5 + c + b;\n                },\n\n                easeInBack: function (t, b, c, d, s) {\n                    if (s == undefined) s = 1.70158;\n                    return c * (t /= d) * t * ((s + 1) * t - s) + b;\n                },\n\n                easeOutBack: function (t, b, c, d, s) {\n                    if (s == undefined) s = 1.70158;\n                    return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n                },\n\n                easeInOutBack: function (t, b, c, d, s) {\n                    if (s == undefined) s = 1.70158;\n                    if ((t /= d / 2) < 1) return c / 2 * (t * t * (((s *= (1.525)) + 1) * t - s)) + b;\n                    return c / 2 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2) + b;\n                },\n\n                easeInBounce: function (t, b, c, d) {\n                    return c - service.animations.easeOutBounce(d - t, 0, c, d) + b;\n                },\n\n                easeOutBounce: function (t, b, c, d) {\n                    if ((t /= d) < (1 / 2.75)) {\n                        return c * (7.5625 * t * t) + b;\n                    } else if (t < (2 / 2.75)) {\n                        return c * (7.5625 * (t -= (1.5 / 2.75)) * t + 0.75) + b;\n                    } else if (t < (2.5 / 2.75)) {\n                        return c * (7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375) + b;\n                    } else {\n                        return c * (7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375) + b;\n                    }\n                },\n\n                easeInOutBounce: function (t, b, c, d) {\n                    if (t < d / 2) return service.animations.easeInBounce(t * 2, 0, c, d) * 0.5 + b;\n                    return service.animations.easeOutBounce(t * 2 - d, 0, c, d) * 0.5 + c * 0.5 + b;\n                }\n            };\n\n            function polarToCartesian(centerX, centerY, radius, angleInDegrees) {\n                var angleInRadians = (angleInDegrees - 90) * Math.PI / 180.0;\n                var x              = centerX + (radius * Math.cos(angleInRadians));\n                var y              = centerY + (radius * Math.sin(angleInRadians));\n\n                return x + ' ' + y;\n            }\n\n            return service;\n        }\n    ]);\n\n    angular.module('angular-svg-round-progressbar').directive('roundProgress', [\n        '$window', 'roundProgressService', 'roundProgressConfig', function ($window, service, roundProgressConfig) {\n            var base = {\n                restrict  : 'EA',\n                replace   : true,\n                transclude: true,\n                scope     : {\n                    current       : '=',\n                    max           : '=',\n                    semi          : '=',\n                    rounded       : '=',\n                    clockwise     : '=',\n                    responsive    : '=',\n                    onRender      : '=',\n                    radius        : '@',\n                    color         : '@',\n                    bgcolor       : '@',\n                    stroke        : '@',\n                    duration      : '@',\n                    animation     : '@',\n                    offset        : '@',\n                    animationDelay: '@'\n                }\n            };\n\n            if (!service.isSupported) {\n                return angular.extend(base, {\n                    template: '<div class=\"round-progress\" ng-transclude></div>'\n                });\n            }\n\n            return angular.extend(base, {\n                link    : function (scope, element, attrs) {\n                    var isNested        = !element.hasClass('round-progress-wrapper');\n                    var svg             = isNested ? element : element.find('svg').eq(0);\n                    var ring            = svg.find('path').eq(0);\n                    var background      = svg.find('circle').eq(0);\n                    var options         = angular.copy(roundProgressConfig);\n                    var lastAnimationId = 0;\n                    var lastTimeoutId;\n                    var parentChangedListener;\n\n                    scope.$$getRoundProgressOptions = function () {\n                        return options;\n                    };\n\n                    var renderCircle = function () {\n                        var isSemicircle   = options.semi;\n                        var responsive     = options.responsive;\n                        var radius         = +options.radius || 0;\n                        var stroke         = +options.stroke;\n                        var diameter       = radius * 2;\n                        var backgroundSize = radius - (stroke / 2) - service.getOffset(scope, options);\n\n                        svg.css({\n                            top     : 0,\n                            left    : 0,\n                            position: responsive ? 'absolute' : 'static',\n                            width   : responsive ? '100%' : (diameter + 'px'),\n                            height  : responsive ? '100%' : (isSemicircle ? radius : diameter) + 'px',\n                            overflow: 'hidden' \n                        });\n\n                        if (!isNested) {\n                            svg[0].setAttribute('viewBox', '0 0 ' + diameter + ' ' + (isSemicircle ? radius : diameter));\n                        }\n\n                        element.css({\n                            width        : responsive ? '100%' : 'auto',\n                            position     : 'relative',\n                            paddingBottom: responsive ? (isSemicircle ? '50%' : '100%') : 0\n                        });\n\n                        ring.css({\n                            stroke       : service.resolveColor(options.color),\n                            strokeWidth  : stroke,\n                            strokeLinecap: options.rounded ? 'round' : 'butt'\n                        });\n\n                        if (isSemicircle) {\n                            ring.attr('transform', options.clockwise ? 'translate(0, ' + diameter + ') rotate(-90)' : 'translate(' + diameter + ', ' + diameter + ') rotate(90) scale(-1, 1)');\n                        } else {\n                            ring.attr('transform', options.clockwise ? '' : 'scale(-1, 1) translate(' + (-diameter) + ' 0)');\n                        }\n\n                        background.attr({\n                            cx: radius,\n                            cy: radius,\n                            r : backgroundSize >= 0 ? backgroundSize : 0\n                        }).css({\n                            stroke     : service.resolveColor(options.bgcolor),\n                            strokeWidth: stroke\n                        });\n                    };\n\n                    var renderState = function (newValue, oldValue, preventAnimationOverride) {\n                        var max           = service.toNumber(options.max || 0);\n                        var end           = newValue > 0 ? $window.Math.min(newValue, max) : 0;\n                        var start         = (oldValue === end || oldValue < 0) ? 0 : (oldValue || 0); \n                        var changeInValue = end - start;\n\n                        var easingAnimation  = service.animations[options.animation];\n                        var duration         = +options.duration || 0;\n                        var preventAnimation = preventAnimationOverride || (newValue > max && oldValue > max) || (newValue < 0 && oldValue < 0) || duration < 25;\n\n                        var radius       = service.toNumber(options.radius);\n                        var circleSize   = radius - (options.stroke / 2) - service.getOffset(scope, options);\n                        var isSemicircle = options.semi;\n\n                        svg.attr({\n                            'aria-valuemax': max,\n                            'aria-valuenow': end\n                        });\n\n                        var doAnimation = function () {\n                            if (preventAnimation) {\n                                service.updateState(end, max, circleSize, ring, radius, isSemicircle);\n\n                                if (options.onRender) {\n                                    options.onRender(end, options, element);\n                                }\n                            } else {\n                                var startTime = service.getTimestamp();\n                                var id        = ++lastAnimationId;\n\n                                $window.requestAnimationFrame(function animation() {\n                                    var currentTime = $window.Math.min(service.getTimestamp() - startTime, duration);\n                                    var animateTo   = easingAnimation(currentTime, start, changeInValue, duration);\n\n                                    service.updateState(animateTo, max, circleSize, ring, radius, isSemicircle);\n\n                                    if (options.onRender) {\n                                        options.onRender(animateTo, options, element);\n                                    }\n\n                                    if (id === lastAnimationId && currentTime < duration) {\n                                        $window.requestAnimationFrame(animation);\n                                    }\n                                });\n                            }\n                        };\n\n                        if (options.animationDelay > 0) {\n                            $window.clearTimeout(lastTimeoutId);\n                            $window.setTimeout(doAnimation, options.animationDelay);\n                        } else {\n                            doAnimation();\n                        }\n                    };\n\n                    var keys = Object.keys(base.scope).filter(function (key) {\n                        return optionIsSpecified(key) && key !== 'current';\n                    });\n\n                    scope.$watchGroup(keys, function (newValue) {\n                        for (var i = 0; i < newValue.length; i++) {\n                            if (typeof newValue[i] !== 'undefined') {\n                                options[keys[i]] = newValue[i];\n                            }\n                        }\n\n                        renderCircle();\n                        scope.$broadcast('$parentOffsetChanged');\n\n                        if (options.offset === 'inherit' && !parentChangedListener) {\n                            parentChangedListener = scope.$on('$parentOffsetChanged', function () {\n                                renderState(scope.current, scope.current, true);\n                                renderCircle();\n                            });\n                        } else if (options.offset !== 'inherit' && parentChangedListener) {\n                            parentChangedListener();\n                        }\n                    });\n\n                    scope.$watchGroup([\n                        'current',\n                        'max',\n                        'radius',\n                        'stroke',\n                        'semi',\n                        'offset'\n                    ].filter(optionIsSpecified), function (newValue, oldValue) {\n                        renderState(service.toNumber(newValue[0]), service.toNumber(oldValue[0]));\n                    });\n\n                    function optionIsSpecified(name) {\n                        return attrs.hasOwnProperty(name);\n                    }\n                },\n                template: function (element) {\n                    var parent        = element.parent();\n                    var directiveName = 'round-progress';\n                    var template      = [\n                        '<svg class=\"' + directiveName + '\" xmlns=\"http://www.w3.org/2000/svg\" role=\"progressbar\" aria-valuemin=\"0\">',\n                        '<circle fill=\"none\"/>',\n                        '<path fill=\"none\"/>',\n                        '<g ng-transclude></g>',\n                        '</svg>'\n                    ];\n\n                    while (\n                    parent.length &&\n                    parent[0].nodeName.toLowerCase() !== directiveName &&\n                    typeof parent.attr(directiveName) === 'undefined'\n                        ) {\n                        parent = parent.parent();\n                    }\n\n                    if (!parent || !parent.length) {\n                        template.unshift('<div class=\"round-progress-wrapper\">');\n                        template.push('</div>');\n                    }\n\n                    return template.join('\\n');\n                }\n            });\n        }\n    ]);\n\n})();\n(function () {\n    'use strict';\n\n    var path = 'app/component/ion-language';\n\n    angular\n        .module('ion-language')\n        .directive('ionLanguage', ionLanguageDirective);\n\n    function ionLanguageDirective(AppConfig, $translate, $timeout, Loading, $ionicModal) {\n        return {\n            restrict   : 'E',\n            link       : modalLanguageLink,\n            templateUrl: path + '/ion-language.html'\n        };\n\n        function modalLanguageLink(scope, elem, attr) {\n\n\n            scope.languages = AppConfig.locales;\n            scope.language  = scope.languages.filter(function (item) {\n                return item.code === $translate.use()\n            })[0];\n\n            elem.bind('click', openModal);\n\n            function openModal() {\n\n                scope.closeModal = function () {\n                    scope.modal.hide();\n                };\n\n                scope.searchValue = '';\n\n                scope.selectLanguage = function (language) {\n                    console.log(language);\n                    $translate.use(language.code);\n                    scope.language = language;\n                    scope.$emit('changeLanguage', language);\n                    Loading.start();\n                    scope.closeModal();\n                    $timeout(function () {\n                        Loading.end();\n                    }, 1000);\n                };\n\n                $ionicModal\n                    .fromTemplateUrl(path + '/modal-language.html', {\n                        scope          : scope,\n                        focusFirstInput: true\n                    })\n                    .then(function (modal) {\n                        scope.modal = modal;\n                        scope.modal.show();\n\n                    });\n            }\n        }\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n\n    angular\n        .module('ion-location')\n        .factory('GeoService', GeoServiceFactory);\n\n    function GeoServiceFactory($http, $window, $cordovaGeolocation, $ionicPopup, $timeout, $q) {\n\n        var options             = {\n            types: ['geocode']\n        };\n        var autocompleteService = new $window.google.maps.places.AutocompleteService();\n        var detailsService      = new $window.google.maps.places.PlacesService($window.document.createElement('input'),\n            options);\n        var componentForm       = {\n            street_number              : 'long_name',\n            route                      : 'long_name',\n            locality                   : 'long_name',\n            sublocality                : 'long_name',\n            neighborhood               : 'long_name',\n            political                  : 'long_name',\n            administrative_area_level_1: 'long_name',\n            country                    : 'long_name',\n            postal_code                : 'long_name' \n        };\n        var componentFormName   = {\n            street_number              : 'number',\n            route                      : 'street',\n            locality                   : 'city',\n            administrative_area_level_1: 'state',\n            country                    : 'country',\n            postal_code                : 'zipcode',\n            neighborhood               : 'district' \n        };\n\n        var data = {\n            coords: {},\n            src   : ''\n        };\n\n\n        return {\n            src          : src,\n            getDetails   : getDetails,\n            searchAddress: searchAddress,\n            parseAddress : parseAddress,\n            findMe       : findMe\n        };\n\n        function getLocation() {\n            var defer = $q.defer();\n\n            if (data.location) {\n                $timeout(function () {\n                    defer.resolve(data.location);\n                }, 1000);\n            } else {\n                var posOptions = {\n                    timeout           : 10000,\n                    enableHighAccuracy: false\n                };\n                $cordovaGeolocation.getCurrentPosition(posOptions).then(function (position) {\n                    data.location = {\n                        latitude : position.coords.latitude,\n                        longitude: position.coords.longitude\n                    };\n                    defer.resolve(data.location);\n                }, function (err) {\n                    $ionicPopup.alert({\n                        title   : 'Geo Error',\n                        template: err.message\n                    });\n                    defer.reject(err);\n                });\n            }\n\n\n            return defer.promise;\n        }\n\n\n        function findMe() {\n            var defer = $q.defer();\n\n            getLocation().then(function (pos) {\n                console.log(pos);\n                getGoogleAddress(pos.latitude, pos.longitude).success(function (resp) {\n                    resp.geolocation = pos;\n                    console.log(resp);\n                    defer.resolve(resp);\n                }).error(logErr);\n            });\n            return defer.promise;\n        }\n\n\n        function logErr(error) {\n            console.log(error);\n        }\n\n        function getGoogleAddress(lat, lng) {\n            return $http.get('http://maps.google.com/maps/api/geocode/json?latlng=' + lat + ',' + lng + '&sensor=true')\n                        .success(function (data) {\n                            data.address_normal = data.results[0].formatted_address;\n                            data.address        = address(data.results[0].address_components);\n                            data.src            = imagem(lat, lng, 18, 500, 300);\n                        });\n        }\n\n        function address(data) {\n            if (!data) {\n                return false;\n            } else {\n                return {\n                    numero  : data[0].short_name,\n                    rua     : data[1].long_name,\n                    bairro  : data[2].short_name,\n                    cidade  : data[3].short_name,\n                    estado  : data[5].long_name,\n                    uf      : data[5].short_name,\n                    pais    : data[6].long_name,\n                    paisCode: data[6].short_name,\n                    cep     : data[7].short_name\n                };\n            }\n\n        }\n\n        function imagem(lat, lng, zoom, w, h) {\n            return 'http://maps.google.com/maps/api/staticmap?center=' + lat + ',' + lng + '&zoom=' + zoom + '&size=' +\n                w + 'x' + h + '&maptype=roadmap&sensor=true';\n        }\n\n        function parseAddress(place) {\n            var defer = $q.defer();\n            console.log('parseAddress', place);\n            if(!place) {\n                defer.reject('not place')\n            }\n            var address = {\n                resume: '',\n                geo   : {\n                    latitude : place.geometry.location.lat(),\n                    longitude: place.geometry.location.lng()\n                }\n            };\n            var image   = src(address.geo.latitude, address.geo.longitude, 16, 900, 200);\n\n            for (var i = 0; i < place.address_components.length; i++) {\n                var addressType = place.address_components[i].types[0];\n                if (componentForm[addressType]) {\n                    var val                                 = place.address_components[i][componentForm[addressType]];\n                    address[componentFormName[addressType]] = val;\n                }\n            }\n            address.name   = place.name;\n            address.street = address.street + ', ' + address.number;\n            address.image  = image;\n            address.resume = address.street + ' - ' + address.city + ', ' + address.state + ', ' + address.country;\n            defer.resolve(address);\n\n            return defer.promise;\n        }\n\n        function searchAddress(input) {\n            var deferred = $q.defer();\n            autocompleteService.getQueryPredictions({\n                input: input\n            }, function (result) {\n                deferred.resolve(result);\n            });\n            return deferred.promise;\n        }\n\n        function getDetails(placeId) {\n            var deferred = $q.defer();\n            detailsService.getDetails({\n                placeId: placeId\n            }, function (result) {\n                deferred.resolve(result);\n            });\n            return deferred.promise;\n        }\n\n        function src(lat, lng, zoom, w, h) {\n            console.log('src latitude', lat, lng, zoom, w, h);\n\n            var link = 'http://maps.googleapis.com/maps/api/staticmap?center=' + lat + ',' + lng + '&zoom=' + zoom +\n                '&scale=1&size=' + w + 'x' + h +\n                '&maptype=roadmap&format=jpg&visual_refresh=true&markers=size:small%7Ccolor:0xff2600%7Clabel:0%7C' + lat +\n                ',' + lng + '&sensor=true';\n            console.log(link);\n            return link;\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('ion-location').directive('ionLocation', ionLocationDirective);\n\n    function ionLocationDirective($ionicModal, GeoService) {\n        return {\n            restrict: 'A',\n            scope   : {\n                location: '=ngModel'\n            },\n            link    : ionLocationLink\n        };\n\n        function ionLocationLink($scope, element) {\n\n\n            element.bind('click', function () {\n                function init() {\n                    $scope.search             = {};\n                    $scope.search.suggestions = [];\n                    $scope.search.query       = '';\n                }\n\n\n                function selectPlace(place_id) {\n                    GeoService.getDetails(place_id).then(function (location) {\n                        GeoService.parseAddress(location).then(function (address) {\n                            console.log(address);\n                            $scope.location = address;\n                            $scope.closeModalLocation();\n                        })\n                    });\n                }\n\n                init();\n\n                $scope.findMe = function () {\n                    $scope.loading = true;\n                    GeoService.findMe().then(function (location) {\n                        GeoService.searchAddress(location.address_normal).then(function (result) {\n                            console.log(result);\n                            $scope.search.suggestions = result;\n                            $scope.loading            = false;\n                        });\n                    });\n                };\n\n                $scope.findMe();\n\n                $scope.choosePlace = function (place) {\n                    selectPlace(place.place_id);\n                }\n\n                $scope.modalLocation = $ionicModal.fromTemplate('<ion-modal-view>' +\n                    '<ion-header-bar class=\"bar bar-positive item-input-inset\">' +\n                    '<ion-spinner ng-if=\"loading\"></ion-spinner>' +\n                    '<button class=\"button button-clear button-icon ion-navigate\" ng-click=\"findMe()\" ng-hide=\"loading\"></button>' +\n                    '<label class=\"item-input-wrapper\">' +\n                    '<input type=\"search\" ng-model=\"search.query\" ng-model-options=\"{ debounce: 1500 }\" placeholder=\"{{ \\'searchText\\' | translate }}\"></label>' +\n                    '<button class=\"button button-clear\" ng-click=\"closeModalLocation()\" translate=\"cancel\"></button>' +\n                    '</ion-header-bar>' +\n                    '<ion-content padding=\"false\">' +\n                    '<ion-list>' +\n                    '<div class=\"center padding\" ng-if=\"loading1\"><ion-spinner ></ion-spinner></div>' +\n                    '<ion-item ng-repeat=\"suggestion in search.suggestions\" ng-click=\"choosePlace(suggestion)\" ng-bind=\"suggestion.description\"></ion-item>' +\n                    '<ion-item class=\"item-divider\"><img src=\"https://developers.google.com/maps/documentation/places/images/powered-by-google-on-white.png\"alt=\"\"/></ion-item>' +\n                    '</ion-list>' +\n                    '</ion-content>' +\n                    '</ion-modal-view>', {\n                        scope          : $scope,\n                        focusFirstInput: true\n                    }\n                );\n\n                $scope.modalLocation.show();\n\n                $scope.closeModalLocation = function () {\n                    $scope.modalLocation.hide();\n                    $scope.modalLocation.remove();\n                };\n\n                $scope.$watch('search.query', function (newValue) {\n                    if (newValue) {\n                        $scope.loading1           = true;\n                        $scope.search.suggestions = [];\n                        GeoService.searchAddress(newValue).then(function (result) {\n                            console.log(result);\n                            $scope.search.suggestions = result;\n                            $scope.loading1           = false;\n                        });\n                    }\n                });\n\n\n            });\n\n        }\n    }\n})();\n\n(function () {\n\n    angular.module('app.main').factory('FeedbackModal', FeedbackModalFactory);\n\n    function FeedbackModalFactory($q, AppConfig, GalleryFeedback, $rootScope, GalleryFeedbackForm, $ionicModal, Loading, Toast) {\n        var path = AppConfig.path;\n\n        return {\n            modal: modal\n        };\n        function modal(gallery) {\n            var $scope            = $rootScope.$new();\n            $scope.formFields     = GalleryFeedbackForm.form;\n            $scope.submitFeedback = submitFeedback;\n            $scope.closeModal     = closeModal;\n            $scope.form           = {\n                photogramId: gallery.id,\n                subject    : 'complaint'\n            };\n\n            function submitFeedback() {\n                var dataForm = angular.copy($scope.form);\n                Loading.start();\n                GalleryFeedback.create(dataForm).then(function (resp) {\n                    Loading.end();\n                    closeModal();\n\n                });\n            }\n\n\n            function closeModal() {\n                $scope.modal.hide();\n                $scope.modal.remove();\n                delete $scope.modal;\n            }\n\n            $ionicModal\n                .fromTemplateUrl('app/main/feedback/feedback-modal.html', {\n                    scope          : $scope,\n                    focusFirstInput: true\n                })\n                .then(function (modal) {\n                    $scope.modal = modal;\n                    $scope.modal.show();\n                });\n        }\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n    angular\n        .module('app.main')\n        .factory('GalleryFeedbackForm', GalleryFeedbackFormFactory);\n\n    function GalleryFeedbackFormFactory($translate) {\n\n        var form = [{\n            key: 'title',\n            type: 'input',\n            templateOptions: {\n                type: 'text',\n                placeholder: $translate.instant('feedbackTitle'),\n                required: true\n            }\n        }, {\n            key: 'subject',\n            type: 'select',\n            templateOptions: {\n                label: $translate.instant('subject'),\n                options: [{\n                    'label': $translate.instant('complaint'),\n                    'id': 'complaint',\n                }, {\n                    'label': $translate.instant('bug'),\n                    'id': 'bug',\n                }, {\n                    'label': $translate.instant('suggestion'),\n                    'id': 'suggestion',\n                }],\n                valueProp: 'id',\n                labelProp: 'label',\n                icon: 'icon-list',\n                iconPlaceholder: true\n            }\n        }, {\n            key: 'status',\n            type: 'textarea',\n            templateOptions: {\n                type: 'text',\n                placeholder: $translate.instant('message'),\n                icon: 'ion-quote',\n                required: true,\n                iconPlaceholder: true\n            }\n        }];\n\n        return {\n            form: form\n        };\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('app.main').directive('feedback', feedbackDirective);\n\n    function feedbackDirective($ionicModal, GalleryFeedback, Gallery, Loading, $state) {\n\n        return {\n            restrict: 'A',\n            scope   : {\n                galleryId: '@'\n            },\n            template: '',\n            link    : function (scope, elem, attr) {\n\n                scope.link           = link;\n                scope.submitFeedback = submitFeedback;\n                scope.closeModal     = closeModal;\n                elem.bind('click', openModal);\n\n                function init() {\n                    scope.form = {};\n                }\n\n                function openModal() {\n\n                    init();\n                    $ionicModal.fromTemplateUrl('app/main/feedback/feedback-modal.html', {\n                        scope          : scope,\n                        focusFirstInput: true\n                    }).then(function (modal) {\n                        scope.modal = modal;\n                        scope.modal.show();\n                    });\n                }\n\n                function link(sref) {\n                    $state.go(sref)\n                    scope.closeModal();\n                }\n\n                scope.submitFeedback = function (rForm, form) {\n                    if (rForm.$valid) {\n                        Loading.start();\n                        var dataForm  = angular.copy(scope.form);\n                        dataForm.user = Parse.User.current();\n                        Gallery.get(scope.galleryId).then(function (gallery) {\n                            dataForm.gallery = gallery;\n                            GalleryFeedback.create(dataForm).then(function (resp) {\n                                console.log(resp);\n                                init();\n                                scope.closeModal();\n                                Loading.stop();\n                            });\n                        })\n                    }\n                }\n\n\n                function closeModal() {\n                    scope.modal.hide();\n                    scope.modal.remove();\n                }\n\n            }\n        };\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('starter').controller('GalleryComment', GalleryCommentController);\n\n    function GalleryCommentController($scope, $stateParams, $document, $q, $ionicScrollDelegate, $ionicHistory, $rootScope, $ionicPopup, User, Dialog, $timeout, Gallery, GalleryComment) {\n\n        $scope.currentUser = Parse.User.current();\n        $scope.loading     = true;\n\n        function init() {\n            $scope.nocomments = false;\n            Gallery.get($stateParams.galleryId).then(function (gallery) {\n                console.log(gallery);\n                getComments();\n                $scope.gallery = gallery;\n                $scope.form    = {\n                    gallery: gallery,\n                    text   : ''\n                };\n            });\n        }\n\n        $scope.backButton = function () {\n            $ionicHistory.goBack();\n        };\n        init();\n\n        function commentFoccus() {\n            var elem = document.getElementById('textComment');\n            elem.click();\n            elem.focus();\n            if (window.cordova) {\n                cordova.plugins.Keyboard.show();\n            }\n        }\n\n        $scope.myIndexValue = \"5\";\n\n        $scope.searchPeople = function (term) {\n            var peopleList = [];\n            return User.getFollowing().then(function (response) {\n                _.each(response, function (item) {\n                    item.imageUrl = item.photo ? item.photo._url : 'img/user.png';\n                    item.bio      = item.status;\n\n                    if (item.name) {\n                        if (item.name.toUpperCase().indexOf(term.toUpperCase()) >= 0) {\n                            peopleList.push(item);\n                        }\n                    } else {\n                        item.name = 'Not name';\n                        peopleList.push(item);\n                    }\n                });\n                $scope.people = peopleList;\n                console.log(peopleList);\n                return $q.when(peopleList);\n            });\n        };\n\n        $scope.getPeopleTextRaw = function (item) {\n            return '@' + item.username;\n        };\n\n\n        $scope.deleteComment = function (item, index) {\n            console.log(item);\n            Dialog.confirm({\n                title: ('Deletar comentário'),\n                text : ('Tem certeza?')\n            }).then(function (resp) {\n                if (resp) {\n                    GalleryComment.get(item.id).then(function (comment) {\n                        GalleryComment.destroy(comment).then(function (resp) {\n                            $rootScope.$emit('photolist:comment:remove', comment);\n                            getComments();\n                        });\n                    })\n                }\n            });\n        }\n\n        $scope.editComment = function (obj, index) {\n            console.log(obj);\n            $scope.formEdit = {\n                id  : obj.id,\n                text: obj.text\n            };\n\n            $ionicPopup\n                .show({\n                    template: '<input type=\"text\" ng-model=\"formEdit.text\">',\n                    title   : ('Editar Comentário'),\n                    scope   : $scope,\n                    buttons : [\n                        {\n                            text: ('Cancelar')\n                        }, {\n                            text : '<b>OK</b>',\n                            type : 'button-positive',\n                            onTap: function (e) {\n                                console.log($scope.formEdit);\n                                if (!$scope.formEdit.text) {\n                                    e.preventDefault();\n                                } else {\n                                    return $scope.formEdit;\n                                }\n                            }\n                        }\n                    ]\n                })\n                .then(function (resp) {\n                    console.log(resp);\n                    if (resp) {\n                        GalleryComment.get(obj.id).then(function (comment) {\n                            comment.text = resp.text;\n                            comment.save();\n                            $scope.loading = true;\n                            $timeout(function () {\n                                getComments();\n                            }, 1000);\n                        });\n                    }\n                });\n        }\n\n        function getComments() {\n            $scope.loading = true;\n            Gallery.comments({galleryId: $stateParams.galleryId}).then(function (resp) {\n\n                $scope.comments = [];\n\n                resp.map(function (comment) {\n                    console.log(comment);\n                    comment.canEdit = (comment.user.obj.id === $scope.currentUser.id) ? true : false;\n                    $scope.comments.push(comment);\n                });\n\n                $scope.loading = false;\n                $ionicScrollDelegate.scrollBottom();\n\n                $scope.$digest();\n                commentFoccus();\n            });\n        }\n\n        $scope.submitComment = function (rForm, form) {\n            if (rForm.$valid) {\n                var dataForm   = angular.copy(form);\n                $scope.loading = true;\n                GalleryComment.create(dataForm).then(function (resp) {\n                    $rootScope.$emit('photolist:comment:add', resp);\n                    getComments();\n                    $scope.form.text = '';\n                });\n            }\n        }\n\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('app.main').controller('LoadingCtrl', LoadingController);\n\n    function LoadingController($scope, Parse, $ionicPlatform, $cordovaSplashscreen, AppConfig, $state) {\n        var user = Parse.User.current();\n\n        if (user) {\n            if (user) {\n                $state.go(AppConfig.routes.home, {\n                    clear: true\n                });\n            } else {\n                $state.go('avatar', {\n                    clear: true\n                });\n            }\n        } else {\n            $state.go(AppConfig.routes.login, {\n                clear: true\n            });\n        }\n\n        $scope.$on('$ionicView.loaded', function () {\n            $ionicPlatform.ready(function () {\n                if (navigator && navigator.splashscreen) {\n                    $cordovaSplashscreen.hide();\n                }\n            });\n        });\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('app.main').controller('ProfileCtrl', ProfileController);\n\n    function ProfileController(User, $state, $stateParams) {\n        var vm = this;\n\n        vm.loading = true;\n        User.profile($stateParams.username).then(function (data) {\n            console.log(data);\n            console.log(Parse.User.current());\n            vm.isMe    = Parse.User.current().id === data.id ? true : false;\n            vm.user    = data;\n            vm.loading = false;\n        });\n\n        vm.openFollowers = function () {\n            console.log($state, $stateParams);\n            switch ($state.current.name) {\n                case 'tab.homeProfile':\n                    $state.go('tab.homeProfileFollowers', {username: $stateParams.username});\n                    break;\n                case 'tab.activityProfile':\n                    $state.go('tab.activityProfileFollowers', {username: $stateParams.username});\n                    break;\n            }\n        };\n\n        vm.openFollowing = function () {\n            console.log($state, $stateParams);\n            switch ($state.current.name) {\n                case 'tab.homeProfile':\n                    $state.go('tab.homeProfileFollowing', {username: $stateParams.username});\n                    break;\n                case 'tab.activityProfile':\n                    $state.go('tab.activityProfileFollowing', {username: $stateParams.username});\n                    break;\n            }\n        };\n\n        vm.follow = function () {\n\n            vm.loadingFollow = true;\n\n\n            User.follow(vm.user.obj.id).then(function (resp) {\n                console.log('Follow result', resp);\n                vm.user.isFollow = (resp === 'follow') ? true : false;\n                if (resp == 'follow') {\n                    vm.user.followersTotal += 1;\n                }\n                if (resp == 'unfollow') {\n                    vm.user.followersTotal -= 1;\n                }\n                vm.loadingFollow = false;\n            });\n\n\n        }\n\n        init();\n        vm.tab = {\n            grid : true,\n            list : false,\n            album: false,\n            map  : false\n        };\n\n        vm.changeTab = function changeTab(tab) {\n            Object.keys(vm.tab).map(function (value) {\n                if (value == tab) {\n                    vm.tab[value] = true;\n                } else {\n                    vm.tab[value] = false;\n                }\n            });\n        }\n\n\n        function init() {\n            vm.data  = {\n                total    : false,\n                galleries: []\n            };\n            vm.page  = 0;\n            vm.empty = false;\n            vm.more  = false;\n        }\n\n\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('app.main').controller('ProfilePhotoCtrl', ProfileController);\n\n    function ProfileController($stateParams) {\n        var vm       = this;\n\n        vm.id = $stateParams.id;\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').factory('GalleryShare', GalleryShareFactory);\n\n    function GalleryShareFactory($q, $rootScope, User, $ionicModal) {\n        var tempImage;\n        return {\n            show: show\n        };\n\n        function show(image) {\n            var defer  = $q.defer();\n            var $scope = $rootScope.$new();\n\n            $scope.image = image;\n            $scope.form  = {\n                title        : '',\n                facebookShare: true,\n                privacity    : 'public'\n            };\n\n            $scope.searchPeople = function (term) {\n                var peopleList = [];\n                return User.getFollowing().then(function (response) {\n                    _.each(response, function (item) {\n                        item.imageUrl = item.photo ? item.photo._url : 'img/user.png';\n                        item.bio      = item.status;\n                        if (item.name.toUpperCase().indexOf(term.toUpperCase()) >= 0) {\n                            peopleList.push(item);\n                        }\n                    });\n                    $scope.people = peopleList;\n                    return $q.when(peopleList);\n                });\n            };\n\n            $scope.getPeopleTextRaw = function (item) {\n                return '@' + item.username;\n            };\n\n            $scope.theme = $rootScope.theme;\n\n            $ionicModal.fromTemplateUrl('app/main/share/share-modal.html', {\n                scope          : $scope,\n                focusFirstInput: true\n            }).then(function (modal) {\n                $scope.modalFilter = modal;\n                $scope.modalFilter.show();\n            });\n\n            $scope.closeAddress = function () {\n                $scope.form.address = {};\n            };\n\n            $scope.close = function () {\n                $scope.modalFilter.hide();\n            };\n\n            $scope.$on('$destroy', function () {\n                $scope.modal.remove();\n            });\n\n            $scope.submit = function (rForm, form) {\n                if (rForm.$valid) {\n                    var form   = angular.copy($scope.form);\n                    form.image = $scope.image;\n                    tempImage  = '';\n                    $scope.close();\n                    defer.resolve(form);\n                } else {\n                    console.log('Error', rForm);\n                }\n            };\n\n            return defer.promise;\n        }\n\n    }\n\n})();\n(function () {\n    'use strict';\n\n    angular.module('app.main').controller('MainTabCtrl', MainTabController);\n\n    function MainTabController($localStorage, $ionicHistory, ParsePush, GalleryShare, $scope, $rootScope, PhotoService, $ionicPlatform, Gallery, ParseFile, Loading) {\n        var vm = this;\n\n        $ionicHistory.clearHistory();\n\n        $scope.storage = $localStorage;\n        function clearBadge() {\n            $scope.badge = 0;\n        }\n\n        clearBadge();\n\n        $rootScope.$on('activity:clear', function () {\n            clearBadge();\n        })\n\n        $ionicPlatform.ready(function () {\n\n            ParsePush.init().then(function () {\n                ParsePush.on('openPN', function (pn) {\n                    console.log('The user opened a notification:' + JSON.stringify(pn));\n                    $scope.$applyAsync();\n                });\n\n                ParsePush.on('receivePN', function (pn) {\n                    console.log('yo i got this push notification:' + JSON.stringify(pn));\n                    $scope.badge++;\n                    $scope.$applyAsync();\n                });\n\n                ParsePush.on('receivePN', function (message) {\n                    console.log('message', message);\n                    $scope.$applyAsync();\n                });\n            })\n        });\n\n        vm.postPhoto = function () {\n            PhotoService.open().then(GalleryShare.show).then(function (form) {\n                Loading.start();\n                console.log(form);\n                ParseFile.upload({base64: form.image}).then(function (imageUploaded) {\n                    form.image = imageUploaded;\n                    Gallery.create(form).then(function (item) {\n                        $rootScope.$emit('photolist:reload');\n                        Loading.end();\n                    });\n                });\n            });\n        };\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('app.main').controller('AccountCtrl', AccountController);\n\n    function AccountController($scope, AppConfig, User, $state, $rootScope) {\n        var vm = this;\n\n        vm.user  = $rootScope.currentUser;\n        vm.photo = $rootScope.currentUser.attributes.photo;\n\n        vm.loading     = true;\n        $scope.buttonTheme = 'button-' + AppConfig.theme;\n\n        User.getPublicData(Parse.User.current()).then(function (user) {\n            console.log('Profile', user.attributes);\n            vm.user    = user;\n            vm.loading = false;\n        });\n\n        vm.openFollowers = function () {\n            $state.go('tab.accountFollowers', {username: $rootScope.currentUser.attributes.username});\n        };\n\n        vm.openFollowing = function () {\n            $state.go('tab.accountFollowing', {username: $rootScope.currentUser.attributes.username});\n        };\n\n        init();\n\n        vm.tab = {\n            grid : true,\n            list : false,\n            album: false,\n            map  : false\n        };\n\n        vm.changeTab = function changeTab(tab) {\n            Object.keys(vm.tab).map(function (value) {\n                if (value == tab) {\n                    vm.tab[value] = true;\n                } else {\n                    vm.tab[value] = false;\n                }\n            });\n        }\n\n        function init() {\n            vm.data  = {\n                total    : false,\n                galleries: []\n            };\n            vm.page  = 0;\n            vm.empty = false;\n            vm.more  = false;\n            getFollower();\n        }\n\n        function getFollower() {\n            vm.loadingFollowers = true;\n            vm.loadingFollowing = true;\n            vm.loadingPhotos    = true;\n        }\n\n\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('app.main').controller('ActivityCtrl', ActivityController);\n\n    function ActivityController($scope, User, $rootScope,$state, GalleryActivity) {\n        init();\n\n        $scope.openProfile = function (username) {\n            $state.go('tab.activityProfile', {username: username})\n        };\n\n        $scope.follow = function (user) {\n\n            console.log( user.id, user.obj.id);\n            user.loading = true;\n\n            User.follow(user.obj.id).then(function (resp) {\n                console.log('Follow result', resp);\n                user.isFollow = (resp === 'follow') ? true : false;\n                if (resp == 'follow') {\n                    user.followersTotal += 1;\n                }\n                if (resp == 'unfollow') {\n                    user.followersTotal -= 1;\n                }\n                user.loading = false;\n            });\n        };\n\n        loadFeed();\n\n        $rootScope.$emit('activity:clear', true);\n\n        function loadFeed() {\n            if ($scope.loading) return;\n            $scope.loading = true;\n            GalleryActivity.feed($scope.params).then(function (data) {\n                console.log(data);\n                if (data.length > 0) {\n                    $scope.params.page++;\n                    data.map(function (item) {\n                        $scope.data.push(item);\n                    });\n                } else {\n                    if ($scope.data.length === 0) {\n                        $scope.showEmptyView = true;\n                    }\n                    $scope.moreDataCanBeLoaded = false;\n                }\n\n                $scope.loading = false;\n                $rootScope.$broadcast('scroll.infiniteScrollComplete');\n                $rootScope.$broadcast('scroll.refreshComplete');\n\n            }).catch(function (err) {\n                if ($scope.data.length === 0) {\n                    $scope.showErrorView = true;\n                }\n                $scope.$broadcast('scroll.refreshComplete');\n            });\n        }\n\n        $scope.onLoadMore = function () {\n            loadFeed();\n        };\n\n        $scope.onReload = function () {\n            init()\n            loadFeed();\n            $scope.$broadcast('scroll.refreshComplete');\n        };\n\n        function init() {\n            $scope.params              = {};\n            $scope.params.page         = 1;\n            $scope.data                = [];\n            $scope.moreDataCanBeLoaded = true;\n            $scope.loading             = false;\n\n            if ($scope.canEdit) {\n                $scope.data.push({\n                    create: true\n                });\n            }\n        }\n\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('app.main').controller('HomeCtrl', HomeController);\n\n    function HomeController($state, $rootScope, $ionicHistory) {\n        var vm = this;\n\n        vm.type = 'public';\n\n        vm.onFeed = function (type) {\n            vm.type = type;\n            $rootScope.$emit('photolist:reload', type);\n        };\n\n\n        vm.openProfile = function (username) {\n            $state.go('tab.homeProfile', {username: username})\n        };\n\n        vm.openLikers = function (galleryId) {\n            $state.go('tab.homeGalleryLikers', {galleryId: galleryId})\n        };\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('app.main').controller('SearchCtrl', SearchCtrl);\n\n    function SearchCtrl($scope, $filter, Gallery, $rootScope) {\n\n        $scope.params = {};\n        init();\n\n        $scope.onSearch = function () {\n            var text             = $filter('lowercase')($scope.searchValue);\n            $scope.params.search = text;\n            $scope.data          = [];\n            $scope.onReload();\n        };\n\n        $scope.clearSearch = function () {\n            $scope.params      = {};\n            $scope.searchValue = '';\n            $scope.data        = [];\n            $scope.onReload();\n        };\n\n        loadFeed();\n\n        function loadFeed() {\n            if ($scope.loading) return;\n            $scope.loading = true;\n            Gallery.search($scope.params).then(function (data) {\n                if (data.length > 0) {\n                    $scope.params.page++;\n                    data.map(function (item) {\n                        $scope.data.push(item);\n                    });\n                } else {\n                    if ($scope.data.length === 0) {\n                        $scope.showEmptyView = true;\n                    }\n                    $scope.moreDataCanBeLoaded = false;\n                }\n\n                $scope.loading = false;\n                $rootScope.$broadcast('scroll.infiniteScrollComplete');\n                $rootScope.$broadcast('scroll.refreshComplete');\n\n            }).catch(function (err) {\n                if ($scope.data.length === 0) {\n                    $scope.showErrorView = true;\n                }\n                $scope.$broadcast('scroll.refreshComplete');\n            });\n        }\n\n        $scope.onLoadMore = function () {\n            loadFeed();\n        };\n\n        $scope.onReload = function () {\n            init()\n            loadFeed();\n            $scope.$broadcast('scroll.refreshComplete');\n        };\n\n        function init() {\n            $scope.params.page         = 1;\n            $scope.data                = [];\n            $scope.loading             = false;\n            $scope.moreDataCanBeLoaded = true;\n            $scope.showEmptyView       = false;\n            $scope.showErrorView       = false;\n\n            if ($scope.canEdit) {\n                $scope.data.push({\n                    create: true\n                });\n            }\n        }\n\n\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('app.main').controller('SearchMapCtrl', SearchMapController);\n\n    function SearchMapController($scope, $state, $localStorage, Toast, Gallery, Geolocation, Dialog) {\n\n        var markers      = [];\n        var latlngbounds = new google.maps.LatLngBounds();\n        $scope.maxRating = 5;\n        $scope.storage   = $localStorage;\n        $scope.galleries = [];\n        $scope.params    = {\n            location: null,\n            distance: 100.00,\n            page    : 1,\n            limit   : 10\n        };\n        $scope.loading   = true;\n        $scope.map;\n        $scope.myLocation = {};\n\n        var position   = {\n            latitude : -18.8800397,\n            longitude: -47.05878999999999\n        };\n        var mapOptions = {\n            center   : setPosition(position),\n            zoom     : 13,\n            mapTypeId: google.maps.MapTypeId.ROADMAP\n        };\n\n        function init() {\n            $scope.galleries = [];\n            removeGallerys();\n            removeMarkers();\n\n            $scope.map = new google.maps.Map(document.getElementById('map_canvas'), mapOptions);\n\n            google.maps.event.addListener($scope.map, 'idle', function () {\n                $scope.onSearchHere();\n            });\n        }\n\n        $scope.$on('$ionicView.enter', function (scopes, states) {\n            if (!$scope.map) {\n                init();\n                myPosition();\n            }\n        });\n\n        $scope.loadMyLocation = function () {\n            $scope.params.location = $scope.myLocation;\n            $scope.map.setCenter($scope.params.location);\n            console.log($scope.map, $scope.params.location);\n        };\n\n\n        function myPosition() {\n            Geolocation.getCurrentPosition().then(function (position) {\n\n                console.log(position);\n\n                $scope.myLocation = setPosition({\n                    latitude : position.coords.latitude,\n                    longitude: position.coords.longitude\n                });\n\n                $scope.params.location = $scope.myLocation;\n\n                var marker = {\n                    position: $scope.myLocation,\n                    title   : 'I am here',\n                    id      : 0\n                }\n\n                addMarker(marker);\n\n                $scope.map.setCenter($scope.params.location);\n                loadGallerys();\n            }, function (error) {\n                $scope.params.location = null;\n\n                var errorMessage;\n                if (error.code === 1 || error.code === 3) {\n                    errorMessage = 'errorGpsDisabledText';\n                } else {\n                    errorMessage = 'errorLocationMissingText';\n                }\n                Dialog.alert(errorMessage);\n\n            });\n        }\n\n        function setPosition(location) {\n            if (location) {\n                return new google.maps.LatLng(location.latitude, location.longitude);\n            }\n        }\n\n        function addMarker(item) {\n\n\n            var markerOption = {\n                id       : item.id,\n                map      : $scope.map,\n                position : item.position,\n                title    : item.title,\n                animation: google.maps.Animation.DROP\n            };\n\n            if (item.icon) {\n                var size          = 40;\n                markerOption.icon = {\n                    url       : item.icon,\n                    size      : new google.maps.Size(size, size),\n                    scaledSize: new google.maps.Size(size, size),\n                    origin    : new google.maps.Point(0, 0),\n                    anchor    : new google.maps.Point(size / 4, size / 4),\n                };\n            }\n\n            var marker = new google.maps.Marker(markerOption);\n\n            google.maps.event.addListener(marker, 'click', function () {\n                if (item.username) {\n                    $state.go('tab.mapProfile', {username: item.username})\n                }\n\n            });\n\n            markers.push(marker);\n\n\n        }\n\n        function setGallerys(galleries) {\n            $scope.galleries = galleries;\n            galleries.map(function (item) {\n\n                if (item.location) {\n                    var marker = {\n                        map     : $scope.map,\n                        id      : item.id,\n                        position: setPosition(item.location),\n                        title   : item.title,\n                        image   : item.image.url(),\n                        icon    : item.imageThumb.url(),\n                        username: item.attributes.user.attributes.username\n                    };\n\n                    if (!_.some(markers, {id: marker.id})) {\n                        addMarker(marker);\n                    }\n                }\n            });\n\n\n        }\n\n        function loadGallerys() {\n            $scope.loading = true;\n            Gallery.all($scope.params).then(function (galleries) {\n\n                if (galleries.length > 0) {\n                    setGallerys(galleries);\n                } else {\n                    Dialog.alert('galleriesNotFoundText');\n                }\n\n                $scope.loading = false;\n\n            }, function () {\n                Toast.show('errorText');\n            });\n        }\n\n        function removeGallerys() {\n            $scope.galleries = [];\n        }\n\n        function removeMarkers() {\n            _.each(markers, function (item, index) {\n                if (index > 0) {\n                    item.setMap(null);\n                }\n            })\n            markers = [];\n        };\n\n        $scope.onSearchHere = function () {\n            if ($scope.loading) return;\n            $scope.params.location.latitude  = $scope.map.getCenter().lat();\n            $scope.params.location.longitude = $scope.map.getCenter().lng();\n\n            loadGallerys();\n        }\n\n        $scope.onGalleryClicked = function (item) {\n            console.log(item);\n        };\n    }\n\n})();\n(function () {\n    'use strict';\n\n    angular.module('app.main').controller('UserAvatarCtrl', UserAvatarController);\n\n    function UserAvatarController(User, Parse, $translate, $scope, Loading, Auth, AppConfig, $rootScope, $state, Toast) {\n\n        init();\n\n\n        function init() {\n            var user    = Parse.User.current();\n            $scope.form = {\n                name    : user.name,\n                email   : user.email,\n                status  : user.status,\n                gender  : user.gender,\n                username: user.username\n            };\n            console.log($scope.form);\n            console.log($scope.formFields);\n        }\n\n        $scope.submitAvatar = function (rForm, form) {\n            console.log(form);\n            Loading.start();\n\n            if (rForm.$valid) {\n                var dataForm = angular.copy(form);\n                console.log(dataForm);\n\n                User.update(dataForm).then(function (resp) {\n                    console.log(resp);\n                    $rootScope.currentUser = Parse.User.current();\n                    $state.go(AppConfig.routes.home, {\n                        clear: true\n                    });\n                    Loading.end();\n                });\n            } else {\n                Toast.alert({\n                    title: $translate.instant('invalidForm'),\n                    text : $translate.instant('fillAllFields')\n                });\n                Loading.end();\n            }\n\n        }\n\n    }\n\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('app.main').directive('userAvatar', userAvatarDirective);\n\n    function userAvatarDirective(ActionSheet, $rootScope, ParseFile, User) {\n        return {\n            restrict: 'A',\n            scope   : {\n                ngModel: '='\n            },\n            link    : function ($scope, elem) {\n\n                elem.bind('click', openModal);\n\n                function openModal() {\n                    var tempImage;\n                    var user        = $scope.ngModel;\n                    var currentUser = $rootScope.currentUser;\n\n                    console.log(user);\n                    console.log(currentUser);\n\n                    if (user.id != currentUser.id) {\n                        return false;\n                    }\n\n                    ActionSheet.image().then(function (image) {\n                        tempImage = image;\n                        return image;\n                    }).then(function (form) {\n                        $scope.loading = true;\n                        ParseFile.upload({base64: form}).then(function (imageUploaded) {\n                            User.setPhoto(imageUploaded).then(function (user) {\n                                $rootScope.currentUser.photo = user.attributes.photo;\n                                $scope.loading = false;\n                            });\n                        });\n                    });\n                }\n\n            }\n        };\n    }\n\n})();\n\n(function () {\n    'use strict';\n    angular.module('starter').controller('UserFollowerCtrl', UserFollowerController);\n\n    function UserFollowerController(User, $scope, $stateParams, $state) {\n        var vm     = this;\n        vm.loading = true;\n        User.getFollowers($stateParams.username).then(function (data) {\n            console.log(data);\n            vm.users   = data;\n            vm.loading = false;\n        });\n\n        $scope.clearSearch = function () {\n            $scope.searchValue = '';\n        }\n\n        vm.openProfile = function (user) {\n            console.log('user', user);\n            $state.go('tab.homeProfile', {username: user.username})\n        };\n\n\n        vm.follow = function (user) {\n\n            vm.loadingFollow = true;\n            User.follow(user.userObj.id).then(function (resp) {\n                console.log('Follow result', resp);\n                user.isFollow = (resp === 'follow') ? true : false;\n                if (resp == 'follow') {\n                    user.followersTotal += 1;\n                }\n                if (resp == 'unfollow') {\n                    user.followersTotal -= 1;\n                }\n                vm.loadingFollow = false;\n            });\n\n\n        }\n    }\n\n})();\n(function () {\n    'use strict';\n    angular.module('starter').controller('UserFollowingCtrl', UserFollowingController);\n\n    function UserFollowingController(User, $scope, $stateParams, $state) {\n        var vm     = this;\n        vm.loading = true;\n        User.getFollowing($stateParams.username).then(function (data) {\n            console.log(data);\n            vm.users   = data;\n            vm.loading = false;\n        });\n\n        $scope.clearSearch = function () {\n            $scope.searchValue = '';\n        }\n\n        vm.openProfile = function (user) {\n            console.log('user', user);\n            $state.go('tab.homeProfile', {username: user.username})\n        };\n\n\n        vm.follow = function (user) {\n\n            vm.loadingFollow = true;\n            User.follow(user.userObj.id).then(function (resp) {\n                console.log('Follow result', resp);\n                user.isFollow = (resp === 'follow') ? true : false;\n                if (resp == 'follow') {\n                    user.followersTotal += 1;\n                }\n                if (resp == 'unfollow') {\n                    user.followersTotal -= 1;\n                }\n                vm.loadingFollow = false;\n            });\n\n\n        }\n    }\n\n})();\n(function () {\n    'use strict';\n    angular.module('starter').controller('UserIntroCtrl', UserIntroController);\n\n    function UserIntroController($scope, $ionicPlatform, $ionicSlideBoxDelegate, $cordovaSplashscreen) {\n        var vm              = this;\n        var currentPlatform = window.ionic.Platform.platform();\n        vm.slideIndex       = 0;\n\n        vm.slideChanged = function (index) {\n            vm.slideIndex = index;\n        };\n        vm.next         = function () {\n            $ionicSlideBoxDelegate.next();\n        };\n        vm.previous     = function () {\n            $ionicSlideBoxDelegate.previous();\n        };\n\n        if (currentPlatform) {\n            vm.device = (currentPlatform === 'android') ? 'android' : 'iphone';\n        } else {\n            vm.device = 'android';\n        }\n\n        vm.slides                          = [\n            {\n                text: 'STEP1',\n                img : 'img/intro1.png'\n            }, {\n                text: 'STEP2',\n                img : 'img/intro2.png'\n            }, {\n                text: 'STEP3',\n                img : 'img/intro3.png'\n            }, {\n                text: 'STEP4',\n                img : 'img/intro4.png'\n            }, {\n                text: 'STEP5',\n                img : 'img/intro5.png'\n            }, {\n                text: 'STEP6',\n                img : 'img/intro6.png'\n            }, {\n                text: 'STEP7',\n                img : 'img/intro7.png'\n            }\n        ];\n        window.localStorage['walkthrough'] = true;\n\n        $scope.$on('$ionicView.loaded', function () {\n            $ionicPlatform.ready(function () {\n                if (navigator && navigator.splashscreen) {\n                    $cordovaSplashscreen.hide();\n                    window.StatusBar.styleLightContent()\n                }\n            });\n        });\n    }\n\n})();\n(function () {\n    'use strict';\n    angular.module('starter').controller('UserLikersCtrl', UserLikerController);\n\n    function UserLikerController(User, $scope, $stateParams, $state) {\n        var vm     = this;\n        vm.loading = true;\n\n        User.getLikers($stateParams.galleryId).then(function (data) {\n            console.log(data);\n            vm.users   = data;\n            vm.loading = false;\n        });\n\n        $scope.clearSearch = function () {\n            $scope.searchValue = '';\n        }\n\n        vm.openProfile = function (user) {\n            console.log('user', user);\n            $state.go('tab.homeProfile', {username: user.username})\n        };\n\n\n        vm.follow = function (user) {\n\n            vm.loadingFollow = true;\n            User.follow(user.userObj.id).then(function (resp) {\n                console.log('Follow result', resp);\n                user.isFollow = (resp === 'follow') ? true : false;\n                if (resp == 'follow') {\n                    user.followersTotal += 1;\n                }\n                if (resp == 'unfollow') {\n                    user.followersTotal -= 1;\n                }\n                vm.loadingFollow = false;\n            });\n\n\n        }\n    }\n\n})();\n(function () {\n    'use strict';\n    angular.module('starter').controller('UserListCtrl', UserListController);\n\n    function UserListController(User, $scope, $rootScope, $state) {\n        $scope.params = {};\n        init();\n        loadFeed();\n\n        function loadFeed() {\n            if ($scope.loading) return;\n            $scope.loading = true;\n\n            $scope.onSearch = function () {\n                $scope.params.search = $scope.searchValue;\n                $scope.onReload();\n            };\n\n            $scope.clearSearch = function () {\n                $scope.params      = {};\n                $scope.searchValue = '';\n                $scope.onReload();\n            };\n\n            User.list($scope.params).then(function (data) {\n                if (data.length > 0) {\n                    $scope.params.page++;\n                    data.map(function (item) {\n                        $scope.data.push(item);\n                    });\n                } else {\n                    if ($scope.data.length === 0) {\n                        $scope.showEmptyView = true;\n                    }\n                    $scope.moreDataCanBeLoaded = false;\n                }\n\n                $scope.loading = false;\n                $rootScope.$broadcast('scroll.infiniteScrollComplete');\n                $rootScope.$broadcast('scroll.refreshComplete');\n\n            }).catch(function (err) {\n                if ($scope.data.length === 0) {\n                    $scope.showErrorView = true;\n                }\n                $scope.$broadcast('scroll.refreshComplete');\n            });\n        }\n\n        $scope.onLoadMore = function () {\n            loadFeed();\n        };\n\n        $scope.onLoadMore = function () {\n            loadFeed();\n        };\n\n        $scope.onReload = function () {\n            init()\n            loadFeed();\n        };\n\n        function init() {\n            $scope.params.page         = 1;\n            $scope.data                = [];\n            $scope.loading             = false;\n            $scope.moreDataCanBeLoaded = true;\n            $scope.showEmptyView       = false;\n            $scope.showErrorView       = false;\n\n            if ($scope.canEdit) {\n                $scope.data.push({\n                    create: true\n                });\n            }\n        }\n\n        $scope.openProfile = function (user) {\n            console.log('user', user);\n            $state.go('tab.homeProfile', {username: user.username})\n        };\n\n\n        $scope.follow = function (user) {\n\n            user.loading = true;\n            User.follow(user.userObj.id).then(function (resp) {\n                console.log('Follow result', resp);\n                user.isFollow = (resp === 'follow') ? true : false;\n                if (resp == 'follow') {\n                    user.followersTotal += 1;\n                }\n                if (resp == 'unfollow') {\n                    user.followersTotal -= 1;\n                }\n                user.loading = false;\n            });\n        };\n\n    }\n\n})();\n(function () {\n    'use strict';\n\n    angular.module('app.main').controller('UserMergeCtrl', UserMergeController);\n\n    function UserMergeController(Auth, $scope, $rootScope, AppConfig, Facebook, $state, Toast) {\n        var vm        = this;\n\n        init();\n        function init() {\n            if ($rootScope.tempUser) {\n                $scope.form = {\n                    email   : $rootScope.tempUser.attributes.email,\n                    username: $rootScope.tempUser.attributes.username,\n                    password: ''\n                };\n            } else {\n                $state.go('user.intro', {clear: true});\n            }\n        }\n\n        $scope.submitMerge = function (rForm, form) {\n\n            console.log(rForm);\n            console.table(form);\n            if (vm.form.password !== '') {\n                console.log(form);\n                Auth.logIn(form).then(function (user) {\n                    console.log(user);\n                    $rootScope.currentUser = user;\n                    if (Auth.getLoggedUser()) {\n                        Facebook.link(Parse.User.current()).then(function (resp) {\n                            console.log(resp);\n                            $state.go(AppConfig.routes.home, {\n                                clear: true\n                            });\n                        }).catch(function (resp) {\n                            console.log(resp);\n                            Toast.alert({\n                                title: 'Ops',\n                                text : resp.message\n                            });\n                        });\n                    }\n\n\n                }).catch(function (resp) {\n                    Toast.alert({\n                        title: 'Ops',\n                        text : resp.message\n                    });\n                });\n            } else {\n                Toast.alert({\n                    title: ('Invalid form'),\n                    text : ('Please enter your email')\n                });\n            }\n\n        };\n\n    }\n\n\n})();\n\n(function () {\n  'use strict';\n\n\n  angular\n    .module('app.main')\n    .directive('recoveryPass', recoveryPassDirective);\n\n  function recoveryPassDirective(User, $ionicPopup, Loading, Toast) {\n    return {\n      restrict: 'A',\n      scope: {\n        login: '@',\n        register: '@',\n      },\n      link: function ($scope, elem) {\n\n        elem.bind('click', openModal);\n\n        function openModal() {\n\n          $scope.form = {\n            recovery: ''\n          };\n\n          $scope.erro = '';\n\n          $scope.text = {\n            button: (''),\n            input: ('Email')\n          };\n\n          $ionicPopup\n            .show({\n              scope: $scope,\n              template: '<div class=\"popup-recovery\"><form name=\"form.recovery\" form-manager><label class=\"item item-input\"><i class=\"icon ion-email placeholder-icon\"></i><input type=\"email\" ng-model=\"email\" id=\"email\" name=\"email\" placeholder=\"{{ text.input }}\" required ng-maxlength=\"80\"></label><span class=\"error-msg\">{{erro}}</span></form></div>',\n              title: ('A new password will be sent to your e-mail address'),\n              buttons: [{\n                text: ('Cancel'),\n                type: 'button-calm'\n              }, {\n                text: ('Send'),\n                type: 'button-positive',\n                onTap: function (e) {\n                  if ($scope.form.recovery.$valid) {\n                    return $scope.form.recovery.email.$viewValue;\n                  } else {\n                    e.preventDefault();\n                    $scope.erro = ('Invalid Email');\n                  }\n                }\n              }]\n            })\n            .then(function (res) {\n              if (!angular.isUndefined(res)) {\n                var email = res;\n\n                console.log(res);\n\n                Loading.start();\n\n                User\n                  .forgot(email)\n                  .then(function (resp) {\n                    console.log(resp);\n                    Toast.alert({\n                      login: ('Forgot your password'),\n                      text: ('Access your accout mail')\n                    });\n                    Loading.end();\n                  })\n                  .catch(function (resp) {\n                    Toast.alert({\n                      login: 'Ops',\n                      text: resp\n                    });\n                    Loading.end();\n                  });\n              }\n            });\n\n        }\n      }\n    };\n  }\n\n\n})();\n\n(function () {\n  'use strict';\n  angular\n    .module('app.main')\n    .controller('UserRecoveryPassCtrl', UserRecoveryPassController);\n\n  function UserRecoveryPassController(User, Toast) {\n    var vm = this;\n    vm.form = {};\n    vm.submitForgot = submitForgot;\n\n    function submitForgot() {\n      User\n        .forgot(vm.form)\n        .then(function (resp) {\n          console.log(resp);\n        })\n        .catch(function (resp) {\n          Toast.alert('Ops', resp);\n        });\n    }\n  }\n\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('ion-photo').directive('ionCrop', ionCropDirective);\n\n    function ionCropDirective($jrCrop, $translate, $ionicActionSheet) {\n\n        return {\n            restrict: 'A',\n            scope   : {\n                ngModel : '=',\n                option  : '=',\n                cropSave: '&'\n            },\n            template: '<div><input type=\"file\" id=\"browseBtn\" image=\"image\" accept=\"image/*\" style=\"display: none\"/></div>',\n            link    : ionCropLink\n        };\n\n        function ionCropLink($scope, element) {\n\n            $scope.action = action;\n            element.bind('click', getElem);\n            $scope.crop = crop;\n            angular.element(document.getElementById('browseBtn'))\n                   .on('change', fileUpload);\n\n\n            function getElem() {\n                document.getElementById('browseBtn')\n                        .click();\n            }\n\n            function action() {\n\n                $ionicActionSheet.show({\n                    buttons      : [\n                        {\n                            text: '<i class=\"icon ion-camera\"></i>' + ('Photo Camera')\n                        }, {\n                            text: '<i class=\"icon ion-images\"></i> ' + ('Photo Album')\n                        }\n                    ],\n                    titleText    : ('Change Image'),\n                    cancelText   : ('Cancel'),\n                    cancel       : function () {\n                    },\n                    buttonClicked: function (index) {\n\n                        if (index === 0) {\n                            console.log('Photo Camera');\n                        }\n                        if (index === 1) {\n                            document.getElementById('browseBtn')\n                                    .click();\n                        }\n                        return true;\n                    }\n                });\n\n            }\n\n            function fileUpload(e) {\n\n                var file   = e.target.files[0];\n                var reader = new FileReader();\n                reader.readAsDataURL(file);\n\n                reader.onload = function (event) {\n                    var image = event.target.result;\n                    $scope.crop(image);\n                };\n\n                angular.element(document.getElementById('browseBtn')).val('');\n\n            }\n\n            function crop(image) {\n\n                console.log($scope.option);\n\n                $jrCrop\n                    .crop({\n                        url       : image,\n                        width     : $scope.option ? $scope.option.width : 200,\n                        height    : $scope.option ? $scope.option.height : 200,\n                        cancelText: ('Cancel'),\n                        chooseText: ('Save')\n                    })\n                    .then(function (canvas) {\n                        var image = canvas.toDataURL();\n\n\n\n                        console.log(image);\n                        $scope.ngModel = image;\n\n\n                    });\n\n            }\n        }\n    }\n\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('ion-photo').directive('sliderFilter', sliderFilterDirective);\n\n    function sliderFilterDirective() {\n        return {\n            restrict: 'E',\n            link    : sliderFilterLink,\n            scope   : {\n                filter: '='\n            },\n            template: '<div class=\"item range range-positive\"> ' +\n            '<input type=\"range\" name=\"filter.slider.name\" min=\"-100\" max=\"100\" step=\"1\" ng-model=\"filter.slider.value\"  > ' +\n            '</div>'\n        };\n\n        function sliderFilterLink(scope, elem, attr) {\n\n            console.log(scope.filter);\n\n            scope.$watch('filter.slider.value', function (value) {\n                if (value) {\n                    scope.filter.slider.value = parseInt(value);\n                    scope.filter.setSlider(scope.filter.slider);\n                }\n            });\n        }\n    }\n\n})();\n(function () {\n    'use strict';\n    angular.module('jrCrop', [])\n           .factory('$jrCrop', function ($ionicModal, $rootScope, $q) {\n\n               var template = '<div class=\"jr-crop modal\">' +\n                   '<div class=\"jr-crop-center-container\">' +\n                   '<div class=\"jr-crop-img\" ng-style=\"{width: width + \\'px\\', height: height + \\'px\\'}\"></div>' +\n                   '</div>' +\n                   '<div class=\"jr-crop-center-container\">' +\n                   '<div class=\"jr-crop-select\" style=\"overflow: hidden\" ng-style=\"{width: width + \\'px\\', height: height + \\'px\\'}\"></div>' +\n                   '</div>' +\n                   '<div class=\"bar bar-footer bar-dark jr-crop-footer\">' +\n                   '<button class=\"button button-clear\" ng-click=\"cancel()\">{{cancelText}}</button>' +\n                   '<div class=\"title\">{{title}}</div>' +\n                   '<button class=\"button button-clear\" ng-click=\"crop()\">{{chooseText}}</button>' +\n                   '</div>' +\n                   '</div>';\n\n               var jrCropController = ionic.views.View.inherit({\n\n                   promise  : null,\n                   imgWidth : null,\n                   imgHeight: null,\n\n                   imgSelect: null,\n                   imgFull  : null,\n\n                   posX  : 0,\n                   posY  : 0,\n                   scale : 1,\n                   rotate: 0,\n\n                   last_scale : 1,\n                   last_posX  : 0,\n                   last_posY  : 0,\n                   last_rotate: 0,\n\n                   initialize: function (options) {\n                       var self = this;\n\n                       self.options = options;\n                       self.promise = $q.defer();\n                       self.loadImage().then(function (elem) {\n                           self.imgWidth  = elem.naturalWidth;\n                           self.imgHeight = elem.naturalHeight;\n\n                           self.options.modal.el.querySelector('.jr-crop-img')\n                               .appendChild(self.imgSelect = elem.cloneNode());\n                           self.options.modal.el.querySelector('.jr-crop-select')\n                               .appendChild(self.imgFull = elem.cloneNode());\n\n                           self.bindHandlers();\n                           self.initImage();\n                       });\n\n                       self.options.cancel = this.cancel.bind(this);\n                       self.options.crop   = this.crop.bind(this);\n                   },\n\n                   initImage: function () {\n                       if (this.options.height < this.imgHeight || this.options.width < this.imgWidth) {\n                           var imgAspectRatio    = this.imgWidth / this.imgHeight;\n                           var selectAspectRatio = this.options.width / this.options.height;\n\n                           if (selectAspectRatio > imgAspectRatio) {\n                               this.scale = this.last_scale = this.options.width / this.imgWidth;\n                           } else {\n                               this.scale = this.last_scale = this.options.height / this.imgHeight;\n                           }\n                       }\n\n                       var centerX = (this.imgWidth - this.options.width) / 2;\n                       var centerY = (this.imgHeight - this.options.height) / 2;\n\n                       this.posX = this.last_posX = -centerX;\n                       this.posY = this.last_posY = -centerY;\n\n                       this.setImageTransform();\n                   },\n\n                   cancel: function () {\n                       var self = this;\n\n                       self.options.modal.remove().then(function () {\n                           self.promise.reject('canceled');\n                       });\n                   },\n\n                   bindHandlers: function () {\n                       var self                                             = this,\n\n                           min_pos_x                                        = 0, min_pos_y = 0,\n                           max_pos_x                                        = 0, max_pos_y = 0,\n                           transforming_correctX = 0, transforming_correctY = 0,\n\n                           scaleMax                                         = 1, scaleMin,\n                           image_ratio                                      = self.imgWidth / self.imgHeight,\n                           cropper_ratio                                    = self.options.width / self.options.height;\n\n                       if (cropper_ratio < image_ratio) {\n                           scaleMin = self.options.height / self.imgHeight;\n                       } else {\n                           scaleMin = self.options.width / self.imgWidth;\n                       }\n\n                       function setPosWithinBoundaries() {\n                           calcMaxPos();\n                           if (self.posX > min_pos_x) {\n                               self.posX = min_pos_x;\n                           }\n                           if (self.posX < max_pos_x) {\n                               self.posX = max_pos_x;\n                           }\n                           if (self.posY > min_pos_y) {\n                               self.posY = min_pos_y;\n                           }\n                           if (self.posY < max_pos_y) {\n                               self.posY = max_pos_y;\n                           }\n                       }\n\n                       function calcMaxPos() {\n                           var currWidth  = self.scale * self.imgWidth;\n                           var currHeight = self.scale * self.imgHeight;\n\n                           min_pos_x = (currWidth - self.imgWidth) / 2;\n                           min_pos_y = (currHeight - self.imgHeight) / 2;\n                           max_pos_x = -(currWidth - min_pos_x - self.options.width);\n                           max_pos_y = -(currHeight - min_pos_y - self.options.height);\n                       }\n\n                       var options = {\n                           prevent_default_directions: ['left', 'right', 'up', 'down']\n                       };\n                       ionic.onGesture('touch transform drag dragstart dragend rotate', function (e) {\n                           switch (e.type) {\n                               case 'touch':\n                                   self.last_scale = self.scale;\n                                   break;\n                               case 'drag':\n                                   self.posX = self.last_posX + e.gesture.deltaX - transforming_correctX;\n                                   self.posY = self.last_posY + e.gesture.deltaY - transforming_correctY;\n                                   setPosWithinBoundaries();\n                                   break;\n                               case 'transform':\n                                   self.scale = Math.max(scaleMin, Math.min(self.last_scale * e.gesture.scale, scaleMax));\n                                   setPosWithinBoundaries();\n                                   break;\n                               case 'dragend':\n                                   self.last_posX = self.posX;\n                                   self.last_posY = self.posY;\n                                   break;\n                               case 'dragstart':\n                                   self.last_scale = self.scale;\n\n                                   if (e.gesture.deltaX > 1 || e.gesture.deltaX < -1) {\n                                       transforming_correctX = e.gesture.deltaX;\n                                       transforming_correctY = e.gesture.deltaY;\n                                   } else {\n                                       transforming_correctX = 0;\n                                       transforming_correctY = 0;\n                                   }\n                                   break;\n                               case 'rotate':\n                                   self.rotate = self.last_rotate + e.gesture.rotation;\n                                   break;\n                           }\n\n                           self.setImageTransform();\n\n                       }, self.options.modal.el, options);\n                   },\n\n                   setImageTransform: function () {\n                       var self = this;\n\n                       var transform =\n                               'translate3d(' + self.posX + 'px,' + self.posY + 'px, 0) ' +\n                               'scale3d(' + self.scale + ',' + self.scale + ', 1)' +\n                               'rotate(' + self.rotate + 'deg)';\n\n                       self.imgSelect.style[ionic.CSS.TRANSFORM] = transform;\n                       self.imgFull.style[ionic.CSS.TRANSFORM]   = transform;\n                   },\n\n                   crop: function () {\n                       var canvas  = document.createElement('canvas');\n                       var context = canvas.getContext('2d');\n\n                       canvas.width  = this.options.width / this.scale;\n                       canvas.height = this.options.height / this.scale;\n\n                       var currWidth  = this.imgWidth * this.scale;\n                       var currHeight = this.imgHeight * this.scale;\n\n                       var correctX = (currWidth - this.imgWidth) / 2;\n                       var correctY = (currHeight - this.imgHeight) / 2;\n\n                       var sourceX = (this.posX - correctX) / this.scale;\n                       var sourceY = (this.posY - correctY) / this.scale;\n\n                       context.translate(sourceX, sourceY);\n                       context.translate(this.imgWidth / 2, this.imgHeight / 2);\n                       context.rotate(this.rotate * Math.PI / 180);\n\n                       context.drawImage(this.imgFull, this.imgWidth / 2 * -1, this.imgHeight / 2 * -1);\n\n                       this.options.modal.remove();\n                       this.promise.resolve(canvas);\n                   },\n\n                   loadImage: function () {\n                       var promise = $q.defer();\n\n                       angular.element('<img />')\n                              .bind('load', function (e) {\n                                  promise.resolve(this);\n                              })\n                              .bind('error', promise.reject)\n                              .prop('src', this.options.url);\n\n                       return promise.promise;\n                   }\n               });\n\n               return {\n                   defaultOptions: {\n                       width      : 0,\n                       height     : 0,\n                       aspectRatio: 0,\n                       cancelText : 'Cancel',\n                       chooseText : 'Choose'\n                   },\n\n                   crop: function (options) {\n                       options = this.initOptions(options);\n\n                       var scope = $rootScope.$new(true);\n\n                       ionic.extend(scope, options);\n\n                       scope.modal = $ionicModal.fromTemplate(template, {\n                           scope: scope\n                       });\n\n                       return scope.modal.show().then(function () {\n                           return (new jrCropController(scope)).promise.promise;\n                       });\n                   },\n\n                   initOptions: function (_options) {\n                       var options;\n\n                       options = ionic.extend({}, this.defaultOptions);\n                       options = ionic.extend(options, _options);\n\n                       if (options.aspectRatio) {\n\n                           if (!options.width && options.height) {\n                               options.width = 200;\n                           }\n\n                           if (options.width) {\n                               options.height = options.width / options.aspectRatio;\n                           } else if (options.height) {\n                               options.width = options.height * options.aspectRatio;\n                           }\n                       }\n\n                       return options;\n                   }\n               };\n           });\n})();\n(function () {\n    'use strict';\n\n    angular.module('ion-photo').factory('PhotoService', PhotoServiceFactory);\n\n    function PhotoServiceFactory($ionicActionSheet, $cordovaCapture, User,  $cordovaCamera, $translate, $cordovaActionSheet, $jrCrop, $rootScope, $ionicModal, ActionSheet, $q) {\n\n        var deviceInformation = ionic.Platform.device();\n        var isIOS             = ionic.Platform.isIOS();\n\n        console.log('isIOS', isIOS);\n\n        var tempImage;\n        var cordova = window.cordova;\n        var setting = {\n            jrCrop            : false,\n            quality           : 90,\n            allowEdit         : true,\n            filter            : true,\n            correctOrientation: true,\n            targetWidth       : 640,\n            targetHeight      : 640,\n            saveToPhotoAlbum  : false,\n            allowRotation     : true,\n            aspectRatio       : 0\n        };\n\n\n        return {\n            open     : openModal,\n            crop     : cropModal,\n            modalPost: modalPost,\n        };\n\n        function openModal(setOptions) {\n            var defer = $q.defer();\n            console.log(deviceInformation);\n\n            if (setOptions) {\n                Object.keys(setOptions).map(function (key, index) {\n                    setting[key] = setOptions[key];\n                });\n\n                console.log(setting);\n            }\n\n            var options = {\n                quality           : setting.quality,\n                aspectRatio       : setting.aspectRatio,\n                allowRotation     : setting.allowRotation,\n                allowEdit         : setting.allowEdit,\n                correctOrientation: setting.correctOrientation,\n                targetWidth       : setting.targetWidth,\n                targetHeight      : setting.targetHeight,\n                saveToPhotoAlbum  : setting.saveToPhotoAlbum,\n                destinationType   : window.cordova ? Camera.DestinationType.DATA_URL : null,\n                encodingType      : window.cordova ? Camera.EncodingType.JPEG : null,\n                popoverOptions    : window.cordova ? CameraPopoverOptions : null,\n            };\n\n            image().then(function (index) {\n                console.log(index);\n                capture(index - 1, options)\n                    .then(cropModal)\n                    .then(defer.resolve)\n                    .catch(function (resp) {\n                        console.log(resp);\n                    });\n            })\n\n            return defer.promise;\n        }\n\n        function cropModal(image) {\n            var defer = $q.defer();\n            if (window.cordova) {\n                image = 'data:image/jpeg;base64,' + image;\n            }\n\n            if (setting.jrCrop ) {\n                $jrCrop.crop({\n                    url          : image,\n                    aspectRatio  : 1,\n                    allowRotation: setting.allowRotation,\n                    width        : setting.targetWidth,\n                    height       : setting.targetHeight,\n                    cancelText   : $translate.instant('cancel'),\n                    chooseText   : $translate.instant('submit')\n                }).then(function (canvas) {\n                    defer.resolve(canvas.toDataURL());\n                }).catch(defer.reject);\n            } else {\n                defer.resolve(image);\n            }\n\n            return defer.promise;\n        }\n\n        function image() {\n            var defer = $q.defer();\n            show({\n                title     : $translate.instant('choseOption'),\n                cancelText: $translate.instant('cancel'),\n                options   : [\n                    {text: $translate.instant('photo')},\n                    {text: $translate.instant('library')}\n                ]\n            }).then(function (option) {\n                defer.resolve(option);\n            }).then(defer.resolve).catch(defer.reject);\n\n            return defer.promise;\n        }\n\n        function show(params) {\n            var defer = $q.defer();\n\n            if (window.cordova) {\n                var options = {\n                    title                    : params.title,\n                    buttonLabels             : _.map(params.options, function (item) {return item.text}),\n                    addCancelButtonWithLabel : params.cancelText,\n                    androidEnableCancelButton: true,\n                    androidTheme             : window.plugins.actionsheet.ANDROID_THEMES.THEME_HOLO_LIGHT\n                };\n\n                $cordovaActionSheet.show(options).then(function (btnIndex) {\n                    if (btnIndex !== 3) {\n                        defer.resolve(btnIndex);\n                    }\n                    defer.reject('cancel');\n                });\n\n            } else {\n                var actionSheet = $ionicActionSheet.show({\n                    buttons      : params.options,\n                    titleText    : params.title,\n                    cancelText   : params.cancelText,\n                    cancel       : function () {\n                        actionSheet();\n                    },\n                    buttonClicked: function (btnIndex) {\n                        actionSheet();\n                        if (btnIndex !== 3) {\n                            defer.resolve(btnIndex);\n                        }\n                        defer.reject('cancel');\n                    }\n                });\n\n            }\n            return defer.promise;\n        }\n\n        function capture(type, options) {\n            var defer = $q.defer();\n\n            if (type === 0) {\n                getPicture(0);\n            }\n\n            if (type === 1) {\n                getPicture(1);\n            }\n\n            if (type === 2) {\n                getVideo();\n            }\n\n            function getPicture(method) {\n                if (method === 0 && cordova) options.sourceType = Camera.PictureSourceType.CAMERA;\n                if (method === 1 && cordova) options.sourceType = Camera.PictureSourceType.PHOTOLIBRARY;\n\n                if (cordova) {\n                    $cordovaCamera.getPicture(options).then(defer.resolve, defer.reject);\n                } else {\n                    var fileInput = angular.element('<input type=\"file\" accept=\"image/x-png, image/gif, image/jpeg\" max-size=\"2048\" />');\n                    fileInput[0].click();\n                    fileInput.on('change', function (evt) {\n                        tempImage     = evt.currentTarget.files[0];\n                        var reader    = new FileReader();\n                        reader.onload = function (evt) {\n                            defer.resolve(evt.target.result);\n                        };\n                        reader.readAsDataURL(tempImage);\n                    });\n                }\n            }\n\n            function getVideo() {\n                $cordovaCapture.captureVideo({\n                    limit   : 1,\n                    duration: 5\n                }).then(function (mediaFiles) {\n                    tempImage = mediaFiles[0].fullPath;\n                    defer.resolve(tempImage);\n                }, defer.reject);\n            }\n\n            return defer.promise;\n        }\n\n        function modalPost(image) {\n            var defer  = $q.defer();\n            var $scope = $rootScope.$new();\n\n            $scope.image = image;\n            $scope.form  = {\n                title        : '',\n                facebookShare: true\n            };\n\n            $scope.searchPeople = function (term) {\n                var peopleList = [];\n                return User.getFollowing().then(function (response) {\n                    _.each(response, function (item) {\n                        item.imageUrl = item.photo ? item.photo._url : 'img/user.png';\n                        item.bio      = item.status;\n                        if (item.name.toUpperCase().indexOf(term.toUpperCase()) >= 0) {\n                            peopleList.push(item);\n                        }\n                    });\n                    $scope.people = peopleList;\n                    return $q.when(peopleList);\n                });\n            };\n\n            $scope.getPeopleTextRaw = function (item) {\n                return '@' + item.username;\n            };\n\n            $scope.theme = $rootScope.theme;\n\n            $ionicModal.fromTemplateUrl('app/main/share/share-modal.html', {\n                scope          : $scope,\n                focusFirstInput: true\n            }).then(function (modal) {\n                $scope.modalFilter = modal;\n                $scope.modalFilter.show();\n            });\n\n\n            $scope.form.address = {};\n            $scope.closeAddress = function () {\n                $scope.form.address = {};\n            };\n\n            $scope.close = function () {\n                $scope.modalFilter.hide();\n            };\n\n            $scope.$on('$destroy', function () {\n                $scope.modal.remove();\n            });\n\n            $scope.submit = function (rForm, form) {\n                if (rForm.$valid) {\n                    var form   = angular.copy($scope.form);\n                    form.image = $scope.image;\n                    tempImage  = '';\n                    $scope.close();\n                    defer.resolve(form);\n                } else {\n                    console.log('Error', rForm);\n                }\n            };\n\n            return defer.promise;\n        }\n\n    }\n})();\n\n(function () {\n    'use strict';\n\n    angular.module('ion-photo').factory('Video', VideoFactory);\n\n    function VideoFactory($window, $q) {\n        var deferred = $q.defer();\n        function createFileEntry(fileURI) {\n            $window.resolveLocalFileSystemURL(fileURI, function (entry) {\n                return copyFile(entry);\n            }, fail);\n        }\n\n        function copyFile(fileEntry) {\n            var name    = fileEntry.fullPath.substr(fileEntry.fullPath.lastIndexOf('/') + 1);\n            var newName = makeid() + name;\n\n            $window.resolveLocalFileSystemURL(cordova.file.dataDirectory, function (fileSystem2) {\n                    fileEntry.copyTo(fileSystem2, newName, function (succ) {\n                        return onCopySuccess(succ);\n                    }, fail);\n                },\n                fail\n            );\n        }\n\n        function onCopySuccess(entry) {\n            var name = entry.nativeURL.slice(0, -4);\n            $window.PKVideoThumbnail.createThumbnail(entry.nativeURL, name + '.png', function (prevSucc) {\n                return prevImageSuccess(prevSucc);\n            }, fail);\n        }\n\n        function prevImageSuccess(succ) {\n            var correctUrl = succ.slice(0, -4);\n            correctUrl += '.MOV';\n            deferred.resolve(correctUrl);\n        }\n\n        function fail(error) {\n            console.log('FAIL: ' + error.code);\n            deferred.reject('ERROR');\n        }\n\n        function makeid() {\n            var text     = '';\n            var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n            for (var i = 0; i < 5; i++) {\n                text += possible.charAt(Math.floor(Math.random() * possible.length));\n            }\n            return text;\n        }\n\n        return {\n            saveVideo: function (data) {\n                createFileEntry(data[0].localURL);\n                return promise;\n            }\n        };\n    }\n\n})();\n\n;(function() {\n\"use strict\";\n\nangular.module(\"ionic\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/directive/SigninModalDirective.html\",\"<ion-modal-view><ion-header-bar class=\\\"bar-positive\\\"><h1 class=\\\"title\\\" translate=\\\"signin\\\"></h1><a \\nng-click=\\\"closeModal()\\\" class=\\\"button button-icon icon ion-ios-close-empty\\\"></a></ion-header-bar><ion-content \\nscroll=\\\"false\\\"><div class=\\\"step2\\\"><form name=\\\"myForm\\\" novalidate=\\\"novalidate\\\" on-submit=\\\"submitLogin(myForm, form)\\\">\\n<label class=\\\"item item-input validated\\\"><i class=\\\"icon icon-user placeholder-icon\\\"></i> <input required=\\\"required\\\" \\ntype=\\\"text\\\" name=\\\"username\\\" ng-model=\\\"form.username\\\" ng-minlength=\\\"4\\\" ng-maxlength=\\\"12\\\" autocomplete=\\\"false\\\" \\nng-model-options=\\\"{debounce: 1000}\\\" placeholder=\\\"{{\\'yourLogin\\' | translate}}\\\"></label><div class=\\\"errors\\\" \\nng-if=\\\"myForm.username.$dirty\\\"><div ng-messages=\\\"myForm.username.$error\\\" class=\\\"validation-error\\\"><div \\nng-message=\\\"required\\\" translate=\\\"usernameRequired\\\"></div><div ng-message=\\\"email\\\" translate=\\\"usernameInUse\\\"></div></div>\\n<div ng-messages=\\\"myForm.username.$pending\\\" class=\\\"validation-pending\\\"><div ng-message=\\\"email\\\" \\ntranslate=\\\"checkingUsername\\\"></div></div></div><label class=\\\"item item-input validated\\\"><i \\nclass=\\\"icon icon-lock placeholder-icon\\\"></i> <input required type=\\\"password\\\" name=\\\"password\\\" autocomplete=\\\"false\\\" \\nng-model=\\\"form.password\\\" placeholder=\\\"{{\\'password\\'|translate}}\\\"></label><div class=\\\"errors\\\" \\nng-if=\\\"myForm.username.$dirty\\\"><div ng-messages=\\\"myForm.username.$error\\\" class=\\\"validation-error\\\"><div \\nng-message=\\\"required\\\" translate=\\\"required\\\"></div></div></div><div class=\\\"padding\\\"><button \\nclass=\\\"button button-block button-positive\\\" type=\\\"submit\\\" translate=\\\"{{\\'submit\\' | translate}}\\\"></button> <a \\nclass=\\\"button button-block button-clear button-positive\\\" ng-click=\\\"forgotPass()\\\" \\ntranslate=\\\"{{\\'forgotPass\\' | translate}}\\\"></a> <span class=\\\"term\\\">{{\\'termAccept\\' | translate}} <a \\nhref=\\\"https://photogramapp.com\\\">{{\\'terms\\' | translate}}</a></span></div></form></div></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/directive/SignupModalDirective.html\",\"<ion-modal-view><ion-header-bar class=\\\"bar-positive\\\"><h1 class=\\\"title\\\" translate=\\\"register\\\"></h1><a \\nng-click=\\\"closeModal()\\\" class=\\\"button button-icon icon ion-ios-close-empty\\\"></a></ion-header-bar><form name=\\\"myForm\\\" \\non-submit=\\\"submitRegister(myForm, form)\\\" novalidate=\\\"novalidate\\\"><ion-content scroll=\\\"false\\\"><div class=\\\"step2\\\"><label \\nclass=\\\"item item-input validated\\\"><i class=\\\"icon icon-envelope placeholder-icon\\\"></i> <input required=\\\"required\\\" \\ntype=\\\"email\\\" name=\\\"email\\\" ng-model=\\\"form.email\\\" autocomplete=\\\"false\\\" email-validator \\nng-model-options=\\\"{debounce: 1000}\\\" placeholder=\\\"user@example.com\\\"> <i class=\\\"icon ion-alert-circled error\\\"></i>\\n</label><div class=\\\"errors\\\" ng-if=\\\"myForm.email.$dirty\\\"><div ng-messages=\\\"myForm.email.$error\\\" \\nclass=\\\"validation-error\\\"><div ng-message=\\\"required\\\" translate=\\\"emailRequired\\\"></div><div ng-message=\\\"email\\\" \\ntranslate=\\\"emailInUse\\\"></div></div><div ng-messages=\\\"myForm.email.$pending\\\" class=\\\"validation-pending\\\"><div \\nng-message=\\\"email\\\" translate=\\\"checkingEmail\\\"></div></div></div><label class=\\\"item item-input validated\\\"><i \\nclass=\\\"icon icon-user placeholder-icon\\\"></i> <input required=\\\"required\\\" type=\\\"text\\\" name=\\\"username\\\" \\nng-model=\\\"form.username\\\" username-validator ng-minlength=\\\"4\\\" ng-maxlength=\\\"12\\\" autocomplete=\\\"false\\\" \\nng-model-options=\\\"{debounce: 1000}\\\" placeholder=\\\"{{\\'yourLogin\\' | translate}}\\\"> <i class=\\\"icon ion-alert-circled error\\\">\\n</i></label><div class=\\\"errors\\\" ng-if=\\\"myForm.username.$dirty\\\"><div ng-messages=\\\"myForm.email.$error\\\" \\nclass=\\\"validation-error\\\"><div ng-message=\\\"required\\\" translate=\\\"usernameRequired\\\"></div><div ng-message=\\\"email\\\" \\ntranslate=\\\"usernameInUse\\\"></div></div><div ng-messages=\\\"myForm.email.$pending\\\" class=\\\"validation-pending\\\"><div \\nng-message=\\\"email\\\" translate=\\\"checkingUsername\\\"></div></div></div><label class=\\\"item item-input validated\\\"><i \\nclass=\\\"icon icon-lock placeholder-icon\\\"></i> <input required type=\\\"password\\\" name=\\\"password\\\" ng-model=\\\"form.password\\\" \\nplaceholder=\\\"{{\\'password\\'|translate}}\\\"> <i class=\\\"icon ion-alert-circled error\\\"></i></label><div class=\\\"padding\\\">\\n<button class=\\\"button button-block button-positive\\\" type=\\\"submit\\\" translate=\\\"{{\\'submit\\' | translate}}\\\"></button> <span \\nclass=\\\"term\\\">{{\\'termAccept\\' | translate}} <a href=\\\"https://photogramapp.com\\\">{{\\'terms\\' | translate}}</a></span></div>\\n</div></ion-content></form></ion-modal-view>\");\n$templateCache.put(\"app/directive/albumGridDirective.html\",\"<div class=\\\"center padding\\\" ng-if=\\\"showErrorView\\\"><div class=\\\"error\\\"><i \\nclass=\\\"icon icon-large ion-ios-cloud-download-outline\\\"></i><p>{{ \\\"errorText\\\" | translate }}</p><button \\nclass=\\\"button button-primary\\\" ng-click=\\\"onReload()\\\">{{ \\\"tryAgainText\\\" | translate }}</button></div></div><div \\nclass=\\\"center padding\\\" ng-if=\\\"showEmptyView\\\"><div class=\\\"error\\\"><i class=\\\"icon icon-large ion-android-alert\\\"></i><p>\\n{{ \\\"galleriesNotFoundText\\\" | translate }}</p></div></div><div class=\\\"center padding\\\" ng-if=\\\"loading &&!data.length\\\">\\n<ion-spinner></ion-spinner></div><div class=\\\"row\\\" ng-if=\\\"$index % 2 === 0\\\" \\nng-repeat=\\\"image in data | orderBy:\\'createdAt\\':true\\\"><div class=\\\"col col-50 newAlbum\\\" \\nng-if=\\\"$index < data.length && data[$index].create\\\" gallery-new-album-modal ng-model=\\\"ngModel\\\"><div class=\\\"desc\\\"><i \\nclass=\\\"icon ion-ios-plus-empty\\\"></i><h2 translate=\\\"createAlbum\\\"></h2></div></div><div class=\\\"col col-50\\\" \\nng-if=\\\"$index < data.length && !data[$index].create\\\" album-photo-grid album=\\\"data[$index].id\\\" edit=\\\"canEdit\\\"><img \\nimg-cache ic-src=\\\"{{ ::data[$index ].imageThumb._url || \\'img/albumnone.png\\'}}\\\" ic-default=\\\"img/user.png\\\" width=\\\"100%\\\">\\n<div class=\\\"desc\\\"><h2>{{::data[$index].title}}</h2><p>{{::data[$index].qtyPhotos}} photos</p></div></div><div \\nclass=\\\"col col-50\\\" ng-if=\\\"$index + 1 < data.length\\\" album-photo-grid album=\\\"data[$index+1].id\\\" edit=\\\"canEdit\\\"><img \\nimg-cache ic-src=\\\"{{ ::data[$index + 1].imageThumb._url || \\'img/albumnone.png\\'}}\\\" ic-default=\\\"img/user.png\\\" \\nwidth=\\\"100%\\\"><div class=\\\"desc\\\"><h2>{{::data[$index+1].title}}</h2><p>{{::data[$index+1].qtyPhotos}} photos</p></div>\\n</div></div><ion-infinite-scroll on-infinite=\\\"onLoadMore()\\\" ng-if=\\\"moreDataCanBeLoaded\\\" spinner distance=\\\"1%\\\">\\n</ion-infinite-scroll>\");\n$templateCache.put(\"app/directive/albumPhotoGridDirective.html\",\"<ion-modal-view cache-view=\\\"false\\\"><ion-header-bar class=\\\"bar bar-{{theme}}\\\"><a ng-click=\\\"closeAlbumPhotoGridModal()\\\" \\nclass=\\\"button button-icon icon ion-ios-close-empty\\\"></a><h1 class=\\\"title\\\" ng-bind=\\\"title\\\"></h1><a \\nclass=\\\"button button-icon icon ion-android-more-vertical\\\" ng-if=\\\"canEdit\\\" ng-click=\\\"openPopover($event)\\\"></a>\\n</ion-header-bar><ion-content class=\\\"padding\\\"><div class=\\\"center padding\\\" ng-if=\\\"loading\\\"><ion-spinner></ion-spinner>\\n</div><div class=\\\"row\\\" ng-repeat=\\\"image in data | orderBy:\\'createdAt\\':true\\\" ng-if=\\\"!loading && $index % 3 === 0\\\"><div \\nclass=\\\"col col-33\\\" ng-if=\\\"$index < data.length\\\"><img ng-if=\\\"profile\\\" profile-modal user=\\\"data[$index].user.obj\\\" \\nic-src=\\\"{{ ::data[$index].imageThumb._url}}\\\" img-cache ic-default=\\\"img/user.png\\\" width=\\\"100%\\\"> <img ng-if=\\\"!profile\\\" \\nion-slideshow can-edit=\\\"canEdit\\\" ng-model=\\\"data\\\" index=\\\"$index\\\" ic-src=\\\"{{ ::data[$index].imageThumb._url}}\\\" \\nwidth=\\\"100%\\\"></div><div class=\\\"col col-33\\\" ng-if=\\\"$index + 1 < data.length\\\"><img ng-if=\\\"profile\\\" profile-modal \\nuser=\\\"data[$index + 1].user.obj\\\" img-cache ic-default=\\\"img/user.png\\\" ic-src=\\\"{{ ::data[$index + 1].imageThumb._url}}\\\" \\nwidth=\\\"100%\\\"> <img ng-if=\\\"!profile\\\" ion-slideshow can-edit=\\\"canEdit\\\" ng-model=\\\"data\\\" index=\\\"$index+1\\\" \\nic-src=\\\"{{ ::data[$index + 1].imageThumb._url}}\\\" width=\\\"100%\\\"></div><div class=\\\"col col-33\\\" \\nng-if=\\\"$index + 2 < data.length\\\"><img ng-if=\\\"profile\\\" profile-modal user=\\\"data[$index + 2].user.obj\\\" img-cache \\nic-default=\\\"img/user.png\\\" ic-src=\\\"{{ ::data[$index + 2].imageThumb._url}}\\\" width=\\\"100%\\\"> <img ng-if=\\\"!profile\\\" \\nion-slideshow can-edit=\\\"canEdit\\\" ng-model=\\\"data\\\" index=\\\"$index+2\\\" img-cache ic-default=\\\"img/user.png\\\" \\nic-src=\\\"{{ ::data[$index + 2].imageThumb._url}}\\\" width=\\\"100%\\\"></div></div></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/directive/albumPhotoGridPopover.html\",\"<ion-popover-view><ion-content><div class=\\\"list\\\"><a class=\\\"item item-icon-left\\\" ng-click=\\\"uploadPhoto()\\\"><i \\nclass=\\\"icon ion-ios-camera-outline\\\"></i> <span translate=\\\"addPhoto\\\"></span> </a><a class=\\\"item item-icon-left\\\" \\nng-click=\\\"editAlbum()\\\"><i class=\\\"icon ion-ios-compose-outline\\\"></i> <span translate=\\\"editAlbum\\\"></span> </a><a \\nclass=\\\"item item-icon-left\\\" ng-click=\\\"deleteAlbum()\\\"><i class=\\\"icon ion-ios-trash-outline\\\"></i> <span \\ntranslate=\\\"deleteAlbum\\\"></span></a></div></ion-content></ion-popover-view>\");\n$templateCache.put(\"app/directive/distanceModal.html\",\"<ion-modal-view><ion-header-bar class=\\\"bar bar-{{theme}}\\\"><div class=\\\"buttons\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-close-empty\\\" ng-click=\\\"closeDistanceModal()\\\"></button></div><div \\nclass=\\\"title\\\">{{ \\\"chooseDistanceText\\\" | translate }}</div></ion-header-bar><ion-content><ion-list><ion-item \\nclass=\\\"item item-icon-right\\\" ng-repeat=\\\"distance in distances\\\" ng-click=\\\"onDistanceSelected(distance.val)\\\" bindonce><h2\\n bo-bind=\\\"distance.text\\\"></h2><i class=\\\"icon ion-checkmark\\\" ng-show=\\\"params.distance === distance.val\\\"></i></ion-item>\\n</ion-list></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/directive/follow.modal.html\",\"<ion-modal-view class=\\\"modal-profile photogram-profile\\\"><ion-header-bar class=\\\"bar-positive\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\">\\nFollow Users</div></ion-header-bar><ion-content><div class=\\\"list\\\"><div class=\\\"item item-avatar item-button-right\\\" \\nng-repeat=\\\"item in data\\\"><img ng-src=\\\"{{ ::item.src }}\\\"><h2>{{ ::item.name }}</h2><p>{{ ::item.status }}</p><button \\nclass=\\\"button\\\" ng-click=\\\"item.follow = !item.follow\\\" ng-class=\\\"item.follow ? \\'button-positive\\' : \\'button-stable\\'\\\"><i \\nclass=\\\"icon\\\" ng-class=\\\"item.follow? \\'ion-thumbsup\\' : \\'ion-plus\\'\\\"></i></button></div></div></ion-content>\\n</ion-modal-view>\");\n$templateCache.put(\"app/directive/galleryAlbumModalDirective.html\",\"<ion-modal-view><ion-header-bar class=\\\"bar bar-{{theme}}\\\"><a ng-click=\\\"closeModal()\\\" class=\\\"button button-clear\\\" \\ntranslate=\\\"cancel\\\"></a><h1 class=\\\"title\\\" translate=\\\"selectAlbumText\\\"></h1></ion-header-bar><ion-content><div \\nclass=\\\"list\\\"><div class=\\\"item item-thumbnail-left\\\" gallery-new-album-modal ng-model=\\\"ngModel\\\"><img \\nsrc=\\\"img/albumnew.png\\\"><h2>Create Album</h2></div><div class=\\\"item item-thumbnail-left\\\" \\nng-repeat=\\\"item in data | filter:searchValue\\\" ng-click=\\\"selectAlbum(item)\\\"><img img-cache ic-default=\\\"img/user.png\\\" \\nic-src=\\\"{{item.imageThumb._url || \\'img/albumnone.png\\'}}\\\"><h2 ng-bind=\\\"item.title\\\"></h2><p>{{item.qtyPhotos}} photos</p>\\n</div></div><ion-infinite-scroll on-infinite=\\\"onLoadMore()\\\" ng-if=\\\"moreDataCanBeLoaded\\\" spinner></ion-infinite-scroll>\\n</ion-content></ion-modal-view>\");\n$templateCache.put(\"app/directive/galleryNewAlbumModalDirective.html\",\"<ion-modal-view><form name=\\\"rForm\\\" novalidate><ion-header-bar class=\\\"bar bar-{{theme}}\\\"><button \\nng-click=\\\"closeModal()\\\" class=\\\"button button-clear\\\" translate=\\\"cancel\\\"></button><h1 class=\\\"title\\\" \\ntranslate=\\\"createAlbum\\\" ng-if=\\\"!form.id\\\"></h1><h1 class=\\\"title\\\" translate=\\\"editAlbum\\\" ng-if=\\\"form.id\\\"></h1><button \\nng-click=\\\"createAlbum(rForm, form)\\\" class=\\\"button button-clear\\\" translate=\\\"submit\\\"></button></ion-header-bar>\\n<ion-content><div class=\\\"list\\\"><label class=\\\"item item-input\\\"><input type=\\\"text\\\" name=\\\"title\\\" \\nplaceholder=\\\"{{\\'albumName\\' | translate}}\\\" ng-model=\\\"form.title\\\" required></label><label class=\\\"item item-input\\\">\\n<textarea name=\\\"description\\\" placeholder=\\\"{{\\'albumDesc\\' | translate}}\\\" ng-model=\\\"form.description\\\"></textarea></label>\\n</div></ion-content></form></ion-modal-view>\");\n$templateCache.put(\"app/directive/likeDirective.html\",\"<ion-modal-view class=\\\"modal-comment\\\"><ion-header-bar class=\\\"bar-dark\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\">\\n{{ ::\\'Likes\\' | translate }} ({{ ::likes.length }})</div></ion-header-bar><ion-content><div class=\\\"list step1\\\"><div \\nng-repeat=\\\"item in likes\\\" class=\\\"item item-avatar item-button-right\\\"><img ng-src=\\\"{{ ::item.user.img }}\\\"><h2>\\n{{ ::item.user.name }}</h2><div>{{ ::item.text }}</div><p>{{ ::item.created | amTimeAgo }}</p><button \\nclass=\\\"button button-positive button-outline\\\"><i class=\\\"icon ion-ios-plus-empty\\\"></i> {{ ::\\'Follow\\' }}</button></div>\\n</div></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/directive/mapPhotoUserDirective.html\",\"<div id=\\\"map_canvas\\\" data-tap-disabled=\\\"true\\\"></div>\");\n$templateCache.put(\"app/directive/photoGridDirective.html\",\"<div class=\\\"center padding\\\" ng-if=\\\"showErrorView\\\"><div class=\\\"error\\\"><i \\nclass=\\\"icon icon-large ion-ios-cloud-download-outline\\\"></i><p>{{ \\\"errorText\\\" | translate }}</p><button \\nclass=\\\"button button-primary\\\" ng-click=\\\"onReload()\\\">{{ \\\"tryAgainText\\\" | translate }}</button></div></div><div \\nclass=\\\"center padding\\\" ng-if=\\\"showEmptyView\\\"><div class=\\\"error\\\"><i class=\\\"icon icon-large ion-android-alert\\\"></i><p>\\n{{ \\\"galleriesNotFoundText\\\" | translate }}</p></div></div><div class=\\\"center padding\\\" ng-if=\\\"loading &&!data.length\\\">\\n<ion-spinner></ion-spinner></div><div class=\\\"row\\\" ng-if=\\\"$index % 3 === 0\\\" \\nng-repeat=\\\"image in data | orderBy:\\'createdAt\\':true\\\"><div class=\\\"col col-33\\\" ng-if=\\\"$index < data.length\\\"><img \\nng-if=\\\"profile\\\" profile-modal user=\\\"data[$index].user.obj\\\" width=\\\"100%\\\" img-cache \\nic-src=\\\"{{::data[$index].imageThumb.url() || \\'img/user.png\\'}}\\\" ic-default=\\\"img/user.png\\\"> <img ng-if=\\\"!profile\\\" \\nion-slideshow ng-model=\\\"data\\\" index=\\\"$index\\\" img-cache ic-src=\\\"{{::data[$index].imageThumb.url() || \\'img/user.png\\'}}\\\" \\nic-default=\\\"img/user.png\\\" width=\\\"100%\\\"></div><div class=\\\"col col-33\\\" ng-if=\\\"$index + 1 < data.length\\\"><img \\nng-if=\\\"profile\\\" profile-modal user=\\\"data[$index + 1].user.obj\\\" img-cache \\nic-src=\\\"{{::data[$index + 1].imageThumb.url() || \\'img/user.png\\'}}\\\" ic-default=\\\"img/user.png\\\" width=\\\"100%\\\"> <img \\nng-if=\\\"!profile\\\" ion-slideshow ng-model=\\\"data\\\" index=\\\"$index+1\\\" img-cache \\nic-src=\\\"{{::data[$index + 1].imageThumb.url() || \\'img/user.png\\'}}\\\" ic-default=\\\"img/user.png\\\" width=\\\"100%\\\"></div><div \\nclass=\\\"col col-33\\\" ng-if=\\\"$index + 2 < data.length\\\"><img ng-if=\\\"profile\\\" profile-modal \\nuser=\\\"data[$index + 2].user.obj\\\" img-cache ic-src=\\\"{{::data[$index + 2].imageThumb.url() || \\'img/user.png\\'}}\\\" \\nic-default=\\\"img/user.png\\\" width=\\\"100%\\\"> <img ng-if=\\\"!profile\\\" ion-slideshow ng-model=\\\"data\\\" index=\\\"$index+2\\\" img-cache \\nic-src=\\\"{{::data[$index + 2].imageThumb.url() || \\'img/user.png\\'}}\\\" ic-default=\\\"img/user.png\\\" width=\\\"100%\\\"></div></div>\\n<ion-infinite-scroll on-infinite=\\\"onLoadMore()\\\" ng-if=\\\"moreDataCanBeLoaded\\\" spinner distance=\\\"1%\\\">\\n</ion-infinite-scroll>\");\n$templateCache.put(\"app/directive/photoListDirective.html\",\"<div class=\\\"center padding\\\" ng-if=\\\"showErrorView\\\"><div class=\\\"error\\\"><i \\nclass=\\\"icon icon-large ion-ios-cloud-download-outline\\\"></i><p>{{ \\\"errorText\\\" | translate }}</p><button \\nclass=\\\"button button-primary\\\" ng-click=\\\"onReload\\\">{{ \\\"tryAgainText\\\" | translate }}</button></div></div><div \\nclass=\\\"center padding\\\" ng-if=\\\"showEmptyView\\\"><div class=\\\"error\\\"><i class=\\\"icon icon-large ion-android-alert\\\"></i><p>\\n{{ \\\"galleriesNotFoundText\\\" | translate }}</p></div></div><div class=\\\"center padding\\\" ng-if=\\\"loading &&!data.length\\\">\\n<ion-spinner></ion-spinner></div><div class=\\\"list card\\\" ng-repeat=\\\"gallery in data | orderBy:\\'createdAt\\':true\\\"><div \\nclass=\\\"item item-avatar\\\" ng-click=\\\"load(gallery.user.username)\\\" ion-affix data-affix-within-parent-with-class=\\\"card\\\">\\n<img img-cache ic-src=\\\"{{::gallery.user.get(\\'photo\\').url() || \\'img/user.png\\'}}\\\" ic-default=\\\"img/user.png\\\"><h2>\\n{{ ::gallery.user.get(\\'name\\')}}</h2><p>{{ ::gallery.user.get(\\'status\\')}}</p><span>{{ gallery.createdAt | amTimeAgo}}\\n</span></div><div class=\\\"item item-body\\\" on-double-tap=\\\"like(gallery.id)\\\" ng-model=\\\"gallery\\\"><div \\nclass=\\\"icon ion-ios-heart heart\\\" ng-class=\\\"gallery.isLiked ? \\'happy\\' : \\'broken\\' \\\"></div><i class=\\\"icon\\\" ng-if=\\\"like\\\">\\n</i> <img id=\\\"{{ ::gallery.id}}\\\" img-cache ic-src=\\\"{{gallery.image.url()}}\\\" ic-default=\\\"img/user.png\\\"></div><div \\nclass=\\\"item item-buttons\\\"><div class=\\\"row\\\"><div class=\\\"col col-30\\\"><ion-spinner ng-show=\\\"gallery.progress\\\">\\n</ion-spinner><button photo-like loading=\\\"gallery.progress\\\" ng-model=\\\"gallery\\\" ng-if=\\\"!gallery.progress\\\" \\nng-class=\\\"gallery.isLiked ? \\'boon-vet_mark-on\\' : \\'boon-vet_mark-off\\' \\\" class=\\\"button-clear button-icon button-heart\\\">\\n</button> <button ng-click=\\\"openComment(gallery.id)\\\" ng-model=\\\"gallery\\\" class=\\\"button-clear button-icon boon-comment\\\">\\n</button></div><div class=\\\"col album-name text-center\\\" album-photo-grid album=\\\"gallery.album.id\\\" \\nedit=\\\"gallery.canEdit\\\"><div ng-bind=\\\"gallery.album.attributes.title\\\"></div></div><div class=\\\"col text-right\\\"><button \\nng-click=\\\"action(gallery)\\\" photogram=\\\"{{ :: gallery.id }}\\\" class=\\\"button-clear button-icon boon-vet_hamb\\\"></button>\\n</div></div></div><div class=\\\"padding\\\"><span class=\\\"likes\\\" ng-click=\\\"openLikers(gallery.id)\\\"><i \\nclass=\\\"icon ion-ios-heart\\\"></i> <span ng-if=\\\"!gallery.progress\\\">{{ gallery.likesTotal }}</span> <span \\ntranslate=\\\"likesText\\\"></span></span><div class=\\\"list-comments\\\"><div class=\\\"comment-item\\\"><span profile-modal \\nusername=\\\"gallery.user.get(\\'username\\')\\\" class=\\\"username\\\">{{ :: gallery.user.get(\\'name\\') }}</span> <span \\nclass=\\\"comment\\\" ng-bind-html=\\\"gallery.title | hashtag \\\"></span></div><div class=\\\"comment-item\\\" \\nng-repeat=\\\"item in gallery.comments |limitTo:3 | orderBy:\\'createdAt\\':true\\\"><span class=\\\"username\\\" profile-modal \\nusername=\\\"gallery.user.get(\\'username\\')\\\">{{ :: item.user.name }}</span> <span class=\\\"comment\\\" \\nng-bind-html=\\\"item.text | hashtag\\\"></span></div><a class=\\\"comment-item\\\" ng-click=\\\"openComment(gallery.id)\\\" \\nng-if=\\\"gallery.commentsTotal>3\\\" translate=\\\"seeAllCommentText\\\"></a></div><button \\nclass=\\\"button button-block button-clear button-comment\\\" ng-click=\\\"openComment(gallery.id)\\\"><span \\ntranslate=\\\"addComment\\\"></span></button></div></div><ion-infinite-scroll on-infinite=\\\"onLoadMore()\\\" \\nng-if=\\\"moreDataCanBeLoaded\\\" spinner></ion-infinite-scroll>\");\n$templateCache.put(\"app/directive/profile-edit-modal.html\",\"<ion-modal-view class=\\\"profile-edit\\\"><ion-header-bar class=\\\"bar bar-{{theme}}\\\"><button class=\\\"button button-clear\\\" \\nng-click=\\\"closeModal()\\\" translate=\\\"cancel\\\"></button><div class=\\\"title\\\">{{ ::\\'editProfile\\' | translate }}</div>\\n</ion-header-bar><ion-content class=\\\"view-avatar\\\"><div class=\\\"step2\\\"><form name=\\\"rForm\\\" \\nng-submit=\\\"submitUpdateProfile(rForm, form)\\\" novalidate><img class=\\\"avatar\\\" user-avatar ng-model=\\\"currentUser\\\" \\nng-src=\\\"{{ currentUser.photo.url() || \\'img/user.png\\' }}\\\"><label class=\\\"item item-input\\\"><i \\nclass=\\\"icon ion-clipboard placeholder-icon\\\"></i> <input required=\\\"required\\\" type=\\\"text\\\" name=\\\"name\\\" \\nng-model=\\\"form.name\\\" placeholder=\\\"{{\\'name\\' | translate}}\\\"></label><label class=\\\"item item-input\\\"><i \\nclass=\\\"icon ion-at placeholder-icon\\\"></i> <input required=\\\"required\\\" type=\\\"text\\\" name=\\\"username\\\" \\nng-model=\\\"form.username\\\" ng-minlength=\\\"4\\\" ng-maxlength=\\\"12\\\" ng-pattern=\\\"/^[a-zA-Z\\'. -]+$/\\\" \\nplaceholder=\\\"{{\\'username\\' | translate}}\\\"></label><label class=\\\"item item-input\\\"><i \\nclass=\\\"icon ion-earth placeholder-icon\\\"></i> <input type=\\\"url\\\" name=\\\"website\\\" ng-model=\\\"form.website\\\" \\nplaceholder=\\\"{{\\'site\\' | translate}}\\\"></label><label class=\\\"item item-input\\\"><i \\nclass=\\\"icon ion-information-circled placeholder-icon\\\"></i> <input required=\\\"required\\\" type=\\\"text\\\" name=\\\"status\\\" \\nng-model=\\\"form.status\\\" placeholder=\\\"{{\\'status\\' | translate}}\\\"></label><ion-item class=\\\"item-divider\\\" \\ntranslate=\\\"privateInformation\\\"></ion-item><label class=\\\"item item-input\\\"><i \\nclass=\\\"icon icon-envelope placeholder-icon\\\"></i> <input type=\\\"email\\\" name=\\\"email\\\" ng-model=\\\"form.email\\\" \\ndisabled=\\\"disabled\\\" ng-model-options=\\\"{debounce: 1000}\\\" placeholder=\\\"user@example.com\\\"></label><label \\nclass=\\\"item item-input\\\"><i class=\\\"icon ion-iphone placeholder-icon\\\"></i> <input required=\\\"required\\\" type=\\\"tel\\\" \\nname=\\\"phone\\\" ng-model=\\\"form.phone\\\" placeholder=\\\"{{\\'phone\\' | translate }}\\\"></label><div class=\\\"padding\\\"><button \\ntype=\\\"submit\\\" class=\\\"button button-block button-positive\\\" translate=\\\"submit\\\"></button></div></form></div></ion-content>\\n</ion-modal-view>\");\n$templateCache.put(\"app/directive/profile-modal.html\",\"<ion-modal-view id=\\\"account-view\\\"><ion-header-bar class=\\\"bar bar-{{theme}}\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\">\\n{{ user.name }}</div></ion-header-bar><ion-content overflow-scroll=\\\"true\\\"><div class=\\\"profile-top\\\"><div class=\\\"row\\\">\\n<div class=\\\"col-25\\\"><img class=\\\"avatar\\\" ng-src=\\\"{{ user.photo._url || \\'img/user.png\\'}}\\\"></div><div \\nclass=\\\"col col-statics\\\"><div class=\\\"row\\\"><div class=\\\"row\\\"><div class=\\\"col\\\"><span class=\\\"text-center\\\">\\n{{ ::user.galleriesTotal || 0}}</span><h3 translate=\\\"postsText\\\"></h3></div><div class=\\\"col\\\"><span class=\\\"text-center\\\">\\n{{ user.followersTotal || 0}}</span><h3 translate=\\\"followersText\\\"></h3></div><div class=\\\"col\\\"><span \\nclass=\\\"text-center\\\">{{ ::user.followingsTotal || 0}}</span><h3 translate=\\\"followingText\\\"></h3></div></div></div><div \\nclass=\\\"row col-edit\\\"><div class=\\\"col\\\"><photogram-loading loading=\\\"loadingFollow\\\"></photogram-loading><button \\nng-class=\\\"{\\'button-unfollow\\': user.isFollow, \\'button-follow\\': !user.isFollow}\\\" ng-click=\\\"follow()\\\" class=\\\"button\\\"><span\\n ng-show=\\\"!user.isFollow\\\" translate>Follow</span> <span ng-show=\\\"user.isFollow\\\" translate>Following</span></button>\\n</div></div></div></div><div class=\\\"padding\\\"><span class=\\\"user-username\\\">{{ user.name }}</span><p class=\\\"user-status\\\">\\n{{ user.status }}</p></div></div><div class=\\\"item bar\\\"><div class=\\\"button-bar\\\"><button \\nclass=\\\"button button-icon icon ion-grid\\\" ng-class=\\\"{active: tab.grid}\\\" ng-click=\\\"changeTab(\\'grid\\')\\\"></button> <button \\nclass=\\\"button button-icon icon ion-drag\\\" ng-class=\\\"{active: tab.list}\\\" ng-click=\\\"changeTab(\\'list\\')\\\"></button> <button \\nclass=\\\"button button-icon icon ion-ios-location\\\"></button></div></div><div class=\\\"item item-divider\\\" \\ntranslate=\\\"recent\\\"></div><div class=\\\"tab\\\" ng-if=\\\"tab.list\\\"></div><div class=\\\"tab\\\" ng-if=\\\"tab.grid\\\"></div></ion-content>\\n</ion-modal-view>\");\n$templateCache.put(\"app/directive/search-directive.html\",\"<label class=\\\"item item-input\\\"><i class=\\\"icon ion-search placeholder-icon\\\"></i> <input type=\\\"search\\\" ng-model=\\\"input\\\" \\nplaceholder=\\\"{{\\'SEARCH.FORM.INPUT\\' | translate }}\\\"> <button class=\\\"button button-icon\\\" ng-if=\\\"input.length\\\" \\nng-click=\\\"clearSearch()\\\"><i class=\\\"icon ion-close\\\"></i></button></label>\");\n$templateCache.put(\"app/directive/settings-modal.html\",\"<ion-modal-view class=\\\"modal-profile\\\"><ion-header-bar class=\\\"bar bar-{{theme}}\\\"><button class=\\\"button button-clear\\\" \\nng-click=\\\"closeSettingModal()\\\" translate=\\\"cancel\\\"></button><div class=\\\"title\\\" translate=\\\"settingTitle\\\"></div>\\n</ion-header-bar><ion-content class=\\\"animated fadeIn\\\"><div class=\\\"list\\\"><ion-language language=\\\"language\\\">\\n</ion-language><ion-toggle class=\\\"toggle-positive\\\" ng-model=\\\"form.push\\\"><h3><small translate=\\\"notificationText\\\">\\n</small></h3><p ng-if=\\\"form.push\\\" translate=\\\"on\\\"></p><p ng-if=\\\"!form.push\\\" translate=\\\"off\\\"></p></ion-toggle><ion-item \\nclass=\\\"item-icon-right\\\" href=\\\"http://photogramapp.com\\\"><h3><small translate=\\\"terms\\\"></small></h3><i \\nclass=\\\"icon ion-ios-arrow-right\\\"></i></ion-item></div><div class=\\\"padding\\\"><button ng-click=\\\"logout()\\\" \\nclass=\\\"button button-block button-positive\\\" translate=\\\"logout\\\"></button></div></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/mentio/people-mentions.html\",\"<ul class=\\\"list-group user-search\\\"><li mentio-menu-item=\\\"person\\\" ng-repeat=\\\"person in items\\\" class=\\\"list-group-item\\\">\\n<img ng-src=\\\"{{person.imageUrl}}\\\" class=\\\"user-photo\\\"><div class=\\\"description\\\"><span class=\\\"text-primary\\\" \\nng-bind-html=\\\"person.username | mentioHighlight:typedTerm:\\'menu-highlighted\\' | unsafe\\\"></span> <em class=\\\"text-muted\\\" \\nng-bind=\\\"person.status | words:5\\\"></em></div></li></ul>\");\n$templateCache.put(\"app/mentio/photo-mentions.html\",\"<ul class=\\\"list-group product-search demo-scrollable-menu\\\"><li mentio-menu-item=\\\"product\\\" ng-repeat=\\\"product in items\\\" \\nclass=\\\"list-group-item clearfix\\\"><div class=\\\"row\\\"><div class=\\\"col-xs-2 text-center\\\"><img ng-src=\\\"{{product.imageUrl}}\\\" \\nclass=\\\"product-photo\\\"></div><div class=\\\"col-xs-10\\\"><h4 class=\\\"list-group-item-heading\\\">{{product.title | words:5}}</h4>\\n<p class=\\\"list-group-item-text\\\">{{product.description | words:7}}</p></div></div></li></ul>\");\n$templateCache.put(\"app/component/ion-language/ion-language.html\",\"<button class=\\\"button button-block button-clear button-{{theme}} button-language\\\">{{language.translation | translate}} \\n<i class=\\\"icon ion-android-arrow-dropdown\\\"></i></button>\");\n$templateCache.put(\"app/component/ion-language/modal-language.html\",\"<ion-modal-view><ion-header-bar class=\\\"bar bar-positive\\\"><h1 class=\\\"title\\\" translate=\\\"selectLanguageText\\\"></h1><button \\nclass=\\\"button button-clear\\\" ng-click=\\\"closeModal()\\\" translate=\\\"cancel\\\"></button></ion-header-bar><div \\nclass=\\\"bar bar-subheader item-input-inset bar-positive\\\"><label class=\\\"item-input-wrapper\\\"><i \\nclass=\\\"icon ion-ios-search placeholder-icon\\\"></i> <input type=\\\"search\\\" placeholder=\\\"{{\\'searchText\\' | translate}}\\\" \\nng-model=\\\"searchValue\\\"></label><button type=\\\"button\\\" class=\\\"button button-clear\\\" ng-show=\\\"searchValue.length\\\" \\nng-click=\\\"searchValue=\\'\\'\\\" translate>Clear</button></div><ion-content class=\\\"has-subheader\\\"><ion-list><ion-item \\nclass=\\\"item\\\" ng-click=\\\"selectLanguage(item)\\\" ng-repeat=\\\"item in languages | filter:searchValue\\\" \\nng-bind-html=\\\"item.translation | translate\\\"></ion-item></ion-list></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/component/ion-slideshow/image-popover.html\",\"<ion-modal-view id=\\\"ion-slideshow\\\"><ion-header-bar class=\\\"bar bar-dark\\\"><a ng-click=\\\"closeModal()\\\" \\nclass=\\\"button button-icon icon ion-ios-close-empty\\\"></a><div class=\\\"title\\\"></div><a \\nclass=\\\"button button-icon icon ion-android-more-vertical\\\" ng-if=\\\"canEdit\\\" ng-click=\\\"openPopover($event)\\\"></a>\\n</ion-header-bar><ion-content><ion-slide-box on-slide-changed=\\\"slideChanged(index)\\\" show-pager=\\\"true\\\" \\nactive-slide=\\\"activeSlide\\\"><ion-slide ng-repeat=\\\"item in allImages\\\"><img img-cache ic-default=\\\"img/user.png\\\" \\nic-src=\\\"{{item.image._url}}\\\" class=\\\"fullscreen-image\\\"><h1 ng-if=\\\"item.title\\\">{{item.title}}</h1></ion-slide>\\n</ion-slide-box></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/component/ion-slideshow/ion-slideshow.popover.html\",\"<ion-popover-view><ion-content><div class=\\\"list\\\"><a class=\\\"item item-icon-left\\\" ng-click=\\\"deletePhoto()\\\"><i \\nclass=\\\"icon ion-ios-trash-outline\\\"></i> <span translate=\\\"delete\\\"></span></a></div></ion-content></ion-popover-view>\");\n$templateCache.put(\"app/component/ion-slideshow/video-popover.html\",\"<div class=\\\"modal transparent fullscreen-player\\\" ng-click=\\\"closeModal()\\\"><video ng-src=\\\"{{clipSrc}}\\\" class=\\\"centerme\\\" \\ncontrols=\\\"controls\\\" autoplay></video></div>\");\n$templateCache.put(\"app/main/account-friend-list/account-friend-list.html\",\"<ion-view><ion-content></ion-content></ion-view>\");\n$templateCache.put(\"app/main/feedback/feedback-modal.html\",\"<ion-modal-view class=\\\"modal-profile\\\"><ion-header-bar class=\\\"bar bar-{{theme}}\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModal()\\\"></button><div class=\\\"title\\\" \\ntranslate=\\\"feedback\\\"></div></ion-header-bar><ion-content><form name=\\\"myForm\\\" novalidate=\\\"novalidate\\\" \\nng-submit=\\\"submitFeedback(myForm, form)\\\"><label class=\\\"item item-input\\\"><i class=\\\"icon icon-envelope placeholder-icon\\\">\\n</i> <input required=\\\"required\\\" type=\\\"text\\\" name=\\\"title\\\" ng-model=\\\"form.title\\\" \\nplaceholder=\\\"{{\\'feedback\\' | translate}}\\\"></label><label class=\\\"item item-input item-select\\\"><i \\nclass=\\\"icon ion-ios-information-outline placeholder-icon\\\"></i><div class=\\\"input-label\\\" translate>subject</div><select \\nng-model=\\\"form.subject\\\"><option selected=\\\"selected\\\" translate>complaint</option><option translate>bug</option><option \\ntranslate>suggestion</option></select></label><label class=\\\"item item-input\\\"><i \\nclass=\\\"icon ion-ios-compose-outline placeholder-icon\\\"></i><textarea ng-model=\\\"form.message\\\" \\nplaceholder=\\\"{{\\'message\\' | translate}}\\\"></textarea></label><div class=\\\"padding\\\"><button \\nclass=\\\"button button-block button-positive\\\" type=\\\"submit\\\" translate=\\\"{{\\'submit\\' | translate}}\\\"></button></div></form>\\n</ion-content></ion-modal-view>\");\n$templateCache.put(\"app/main/gallery-comment/gallery-comment.html\",\"<ion-view id=\\\"view-comment\\\" cache-view=\\\"false\\\"><ion-nav-bar class=\\\"bar bar-{{theme}}\\\"><ion-nav-buttons side=\\\"left\\\">\\n<button class=\\\"button button-icon button-clear ion-ios-arrow-left\\\" ng-click=\\\"$ionicGoBack()\\\"></button>\\n</ion-nav-buttons><ion-nav-title><div class=\\\"title\\\"><span translate=\\\"commentPhotoText\\\"></span></div></ion-nav-title>\\n</ion-nav-bar><ion-content><div class=\\\"padding center\\\" ng-if=\\\"loading\\\"><ion-spinner></ion-spinner></div><ion-list \\nclass=\\\"list\\\" ng-if=\\\"!loading\\\" can-swipe=\\\"true\\\"><div class=\\\"item item-avatar\\\"><img img-cache ic-default=\\\"img/user.png\\\" \\nic-src=\\\"{{ ::gallery.imageThumb.url()|| \\'./img/user.png\\'}}\\\"><p></p><h2>{{ ::gallery.profile.get(\\'username\\') }}</h2><div\\n class=\\\"text\\\">{{ ::gallery.title }}</div><p></p><div class=\\\"row\\\"><p>{{ ::gallery.createdAt | amTimeAgo }}</p></div>\\n</div><ion-item ng-repeat=\\\"item in comments | orderBy:\\'createdAt\\':false\\\" class=\\\"item item-avatar\\\"><img img-cache \\nic-default=\\\"img/user.png\\\" ic-src=\\\"{{ ::item.user.photo._url || \\'./img/user.png\\'}}\\\"><p></p><h2>\\n{{ ::item.user.username }}</h2><div class=\\\"text\\\">{{ ::item.text }}</div><p></p><div class=\\\"row\\\"><p>\\n{{ ::item.createdAt | amTimeAgo }}</p></div><div ng-if=\\\"item.canEdit\\\"><ion-option-button class=\\\"button-info\\\" \\nng-click=\\\"editComment(item, $index)\\\" translate=\\\"edit\\\">Edit</ion-option-button><ion-option-button \\nclass=\\\"button-assertive\\\" ng-click=\\\"deleteComment(item, $index)\\\" translate=\\\"remove\\\">Remove</ion-option-button></div>\\n</ion-item></ion-list><div class=\\\"center-ico\\\" ng-if=\\\"nocomments\\\"><i class=\\\"icon ion-ios-chatbubble-outline\\\"></i><h1 \\ntranslate=\\\"noComments\\\"></h1></div></ion-content><form name=\\\"rForm\\\" ng-submit=\\\"submitComment(rForm, form)\\\" novalidate>\\n<ion-footer-bar ng-hide=\\\"loading\\\" class=\\\"bar-stable item-input-inset message-footer\\\" keyboard-attach><label \\nclass=\\\"item-input-wrapper\\\" ng-class=\\\"{\\'item-invalid\\': rForm.message.$invalid && !rForm.message.$pristine}\\\"><textarea \\nname=\\\"message\\\" mentio mentio-trigger-char=\\\"\\'@\\'\\\" mentio-items=\\\"people\\\" \\nmentio-template-url=\\\"app/mentio/people-mentions.html\\\" mentio-search=\\\"searchPeople(term)\\\" \\nmentio-select=\\\"getPeopleTextRaw(item)\\\" mentio-id=\\\"\\'theTextArea\\'\\\" ng-trim=\\\"false\\\" ng-model=\\\"form.text\\\" id=\\\"textComment\\\" \\nplaceholder=\\\"{{\\'commentInHere\\' | translate}}\\\" required minlength=\\\"1\\\" maxlength=\\\"1500\\\">\\n                </textarea>\\n</label><div class=\\\"footer-btn-wrap\\\"><button class=\\\"button button-positive button-outline\\\" type=\\\"submit\\\" \\nng-disabled=\\\"!form.text || form.text === \\'\\'\\\" translate=\\\"submit\\\"></button></div></ion-footer-bar></form></ion-view>\");\n$templateCache.put(\"app/main/loading/loading.html\",\"<ion-view id=\\\"user-layout\\\" class=\\\"bg-animate\\\"><ion-content></ion-content></ion-view>\");\n$templateCache.put(\"app/main/profile/profile.html\",\"<ion-view cache-view=\\\"false\\\" id=\\\"account-view\\\"><ion-nav-bar class=\\\"bar bar-{{theme}}\\\"><ion-nav-back-button>\\n</ion-nav-back-button></ion-nav-bar><ion-nav-title><span>{{ vm.user.name }}</span></ion-nav-title><ion-content \\nscroll-sista=\\\"header-tabs\\\" class=\\\"animated fadeIn\\\"><ion-refresher pulling-text=\\\"Loading\\\" on-refresh=\\\"onReload()\\\">\\n</ion-refresher><div class=\\\"profile-top\\\"><div class=\\\"row\\\"><div class=\\\"col-25\\\"><img class=\\\"avatar\\\" user-avatar \\nng-model=\\\"vm.user\\\" img-cache ic-default=\\\"img/user.png\\\" ic-src=\\\"{{ vm.user.photo._url || \\'img/user.png\\' }}\\\"></div><div \\nclass=\\\"col col-statics\\\"><div class=\\\"row\\\"><div class=\\\"col\\\"><span class=\\\"text-center\\\">{{ vm.user.galleriesTotal || 0}}\\n</span><h3 translate=\\\"postsText\\\"></h3></div><div class=\\\"col\\\" ng-click=\\\"vm.openFollowers()\\\"><span class=\\\"text-center\\\">\\n{{ vm.user.followersTotal || 0}}</span><h3 translate=\\\"followersText\\\"></h3></div><div class=\\\"col\\\" \\nng-click=\\\"vm.openFollowing()\\\"><span class=\\\"text-center\\\">{{ vm.user.followingsTotal || 0}}</span><h3 \\ntranslate=\\\"followingText\\\"></h3></div></div><div class=\\\"row col-edit\\\"><div class=\\\"col center\\\" ng-if=\\\"vm.loading\\\">\\n<ion-spinner></ion-spinner></div><div class=\\\"col\\\" ng-if=\\\"vm.isMe && !vm.loading\\\"><button profile-modal-edit \\nuser=\\\"vm.user\\\" class=\\\"button\\\"><div translate=\\\"editProfile\\\"></div></button></div><div class=\\\"col\\\" \\nng-if=\\\"!vm.isMe && !vm.loading\\\"><button \\nng-class=\\\"{\\'button-unfollow\\': vm.user.isFollow, \\'button-follow\\': !vm.user.isFollow}\\\" ng-click=\\\"vm.follow()\\\" \\nclass=\\\"button\\\"><span ng-show=\\\"!vm.user.isFollow\\\" translate>follow</span> <span ng-show=\\\"vm.user.isFollow\\\" translate>\\nunfollow</span></button></div></div></div></div><div class=\\\"padding\\\"><span class=\\\"user-username\\\">{{ vm.user.name }}\\n</span><p class=\\\"user-status\\\">{{ vm.user.status }}</p></div></div><div class=\\\"item bar\\\"><div class=\\\"button-bar\\\"><button\\n class=\\\"button button-icon icon ion-grid\\\" ng-class=\\\"{\\'active\\': vm.tab.grid}\\\" ng-click=\\\"vm.changeTab(\\'grid\\')\\\"></button> \\n<button class=\\\"button button-icon icon ion-ios-camera-outline\\\" ng-class=\\\"{\\'active\\': vm.tab.album}\\\" \\nng-click=\\\"vm.changeTab(\\'album\\')\\\"></button> <button class=\\\"button button-icon icon ion-drag\\\" \\nng-class=\\\"{\\'active\\': vm.tab.list}\\\" ng-click=\\\"vm.changeTab(\\'list\\')\\\"></button> <button \\nclass=\\\"button button-icon icon ion-ios-location-outline\\\" ng-class=\\\"{\\'active\\': vm.tab.map}\\\" \\nng-click=\\\"vm.changeTab(\\'map\\')\\\"></button></div></div><div ng-if=\\\"!vm.loading\\\"><div class=\\\"tab\\\" \\nng-if=\\\"vm.tab.grid && !vm.loading\\\"><div class=\\\"item item-divider\\\" translate=\\\"recent\\\"></div><photo-grid \\nusername=\\\"vm.user.username\\\" on-reload=\\\"onReload\\\"></photo-grid></div><div class=\\\"tab\\\" \\nng-if=\\\"vm.tab.album && !vm.loading\\\"><div class=\\\"item item-divider\\\" translate=\\\"albums\\\"></div><album-grid \\nusername=\\\"vm.user.username\\\" on-reload=\\\"onReload\\\"></album-grid></div><div class=\\\"tab\\\" \\nng-if=\\\"vm.tab.list && !vm.loading\\\"><div class=\\\"item item-divider\\\" translate=\\\"recent\\\"></div><photo-list \\nusername=\\\"vm.user.username\\\" on-reload=\\\"onReload\\\"></photo-list></div><div class=\\\"tab\\\" ng-if=\\\"vm.tab.map && !vm.loading\\\">\\n<div class=\\\"item item-divider\\\" translate=\\\"map\\\"></div><map-photo-user username=\\\"vm.user.username\\\" on-reload=\\\"onReload\\\">\\n</map-photo-user></div></div></ion-content></ion-view>\");\n$templateCache.put(\"app/main/profile-photo/profile-photo.html\",\"<ion-view cache-view=\\\"false\\\" id=\\\"account-view\\\"><ion-nav-bar class=\\\"bar bar-{{theme}}\\\"><ion-nav-back-button>\\n</ion-nav-back-button></ion-nav-bar><ion-nav-title><span translate=\\\"photo\\\"></span></ion-nav-title><ion-content \\nscroll-sista=\\\"header-tabs\\\" class=\\\"animated fadeIn\\\"><photo-list id=\\\"vm.id\\\" profile=\\\"true\\\" load=\\\"vm.openProfile\\\" \\nopen-likers=\\\"vm.openLikers\\\" on-reload=\\\"onReload\\\"></photo-list></ion-content></ion-view>\");\n$templateCache.put(\"app/main/share/share-modal.html\",\"<ion-modal-view class=\\\"modal-share\\\"><form name=\\\"rForm\\\" novalidate><ion-header-bar class=\\\"bar bar-{{theme}}\\\"><button \\nclass=\\\"button button-clear button-clear\\\" ng-click=\\\"close()\\\" translate=\\\"cancel\\\"></button><div class=\\\"title\\\" \\ntranslate=\\\"shareGalleryText\\\"></div><button class=\\\"button button-clear\\\" ng-click=\\\"submit(rForm, form)\\\" \\ntranslate=\\\"submit\\\"></button></ion-header-bar><ion-content><div class=\\\"list\\\"><div class=\\\"item item-thumbnail-left\\\"><img \\nng-src=\\\"{{image}}\\\" ng-click=\\\"editFilter()\\\"><textarea mentio mentio-trigger-char=\\\"\\'@\\'\\\" mentio-items=\\\"people\\\" \\nmentio-template-url=\\\"app/mentio/people-mentions.html\\\" mentio-search=\\\"searchPeople(term)\\\" \\nmentio-select=\\\"getPeopleTextRaw(item)\\\" mentio-id=\\\"\\'theTextArea\\'\\\" ng-trim=\\\"false\\\" type=\\\"text\\\" ng-model=\\\"form.title\\\" \\nplaceholder=\\\"{{ \\'description\\'|translate }}\\\"></textarea></div><label class=\\\"item item-input item-select\\\"><div \\nclass=\\\"input-label\\\" translate=\\\"privacity\\\"></div><select><option value=\\\"public\\\" translate=\\\"public\\\"></option><option \\nvalue=\\\"follow\\\" translate=\\\"followers\\\"></option><option value=\\\"me\\\" translate=\\\"me\\\"></option></select></label><div \\nclass=\\\"item item-divider\\\" translate=\\\"shareLocation\\\"></div><div class=\\\"item item-icon-left\\\" ion-location \\nng-model=\\\"form.address\\\" ng-if=\\\"!form.address.resume\\\"><i class=\\\"icon ion-ios-location\\\"></i> <span translate=\\\"addLocale\\\">\\n</span></div><a class=\\\"item item-icon-left item-button-right\\\" ng-if=\\\"form.address.resume\\\"><i \\nclass=\\\"icon ion-ios-location\\\"></i><h2>{{form.address.name || form.address.resume}}</h2><p>{{form.address.resume}}</p>\\n<button class=\\\"button button-icon\\\" ng-click=\\\"closeAddress()\\\"><i class=\\\"icon ion-ios-close\\\"></i></button></a><div \\nclass=\\\"item item-divider\\\" translate=\\\"selectAlbumText\\\"></div><div class=\\\"item item-thumbnail-left\\\" gallery-album-modal \\nng-model=\\\"form.album\\\"><img ng-src=\\\"{{form.album.imageThumb._url || \\'img/albumnone.png\\'}}\\\"><h2 \\nng-if=\\\"!form.album.title\\\" translate=\\\"clickSelectAlbum\\\"></h2><h2 ng-if=\\\"form.album\\\" ng-bind=\\\"form.album.title\\\"></h2><p \\nng-if=\\\"form.album\\\">{{form.album.qtyPhotos}} photos</p></div></div></ion-content></form></ion-modal-view>\");\n$templateCache.put(\"app/main/tab/main-tab.html\",\"<ion-view cache-view=\\\"true\\\"><ion-nav-bar class=\\\"bar bar-{{theme}}\\\"><ion-nav-back-button></ion-nav-back-button>\\n</ion-nav-bar><ion-tabs class=\\\"tabs-light tabs-photogram\\\"><ion-tab icon-on=\\\"ion-ios-home\\\" \\nicon-off=\\\"ion-ios-home-outline\\\" ui-sref=\\\"tab.home\\\"><ion-nav-view name=\\\"tabHome\\\"></ion-nav-view></ion-tab><ion-tab \\nicon-on=\\\"ion-ios-world\\\" icon-off=\\\"ion-ios-world-outline\\\" ui-sref=\\\"tab.search\\\"><ion-nav-view name=\\\"tabSearch\\\">\\n</ion-nav-view></ion-tab><ion-tab class=\\\"middle\\\" icon-on=\\\"ion-ios-camera\\\" icon-off=\\\"ion-ios-camera-outline\\\" \\nng-click=\\\"vm.postPhoto()\\\"><ion-nav-view name=\\\"tabCapture\\\"></ion-nav-view></ion-tab><ion-tab icon-on=\\\"ion-ios-heart\\\" \\nicon-off=\\\"ion-ios-heart-outline\\\" badge=\\\"badge\\\" ui-sref=\\\"tab.activity\\\"><ion-nav-view name=\\\"tabActivity\\\"></ion-nav-view>\\n</ion-tab><ion-tab icon-on=\\\"ion-ios-person\\\" icon-off=\\\"ion-ios-person-outline\\\" ui-sref=\\\"tab.account\\\"><ion-nav-view \\nname=\\\"tabProfile\\\"></ion-nav-view></ion-tab></ion-tabs></ion-view>\");\n$templateCache.put(\"app/main/tab-account/account.html\",\"<ion-view cache-view=\\\"false\\\" id=\\\"account-view\\\"><ion-nav-title><span>{{ vm.user.attributes.name }}</span>\\n</ion-nav-title><ion-nav-buttons side=\\\"right\\\"><button settings-modal class=\\\"button button-icon icon ion-gear-a\\\">\\n</button></ion-nav-buttons><ion-content><div class=\\\"profile-top\\\"><div class=\\\"row\\\"><div class=\\\"col-25\\\"><img \\nclass=\\\"avatar\\\" user-avatar ng-model=\\\"currentUser\\\" img-cache ic-default=\\\"img/user.png\\\" \\nic-src=\\\"{{ currentUser.photo.url() || \\'img/user.png\\' }}\\\"></div><div class=\\\"col col-statics\\\"><div class=\\\"row\\\"><div \\nclass=\\\"col\\\"><span ng-if=\\\"!vm.loading\\\" class=\\\"text-center\\\">{{ vm.user.attributes.galleriesTotal || 0}}</span>\\n<ion-spinner ng-if=\\\"vm.loading\\\"></ion-spinner><h3 translate=\\\"postsText\\\"></h3></div><div class=\\\"col\\\" \\nng-click=\\\"vm.openFollowers()\\\"><span ng-if=\\\"!vm.loading\\\" class=\\\"text-center\\\">{{ vm.user.attributes.followersTotal || 0}}\\n</span><ion-spinner ng-if=\\\"vm.loading\\\"></ion-spinner><h3 translate=\\\"followersText\\\"></h3></div><div class=\\\"col\\\" \\nng-click=\\\"vm.openFollowing()\\\"><span ng-if=\\\"!vm.loading\\\" class=\\\"text-center\\\">\\n{{ vm.user.attributes.followingsTotal || 0}}</span><ion-spinner ng-if=\\\"vm.loading\\\"></ion-spinner><h3 \\ntranslate=\\\"followingText\\\"></h3></div></div><div class=\\\"row col-edit\\\"><div class=\\\"col\\\"><button profile-modal-edit \\nuser=\\\"vm.user\\\" class=\\\"button\\\"><div translate=\\\"editProfile\\\"></div></button></div></div></div></div><div class=\\\"padding\\\">\\n<span class=\\\"user-username\\\">{{ vm.user.attributes.name }}</span><p class=\\\"user-status\\\">{{ vm.user.attributes.status }}\\n</p></div></div><div class=\\\"item bar\\\"><div class=\\\"button-bar\\\"><button class=\\\"button button-icon icon ion-grid\\\" \\nng-class=\\\"{\\'active\\': vm.tab.grid}\\\" ng-click=\\\"vm.changeTab(\\'grid\\')\\\"></button> <button \\nclass=\\\"button button-icon icon ion-ios-camera-outline\\\" ng-class=\\\"{\\'active\\': vm.tab.album}\\\" \\nng-click=\\\"vm.changeTab(\\'album\\')\\\"></button> <button class=\\\"button button-icon icon ion-drag\\\" \\nng-class=\\\"{\\'active\\': vm.tab.list}\\\" ng-click=\\\"vm.changeTab(\\'list\\')\\\"></button> <button \\nclass=\\\"button button-icon icon ion-ios-location-outline\\\" ng-class=\\\"{\\'active\\': vm.tab.map}\\\" \\nng-click=\\\"vm.changeTab(\\'map\\')\\\"></button></div></div><div class=\\\"tab\\\" ng-if=\\\"vm.tab.grid && !vm.loading\\\"><div \\nclass=\\\"item item-divider\\\" translate=\\\"recent\\\"></div><photo-grid username=\\\"vm.user.attributes.username\\\" \\non-reload=\\\"onReload\\\"></photo-grid></div><div class=\\\"tab\\\" ng-if=\\\"vm.tab.album && !vm.loading\\\"><div \\nclass=\\\"item item-divider\\\" translate=\\\"albums\\\"></div><album-grid username=\\\"vm.user.attributes.username\\\" \\non-reload=\\\"onReload\\\"></album-grid></div><div class=\\\"tab\\\" ng-if=\\\"vm.tab.list && !vm.loading\\\"><div \\nclass=\\\"item item-divider\\\" translate=\\\"recent\\\"></div><photo-list username=\\\"vm.user.attributes.username\\\" \\non-reload=\\\"onReload\\\"></photo-list></div><div class=\\\"tab\\\" ng-if=\\\"vm.tab.map && !vm.loading\\\"><div \\nclass=\\\"item item-divider\\\" translate=\\\"map\\\"></div><map-photo-user username=\\\"vm.user.attributes.username\\\" \\non-reload=\\\"onReload\\\"></map-photo-user></div></ion-content></ion-view>\");\n$templateCache.put(\"app/main/tab-activity/activity.html\",\"<ion-view class=\\\"list-activity\\\"><ion-nav-title><span translate=\\\"activities\\\"></span></ion-nav-title><ion-content><div \\nclass=\\\"center padding\\\" ng-if=\\\"loading &&!data.length\\\"><ion-spinner></ion-spinner></div><div class=\\\"center padding\\\" \\nng-if=\\\"showErrorView\\\"><div class=\\\"error\\\"><i class=\\\"icon icon-large ion-ios-cloud-download-outline\\\"></i><p>\\n{{ \\\"errorText\\\" | translate }}</p><button class=\\\"button button-positive\\\" ng-click=\\\"onReload()\\\">\\n{{ \\\"tryAgainText\\\" | translate }}</button></div></div><div class=\\\"center padding\\\" ng-if=\\\"showEmptyView\\\"><div \\nclass=\\\"error\\\"><i class=\\\"icon icon-large ion-android-alert\\\"></i><p>{{ \\\"activityNotFoundText\\\" | translate }}</p></div>\\n</div><ion-refresher pulling-text=\\\"{{\\'loadingText\\'| translate}}\\\" on-refresh=\\\"onReload()\\\"></ion-refresher><div \\nclass=\\\"list\\\"><div class=\\\"item item-avatar item-animate1\\\" ng-repeat=\\\"item in data | orderBy:\\'createdAt\\':true\\\"><img \\nimg-cache ic-default=\\\"img/user.png\\\" ic-src=\\\"{{ item.user.photo._url  || \\'./img/user.png\\'}}\\\"><h2 \\nng-click=\\\"openProfile(item.user.username)\\\">{{ item.user.username}}</h2><div class=\\\"text\\\">{{ item.action | translate }}\\n</div><p>{{ item.createdAt | amTimeAgo }}</p><div class=\\\"img-right\\\" ng-if=\\\"item.item.gallery\\\"><img img-cache \\nic-default=\\\"img/user.png\\\" ic-src=\\\"{{ item.item.gallery.attributes.imageThumb._url}}\\\"></div><div \\nclass=\\\"item-button-right\\\" ng-if=\\\"!item.item.gallery\\\"><button class=\\\"button button-positive\\\" \\nng-disabled=\\\"item.user.loading\\\" \\nng-class=\\\"{\\'button-unfollow\\': item.user.isFollow, \\'button-outline\\': !item.user.isFollow}\\\" ng-click=\\\"follow(item.user)\\\">\\n<div ng-show=\\\"!item.user.isFollow\\\" translate>follow</div><div ng-show=\\\"item.user.isFollow\\\" translate>unfollow</div>\\n</button></div></div></div><ion-infinite-scroll on-infinite=\\\"onLoadMore()\\\" ng-if=\\\"moreDataCanBeLoaded\\\" spinner \\ndistance=\\\"1%\\\"></ion-infinite-scroll></ion-content></ion-view>\");\n$templateCache.put(\"app/main/tab-home/home.html\",\"<ion-view id=\\\"view-home\\\"><ion-nav-buttons side=\\\"left\\\"><button \\nclass=\\\"button button-icon icon ion-ios-personadd-outline\\\" ui-sref=\\\"tab.homeUserlist\\\"></button></ion-nav-buttons>\\n<ion-nav-title><span class=\\\"icon2-logo\\\"></span></ion-nav-title><div class=\\\"bar bar-subheader bar-positive\\\"><div \\nclass=\\\"button-bar\\\"><button class=\\\"button button-block button-positive icon-left ion-android-globe\\\" \\nng-click=\\\"vm.onFeed(\\'public\\')\\\" ng-class=\\\"{\\'active\\': vm.type ===\\'public\\'}\\\" translate=\\\"public\\\"></button> <button \\nclass=\\\"button button-block button-positive icon-left ion-ios-people\\\" ng-click=\\\"vm.onFeed(\\'follow\\')\\\" \\nng-class=\\\"{\\'active\\': vm.type ===\\'follow\\'}\\\" translate=\\\"followers\\\"></button> <button \\nclass=\\\"button button-block button-positive icon-left ion-ios-locked\\\" ng-click=\\\"vm.onFeed(\\'me\\')\\\" \\nng-class=\\\"{\\'active\\': vm.type ===\\'me\\'}\\\" translate=\\\"me\\\"></button></div></div><ion-content class=\\\"has-header\\\">\\n<ion-refresher pulling-text=\\\"Loading\\\" on-refresh=\\\"onReload()\\\"></ion-refresher><photo-list profile=\\\"true\\\" \\ntype=\\\"vm.type\\\" load=\\\"vm.openProfile\\\" open-likers=\\\"vm.openLikers\\\" on-reload=\\\"onReload\\\"></photo-list></ion-content>\\n</ion-view>\");\n$templateCache.put(\"app/main/tab-search/search.html\",\"<ion-view><ion-nav-title><span>{{ \\'searchText\\' | translate }}</span></ion-nav-title><ion-nav-buttons side=\\\"right\\\">\\n<button class=\\\"button button-icon ion-ios-location\\\" ui-sref=\\\"tab.map\\\"></button></ion-nav-buttons><ion-header-bar \\nclass=\\\"bar bar-{{theme}} bar-subheader item-input-inset\\\"><label class=\\\"item-input-wrapper\\\"><i \\nclass=\\\"icon ion-ios-search placeholder-icon\\\"></i> <input type=\\\"text\\\" ng-model=\\\"searchValue\\\" ng-change=\\\"onSearch()\\\" \\nng-model-options=\\\"{debounce:1000}\\\" style=\\\"text-transform:lowercase\\\" placeholder=\\\"{{ \\'searchText\\' | translate }}\\\">\\n</label><button class=\\\"button button-clear\\\" ng-if=\\\"searchValue.length>1\\\" ng-click=\\\"clearSearch()\\\" translate=\\\"cancel\\\">\\n</button></ion-header-bar><ion-content class=\\\"has-subheader\\\"><ion-refresher pulling-text=\\\"Loading\\\" \\non-refresh=\\\"onReload()\\\"></ion-refresher><div class=\\\"center padding\\\" ng-if=\\\"showErrorView\\\"><div class=\\\"error\\\"><i \\nclass=\\\"icon icon-large ion-ios-cloud-download-outline\\\"></i><p>{{ \\\"errorText\\\" | translate }}</p><button \\nclass=\\\"button button-primary\\\" ng-click=\\\"onReload\\\">{{ \\\"tryAgainText\\\" | translate }}</button></div></div><div \\nclass=\\\"center padding\\\" ng-if=\\\"showEmptyView\\\"><div class=\\\"error\\\"><i class=\\\"icon icon-large ion-android-alert\\\"></i><p>\\n{{ \\\"galleriesNotFoundText\\\" | translate }}</p></div></div><div class=\\\"center padding\\\" ng-if=\\\"loading\\\"><ion-spinner>\\n</ion-spinner></div><div class=\\\"row\\\" ng-if=\\\"$index % 3 === 0\\\" ng-repeat=\\\"image in data | orderBy:\\'createdAt\\':true\\\"><div\\n class=\\\"col col-33\\\" ui-sref=\\\"tab.searchProfile({username: data[$index].user.username})\\\"><img profile-modal \\nuser=\\\"data[$index].user.obj\\\" img-cache ic-default=\\\"img/user.png\\\" ic-src=\\\"{{ data[$index].imageThumb._url}}\\\" \\nwidth=\\\"100%\\\"></div><div class=\\\"col col-33\\\" ng-if=\\\"$index + 1\\\" \\nui-sref=\\\"tab.searchProfile({username: data[$index].user.username})\\\"><img profile-modal \\nuser=\\\"data[$index + 1].user.obj\\\" img-cache ic-default=\\\"img/user.png\\\" ic-src=\\\"{{ data[$index + 1].imageThumb._url}}\\\" \\nwidth=\\\"100%\\\"></div><div class=\\\"col col-33\\\" ng-if=\\\"$index + 2\\\" \\nui-sref=\\\"tab.searchProfile({username: data[$index].user.username})\\\"><img profile-modal \\nuser=\\\"data[$index + 2].user.obj\\\" img-cache ic-default=\\\"img/user.png\\\" ic-src=\\\"{{ data[$index + 2].imageThumb._url}}\\\" \\nwidth=\\\"100%\\\"></div></div><ion-infinite-scroll on-infinite=\\\"onLoadMore()\\\" ng-if=\\\"moreDataCanBeLoaded\\\" spinner \\ndistance=\\\"1%\\\"></ion-infinite-scroll></ion-content></ion-view>\");\n$templateCache.put(\"app/main/tab-search-map/searchMap.html\",\"<ion-view id=\\\"view-map\\\"><ion-nav-title>{{ \\'mapTitle\\' | translate }}</ion-nav-title><ion-content scroll=\\\"false\\\"><div \\nid=\\\"map_canvas\\\" data-tap-disabled=\\\"true\\\"></div></ion-content><ion-footer-bar><div class=\\\"row\\\" ng-if=\\\"loading\\\"><div \\nclass=\\\"col\\\"><div class=\\\"center\\\"><ion-spinner></ion-spinner></div></div></div><button ng-if=\\\"!loading\\\" \\nclass=\\\"button button-positive button-block button-outline\\\" ng-click=\\\"loadMyLocation()\\\">{{ \\'searchInHere\\' | translate }}\\n</button></ion-footer-bar></ion-view>\");\n$templateCache.put(\"app/main/user-avatar/user-avatar.html\",\"<ion-view><ion-header-bar class=\\\"bar-positive\\\"><h1 class=\\\"title\\\" translate=\\\"Profile\\\"></h1></ion-header-bar>\\n<ion-content><div class=\\\"row step1\\\"><div class=\\\"col\\\"><img class=\\\"avatar\\\" user-avatar ng-model=\\\"user\\\" \\nng-src=\\\"{{ currentUser.photo.url() || \\'img/user.png\\' }}\\\"></div></div><div class=\\\"step2\\\"><form name=\\\"myForm\\\" \\nnovalidate=\\\"novalidate\\\" on-submit=\\\"submitAvatar(myForm, form)\\\"><label class=\\\"item item-input validated\\\"><i \\nclass=\\\"icon icon-envelope placeholder-icon\\\"></i> <input required=\\\"required\\\" type=\\\"email\\\" name=\\\"email\\\" \\nng-model=\\\"form.email\\\" placeholder=\\\"user@example.com\\\"></label><label class=\\\"item item-input validated\\\"><i \\nclass=\\\"icon ion-at placeholder-icon\\\"></i> <input required=\\\"required\\\" type=\\\"text\\\" name=\\\"username\\\" \\nng-model=\\\"form.username\\\" ng-minlength=\\\"4\\\" ng-maxlength=\\\"12\\\" ng-model-options=\\\"{debounce: 1000}\\\" \\nplaceholder=\\\"{{\\'yourLogin\\' | translate}}\\\"></label><div ng-if=\\\"myForm.username.$dirty\\\"><div \\nng-messages=\\\"myForm.email.$error\\\" class=\\\"validation-error\\\"><div ng-message=\\\"required\\\" translate=\\\"usernameRequired\\\">\\n</div><div ng-message=\\\"email\\\" translate=\\\"usernameInUse\\\"></div></div><div ng-messages=\\\"myForm.email.$pending\\\" \\nclass=\\\"validation-pending\\\"><div ng-message=\\\"email\\\" translate=\\\"checkingUsername\\\"></div></div></div><label \\nclass=\\\"item item-input validated\\\"><i class=\\\"icon icon-user placeholder-icon\\\"></i> <input required type=\\\"text\\\" \\nname=\\\"name\\\" ng-model=\\\"form.name\\\" placeholder=\\\"{{\\'name\\'|translate}}\\\"></label><label class=\\\"item item-input validated\\\"><i\\n class=\\\"icon ion-pound placeholder-icon\\\"></i> <input required type=\\\"text\\\" name=\\\"status\\\" ng-model=\\\"form.status\\\" \\nplaceholder=\\\"{{\\'status\\'|translate}}\\\"></label><div class=\\\"padding\\\"><button class=\\\"button button-block button-positive\\\" \\ntype=\\\"submit\\\" translate=\\\"{{\\'submit\\' | translate}}\\\"></button></div></form></div></ion-content></ion-view>\");\n$templateCache.put(\"app/main/user-followers/user-followers.html\",\"<ion-view id=\\\"user-list\\\"><ion-nav-title><span translate=\\\"followersText\\\"></span></ion-nav-title><ion-header-bar \\nclass=\\\"bar bar-{{theme}} bar-subheader item-input-inset\\\"><label class=\\\"item-input-wrapper\\\"><i \\nclass=\\\"icon ion-ios-search placeholder-icon\\\"></i> <input type=\\\"text\\\" ng-model=\\\"searchValue\\\" \\nstyle=\\\"text-transform:lowercase\\\" placeholder=\\\"{{ \\'searchText\\' | translate }}\\\"></label><button \\nclass=\\\"button button-positive button-clear\\\" ng-if=\\\"searchValue.length>1\\\" ng-click=\\\"clearSearch()\\\" translate=\\\"cancel\\\">\\n</button></ion-header-bar><ion-content class=\\\"has-subheader\\\"><div class=\\\"center padding\\\" ng-if=\\\"vm.loading\\\">\\n<ion-spinner></ion-spinner></div><div class=\\\"list\\\"><div ng-repeat=\\\"user in vm.users | filter:searchValue\\\"><a \\nclass=\\\"item item-avatar item-button-right\\\"><img img-cache ic-default=\\\"img/user.png\\\" \\nic-src=\\\"{{ user.photo._url || \\'img/user.png\\'}}\\\" ng-click=\\\"vm.openProfile(user)\\\"><h2 ng-click=\\\"vm.openProfile(user)\\\">\\n{{user.username}}</h2><p>{{user.status}}</p><button class=\\\"button button-positive\\\" \\nng-class=\\\"{\\'button-unfollow\\': user.isFollow, \\'button-outline\\': !user.isFollow}\\\" ng-click=\\\"vm.follow(user)\\\"><div \\nng-show=\\\"!user.isFollow\\\" translate>follow</div><div ng-show=\\\"user.isFollow\\\" translate>unfollow</div></button> </a><span\\n class=\\\"row\\\"><span class=\\\"col\\\" ng-repeat=\\\"gallery in user.galleries\\\"><img img-cache ic-default=\\\"img/user.png\\\" \\nic-src=\\\"{{ gallery.imageThumb._url}}\\\" id=\\\"{{ ::gallery.id}}\\\"></span></span></div></div></ion-content></ion-view>\");\n$templateCache.put(\"app/main/user-following/user-following.html\",\"<ion-view id=\\\"user-list\\\"><ion-nav-title><span translate=\\\"followingText\\\"></span></ion-nav-title><ion-header-bar \\nclass=\\\"bar bar-{{theme}} bar-subheader item-input-inset\\\"><label class=\\\"item-input-wrapper\\\"><i \\nclass=\\\"icon ion-ios-search placeholder-icon\\\"></i> <input type=\\\"text\\\" ng-model=\\\"searchValue\\\" \\nstyle=\\\"text-transform:lowercase\\\" placeholder=\\\"{{ \\'searchText\\' | translate }}\\\"></label><button \\nclass=\\\"button button-positive button-clear\\\" ng-if=\\\"searchValue.length>1\\\" ng-click=\\\"clearSearch()\\\" translate=\\\"cancel\\\">\\n</button></ion-header-bar><ion-content class=\\\"has-subheader\\\"><div class=\\\"center padding\\\" ng-if=\\\"vm.loading\\\">\\n<ion-spinner></ion-spinner></div><div class=\\\"list\\\"><div ng-repeat=\\\"user in vm.users | filter:searchValue\\\"><a \\nclass=\\\"item item-avatar item-button-right\\\"><img img-cache ic-default=\\\"img/user.png\\\" \\nic-src=\\\"{{ user.photo._url || \\'img/user.png\\'}}\\\" ng-click=\\\"vm.openProfile(user)\\\"><h2 ng-click=\\\"vm.openProfile(user)\\\">\\n{{user.username}}</h2><p>{{user.status}}</p><button class=\\\"button button-positive\\\" \\nng-class=\\\"{\\'button-unfollow\\': user.isFollow, \\'button-outline\\': !user.isFollow}\\\" ng-click=\\\"vm.follow(user)\\\"><div \\nng-show=\\\"!user.isFollow\\\" translate>follow</div><div ng-show=\\\"user.isFollow\\\" translate>unfollow</div></button> </a><span\\n class=\\\"row\\\"><span class=\\\"col\\\" ng-repeat=\\\"gallery in user.galleries\\\"><img img-cache ic-default=\\\"img/user.png\\\" \\nic-src=\\\"{{ gallery.imageThumb._url}}\\\" id=\\\"{{ ::gallery.id}}\\\"></span></span></div></div></ion-content></ion-view>\");\n$templateCache.put(\"app/main/user-intro/user-intro.html\",\"<ion-view id=\\\"user-layout\\\" class=\\\"view-intro bg-animate\\\" cache-view=\\\"false\\\"><div class=\\\"bar bar-header\\\"><ion-language>\\n</ion-language></div><ion-content scroll=\\\"false\\\"><div class=\\\"intro-slider\\\"><ion-slide-box active-slide=\\\"slideIndex\\\" \\nshow-pager=\\\"true\\\" on-slide-changed=\\\"vm.slideChanged($index)\\\"><ion-slide ng-repeat=\\\"item in vm.slides track by $index\\\">\\n<div class=\\\"content\\\" ng-if=\\\"$index == vm.slideIndex\\\"><span class=\\\"top\\\"><h2>{{ item.text | translate }}</h2></span><div \\nclass=\\\"phone {{ vm.device }}\\\"><img ng-src=\\\"{{ item.img }}\\\"></div></div></ion-slide></ion-slide-box></div><button \\nclass=\\\"button button-positive button-fab left\\\" ng-if=\\\"vm.slideIndex\\\" ng-click=\\\"vm.previous()\\\"><i \\nclass=\\\"icon ion-ios-arrow-left\\\"></i></button> <button class=\\\"button button-positive button-fab right\\\" \\nng-hide=\\\"vm.slideIndex === vm.slides.length-1\\\" ng-click=\\\"vm.next()\\\"><i class=\\\"icon ion-ios-arrow-right\\\"></i></button>\\n</ion-content><ion-footer-bar><facebook-login></facebook-login><div class=\\\"row\\\"><button \\nclass=\\\"button button-block button-calm\\\" translate=\\\"register\\\" signup-modal></button> <button \\nclass=\\\"button button-block button-positive\\\" translate=\\\"signin\\\" signin-modal></button></div></ion-footer-bar></ion-view>\");\n$templateCache.put(\"app/main/user-layout/user-layout.html\",\"<ion-view id=\\\"user-layout\\\" class=\\\"bg-animate\\\"><ion-content padding=\\\"false\\\"><ion-nav-view></ion-nav-view></ion-content>\\n</ion-view>\");\n$templateCache.put(\"app/main/user-likers/user-likers.html\",\"<ion-view id=\\\"user-list\\\"><ion-nav-title><span translate=\\\"likersText\\\"></span></ion-nav-title><ion-header-bar \\nclass=\\\"bar bar-subheader item-input-inset\\\"><label class=\\\"item-input-wrapper\\\"><i \\nclass=\\\"icon ion-ios-search placeholder-icon\\\"></i> <input type=\\\"text\\\" ng-model=\\\"searchValue\\\" \\nstyle=\\\"text-transform:lowercase\\\" placeholder=\\\"{{ \\'searchText\\' | translate }}\\\"></label><button \\nclass=\\\"button button-positive button-clear\\\" ng-if=\\\"searchValue.length>1\\\" ng-click=\\\"clearSearch()\\\" translate=\\\"cancel\\\">\\n</button></ion-header-bar><ion-content class=\\\"has-subheader\\\"><div class=\\\"center padding\\\" ng-if=\\\"vm.loading\\\">\\n<ion-spinner></ion-spinner></div><div class=\\\"list\\\"><div ng-repeat=\\\"user in vm.users | filter:searchValue\\\"><a \\nclass=\\\"item item-avatar item-button-right\\\"><img img-cache ic-default=\\\"img/user.png\\\" \\nng-src=\\\"{{ user.photo._url || \\'img/user.png\\'}}\\\" ng-click=\\\"vm.openProfile(user)\\\"><h2 ng-click=\\\"vm.openProfile(user)\\\">\\n{{user.username}}</h2><p>{{user.status}}</p><button class=\\\"button button-positive\\\" \\nng-class=\\\"{\\'button-unfollow\\': user.isFollow, \\'button-outline\\': !user.isFollow}\\\" ng-click=\\\"vm.follow(user)\\\"><div \\nng-show=\\\"!user.isFollow\\\" translate>Follow</div><div ng-show=\\\"user.isFollow\\\" translate>Unfollow</div></button> </a><span\\n class=\\\"row\\\"><span class=\\\"col\\\" ng-repeat=\\\"gallery in user.galleries\\\"><img img-cache ic-default=\\\"img/user.png\\\" \\nng-src=\\\"{{ gallery.imageThumb._url}}\\\" id=\\\"{{ ::gallery.id}}\\\"></span></span></div></div></ion-content></ion-view>\");\n$templateCache.put(\"app/main/user-list/user-list.html\",\"<ion-view id=\\\"user-list\\\" cache-view=\\\"true\\\"><ion-nav-title><span translate=\\\"findPeople\\\"></span></ion-nav-title>\\n<ion-header-bar class=\\\"bar bar-{{theme}} bar-subheader item-input-inset\\\"><label class=\\\"item-input-wrapper\\\"><i \\nclass=\\\"icon ion-ios-search placeholder-icon\\\"></i> <input type=\\\"text\\\" ng-model=\\\"searchValue\\\" ng-change=\\\"onSearch()\\\" \\nng-model-options=\\\"{debounce:1000}\\\" style=\\\"text-transform:lowercase\\\" placeholder=\\\"{{ \\'searchText\\' | translate }}\\\">\\n</label><button class=\\\"button button-clear\\\" ng-if=\\\"searchValue.length>1\\\" ng-click=\\\"clearSearch()\\\" translate=\\\"cancel\\\">\\n</button></ion-header-bar><ion-content class=\\\"has-subheader\\\"><div class=\\\"center padding\\\" ng-if=\\\"showErrorView\\\"><div \\nclass=\\\"error\\\"><i class=\\\"icon icon-large ion-ios-cloud-download-outline\\\"></i><p>{{ \\\"errorText\\\" | translate }}</p><button\\n class=\\\"button button-primary\\\" ng-click=\\\"onReload()\\\">{{ \\\"tryAgainText\\\" | translate }}</button></div></div><div \\nclass=\\\"center padding\\\" ng-if=\\\"showEmptyView\\\"><div class=\\\"error\\\"><i class=\\\"icon icon-large ion-android-alert\\\"></i><p>\\n{{ \\\"galleriesNotFoundText\\\" | translate }}</p></div></div><ion-refresher pulling-text=\\\"{{\\'loadingText\\'| translate}}\\\" \\non-refresh=\\\"onReload()\\\"></ion-refresher><div class=\\\"center padding\\\" ng-if=\\\"loading &&!data.length\\\"><ion-spinner>\\n</ion-spinner></div><div class=\\\"list\\\"><div ng-repeat=\\\"user in data \\\"><a class=\\\"item item-avatar item-button-right\\\"><img\\n img-cache ic-default=\\\"img/user.png\\\" ic-src=\\\"{{ user.photo._url || \\'img/user.png\\'}}\\\" ng-click=\\\"openProfile(user)\\\"><h2 \\nng-click=\\\"openProfile(user)\\\">{{user.username}}</h2><p>{{user.status}}</p><button class=\\\"button button-positive\\\" \\nng-disabled=\\\"user.loading\\\" ng-class=\\\"{\\'button-unfollow\\': user.isFollow, \\'button-outline\\': !user.isFollow}\\\" \\nng-click=\\\"follow(user)\\\"><div ng-show=\\\"!user.isFollow\\\" translate>follow</div><div ng-show=\\\"user.isFollow\\\" translate>\\nunfollow</div></button> </a><span class=\\\"row\\\"><span class=\\\"col\\\" ng-repeat=\\\"gallery in user.galleries\\\"><img img-cache \\nic-default=\\\"img/user.png\\\" ic-src=\\\"{{ gallery.imageThumb._url}}\\\" id=\\\"{{ ::gallery.id}}\\\"></span></span></div></div>\\n<ion-infinite-scroll on-infinite=\\\"onLoadMore()\\\" ng-if=\\\"moreDataCanBeLoaded\\\" spinner distance=\\\"1%\\\">\\n</ion-infinite-scroll></ion-content></ion-view>\");\n$templateCache.put(\"app/main/user-merge/merge.html\",\"<ion-view id=\\\"user-layout\\\" class=\\\"bg-animate\\\" cache-view=\\\"false\\\"><ion-content class=\\\"view-avatar padding\\\"><div \\nclass=\\\"row step1\\\"><div class=\\\"col\\\"><img class=\\\"avatar\\\" user-avatar \\nng-src=\\\"{{ tempUser.attributes.photo._url || \\'./img/user.png\\' }}\\\"></div></div><div class=\\\"step2\\\"><form name=\\\"myForm\\\" \\nnovalidate=\\\"novalidate\\\" ng-submit=\\\"submitMerge(myForm, form)\\\"><label class=\\\"item item-input\\\"><i \\nclass=\\\"icon icon-envelope placeholder-icon\\\"></i> <input required=\\\"required\\\" type=\\\"email\\\" name=\\\"email\\\" \\nng-model=\\\"form.email\\\" disabled=\\\"disabled\\\" placeholder=\\\"user@example.com\\\"></label><label class=\\\"item item-input\\\"><i \\nclass=\\\"icon icon-user placeholder-icon\\\"></i> <input required=\\\"required\\\" type=\\\"text\\\" name=\\\"username\\\" \\nng-model=\\\"form.username\\\" username-validator ng-minlength=\\\"4\\\" ng-maxlength=\\\"12\\\" ng-model-options=\\\"{debounce: 1000}\\\" \\nng-pattern=\\\"/^[a-zA-Z\\'. -]+$/\\\" placeholder=\\\"{{\\'yourLogin\\' | translate}}\\\"></label><div ng-if=\\\"myForm.username.$dirty\\\">\\n<div ng-messages=\\\"myForm.email.$error\\\" class=\\\"validation-error\\\"><div ng-message=\\\"required\\\" \\ntranslate=\\\"usernameRequired\\\"></div><div ng-message=\\\"email\\\" translate=\\\"usernameInUse\\\"></div></div><div \\nng-messages=\\\"myForm.email.$pending\\\" class=\\\"validation-pending\\\"><div ng-message=\\\"email\\\" translate=\\\"checkingUsername\\\">\\n</div></div></div><label class=\\\"item item-input\\\"><i class=\\\"icon icon-lock placeholder-icon\\\"></i> <input required \\ntype=\\\"password\\\" name=\\\"password\\\" ng-model=\\\"form.password\\\" placeholder=\\\"{{\\'password\\'|translate}}\\\"></label><button \\nclass=\\\"button button-block button-outline button-light\\\" type=\\\"submit\\\" translate=\\\"{{\\'submit\\' | translate}}\\\"></button>\\n</form></div><div class=\\\"padding step3\\\"><button ng-click=\\\"vm.submit(rForm, vm.form)\\\" \\nclass=\\\"button button-block button-facebook\\\"><i class=\\\"icon ion-social-facebook\\\"></i> <span translate=\\\"mergeAccount\\\">\\n</span></button></div></ion-content></ion-view>\");\n$templateCache.put(\"app/component/ion-photo/view/filter.modal.html\",\"<ion-modal-view id=\\\"photo-filter\\\"><ion-header-bar class=\\\"bar bar-{{theme}}\\\"><button \\nclass=\\\"button button-clear button-icon ion-ios-arrow-thin-left\\\" ng-click=\\\"closeModalFilter()\\\"></button><div \\nclass=\\\"title\\\">{{ \\'Filter\\' | translate }}</div><button class=\\\"button button-icon\\\" ng-click=\\\"submitFilter()\\\"><i \\nclass=\\\"icon ion-ios-arrow-thin-right\\\"></i></button></ion-header-bar><ion-content><div class=\\\"box-image\\\"><img \\nid=\\\"image\\\" src=\\\"{{form.photo}}\\\" ng-hide=\\\"loading\\\"><ion-spinner ng-show=\\\"loading\\\"></ion-spinner></div><img id=\\\"image3\\\" \\nsrc=\\\"\\\" style=\\\"display: none\\\"><div ng-show=\\\"showFilter\\\" class=\\\"slider-filters animate1\\\"><ion-scroll direction=\\\"x\\\" \\nclass=\\\"image-filter\\\"><a ng-repeat=\\\"filter in imageFilters\\\" ng-click=\\\"applyFilter(filter)\\\"><p>{{ filter.name }}</p><img \\nid=\\\"{{filter.id}}\\\" class=\\\"img-filter\\\" src=\\\"\\\"></a></ion-scroll><div class=\\\"row\\\"><div class=\\\"col\\\"><button \\nclass=\\\"button button-block bold\\\">Filter</button></div><div class=\\\"col\\\"><button class=\\\"button button-block\\\" \\nng-click=\\\"actionShowFilter(false)\\\">Edit</button></div></div></div><div ng-hide=\\\"showFilter\\\" class=\\\"slider-filters\\\"><div\\n ng-show=\\\"filterEdit\\\" class=\\\"slider-filters\\\"><p class=\\\"text-center\\\">{{filter.name}}</p><div \\nclass=\\\"item range range-positive\\\"><input type=\\\"range\\\" min=\\\"-100\\\" max=\\\"100\\\" ng-model=\\\"filter.slider.value\\\" \\nng-model-options=\\\"{debounce:100}\\\" step=\\\"0.1\\\"></div><div class=\\\"row\\\"><div class=\\\"col\\\"><button \\nclass=\\\"button button-block\\\" ng-click=\\\"cancelFilter(filter)\\\">Cancel</button></div><div class=\\\"col\\\"><button \\nclass=\\\"button button-block bold\\\" ng-click=\\\"doneFilter()\\\">Done</button></div></div></div><div ng-show=\\\"!filterEdit\\\" \\nclass=\\\"slider-filters\\\"><ion-scroll direction=\\\"x\\\"><a ng-repeat=\\\"filter in filters\\\" ng-click=\\\"selectFilter(filter)\\\"><p>\\n{{ filter.name }}</p><i class=\\\"icon {{filter.icon}}\\\"></i> </a><a ng-click=\\\"reset()\\\"><p>Reset</p><i \\nclass=\\\"icon ion-android-refresh\\\"></i></a></ion-scroll><div class=\\\"row\\\"><div class=\\\"col\\\"><button \\nclass=\\\"button button-block\\\" ng-click=\\\"actionShowFilter(true)\\\">Filter</button></div><div class=\\\"col\\\"><button \\nclass=\\\"button button-block bold\\\">Edit</button></div></div></div></div></ion-content></ion-modal-view>\");\n$templateCache.put(\"app/component/ion-photo/view/modal.share.photo.html\",\"<ion-modal-view class=\\\"modal-share\\\"><ion-header-bar class=\\\"bar-dark\\\"><div class=\\\"title\\\">{{ ::\\'Share\\' | translate }}\\n</div><button class=\\\"button button-positive\\\" ng-click=\\\"modal.hide()\\\"><i class=\\\"icon ion-arrow-right-b\\\"></i></button>\\n</ion-header-bar><ion-content ng-cloak><div id=\\\"image\\\"><img ng-src=\\\"{{ ::form.photo}}\\\"><div class=\\\"title\\\">\\n{{ ::form.title }}</div></div><ul class=\\\"list\\\"><li class=\\\"padding\\\"><button ng-repeat=\\\"social in sociais\\\" \\nng-click=\\\"share(form, social)\\\" class=\\\"button button-block button-{{ social }}\\\"><i class=\\\"icon ion-social-{{ social }}\\\">\\n</i> {{ ::social | uppercase }}</button></li></ul></ion-content></ion-modal-view>\");}]);\n}());\n"],"sourceRoot":"/source/"}